<div id="hwscan-item-{{ i }}" class="vtr-widget-hardware-scan-item" *ngFor="let item of items; let i = index">
	<div class="container-fluid">
		<div class="row">
			<div class="module-information">
				<div class="module-icon" *ngIf="item.icon !== undefined">

					<!-- Defines an icon according to the hardware component -->
					<div class="test-status" [ngSwitch]="item.icon">
						<img id="hwscan-item-{{ i }}-icon" alt="processor" class="img-icon" *ngSwitchCase="'cpu'" [src]="'assets/icons/hardware-scan/icon_hardware_processor.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="memory" class="img-icon" *ngSwitchCase="'memory'" [src]=" 'assets/icons/hardware-scan/icon_hardware_memory.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="motherboard" class="img-icon" *ngSwitchCase="'motherboard'" [src]=" 'assets/icons/hardware-scan/icon_hardware_motherboard.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="pci_express" class="img-icon" *ngSwitchCase="'pci_express'" [src]=" 'assets/icons/hardware-scan/icon_hardware_pci-desktop.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="pci_express" class="img-icon" *ngSwitchCase="'pci_express_laptop'" [src]=" 'assets/icons/hardware-scan/icon_hardware_pci-laptop.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="wireless" class="img-icon" *ngSwitchCase="'wireless'" [src]=" 'assets/icons/hardware-scan/icon_hardware_wireless.svg' | svgInline | async" />
						<img id="hwscan-item-{{ i }}-icon" alt="storage" class="img-icon" *ngSwitchCase="'storage'" [src]=" 'assets/icons/hardware-scan/icon_hardware_hdd.svg' | svgInline | async" />
					</div>

					<!-- Defines a style title based on the response received -->
					<div class="row">
						<p id="hwscan-item-{{ i }}-module" role="text" class="title">{{ ('hardwareScan.pluginTokens.' + item.module) | translateDefault:item.module }}</p>
						<p id="hwscan-item-{{ i }}-device" role="text" class="subtitle" *ngIf="item.name">{{ ('hardwareScan.pluginTokens.' + item.name) | translateDefault:item.name }}</p>

						<!-- Icon to expand and collapse details list -->
						<div *ngIf="isEnableViewResults || item.details"
							id="hwscan-item-{{ i }}-details-btn"
							class="details-link"
							tabindex="0"
							[attr.aria-label]="!item.detailsExpanded ? item.module + 'expand-module-details': item.module + 'collapse-module-details'"
							(click)="item.detailsExpanded = !item.detailsExpanded"
							(keyup.enter)="item.detailsExpanded = !item.detailsExpanded"
							role="button"
							[attr.aria-expanded]="item.detailsExpanded">
							<fa-icon *ngIf="!item.detailsExpanded; else expandIcon" [icon]="['fas', 'caret-right']"></fa-icon>
							<ng-template #expandIcon><fa-icon [icon]="['fas', 'caret-up']"></fa-icon></ng-template>
							<div *ngIf="!item.detailsExpanded; then showDetails else hideDetails"></div>
							<ng-template #showDetails>{{ 'hardwareScan.showDetails' | translate }}</ng-template>
							<ng-template #hideDetails>{{ 'hardwareScan.hideDetails' | translate }}</ng-template>
						</div>
					</div>
				</div>

				<div class="row not-wrap">
					<!-- Defines a status to module list when finish all subtests -->
					<vtr-ui-hardware-scan-test-result
						*ngIf="item.resultCode"
						[componentId]="'hwscan-item-' + i + '-test-result'"
						[module]="item">
					</vtr-ui-hardware-scan-test-result>

					<!-- Icon to expand and collapse test list -->
					<div class="col-auto collapse-item" *ngIf="isScanExecute && !isEnableViewResults && !isRecoverExecute">
						<div id="hwscan-item-{{ i }}-collapse-btn" class="collapse-control"
							tabindex="0"
							[attr.aria-label]="!item.expanded ? item.module + 'expand-test-list': item.module + 'collapse-test-list'"
							(click)="toggleTestListVisibility(item)"
							(keyup.enter)="toggleTestListVisibility(item)"
							role="button"
							[attr.aria-expanded]="item.expanded">
							<fa-icon *ngIf="!item.expanded; else expandArrow" [icon]="['fal', 'angle-down']"></fa-icon>
							<ng-template #expandArrow>
								<fa-icon [icon]="['fal', 'angle-up']"></fa-icon>
							</ng-template>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Details List with information about the module -->
		<div class="row details-list" *ngIf="(isEnableViewResults || item.details) && item.detailsExpanded">
			<table id="hwscan-item-{{ i }}-details" class="table table-details table-active table-borderless">
				<tbody>
					<tr *ngFor="let detail of item.details; let j = index">
						<th id="hwscan-item-{{ i }}-detail-{{ j }}-name">{{ ('hardwareScan.' + (isRecoverExecute ? 'recoverBadSectors.' : 'pluginTokens.') + detail.key) | translateDefault:detail.key }}</th>
						<td id="hwscan-item-{{ i }}-detail-{{ j }}-value">{{ detail.value | translateTokenByToken:'hardwareScan.pluginTokens.'}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="row col">
			<!-- Test List with collapsed running test-->
			<div class="test-list col" *ngIf="isScanExecute && !isEnableViewResults && !isRecoverExecute">
				<vtr-ui-hardware-list
					[componentId]="'hwscan-item-' + i + '-test'"
					[ngbCollapse]="!item.expanded"
					[items]="item.listTest"
					[template]="2">
				</vtr-ui-hardware-list>
			</div>

			<!-- Test List with deails test-->
			<div class="test-list col" *ngIf="isEnableViewResults || item.details || isRecoverExecute">
				<vtr-ui-hardware-list
					[componentId]="'hwscan-item-' + i + '-test'"
					[items]="item.listTest"
					[template]="2">
				</vtr-ui-hardware-list>
			</div>

			<!-- Result code information -->
			<div class="result-code" *ngIf="item.resultCode && (item.expanded || item.details)">
				<p class="title">{{resultCodeText}}:</p>
				<p id="hwscan-item-{{ i }}-result-code-value" role="text" class="subtitle">{{item.resultCode}}</p>
				<vtr-ui-question-mark-button
					*ngIf="item.information"
					componentId="hwscan-item-{{ i }}-result-code"
					class="question-mark-container"
					(clickEvent)="setTooltipInfo(item.information, i)"
					[ariaLabel]="item.module + 'result-code-tooltip, which reads:' + item.information"
					triggers="click"
					[ngbTooltip]="tooltipRefModule"
					container="vtr-root"
					tooltipClass="vtr-tooltip"
					placement="{{ isXsBreakpoint ? 'left' : 'auto' }}">
				</vtr-ui-question-mark-button>
			</div>
		</div>
		<hr aria-hidden="true">
	</div>
</div>
<ng-template #tooltipRefModule>
	<div id="hwscan-item-{{ tooltipIndex }}-result-code-tooltip-text">{{ ('hardwareScan.pluginTokens.' + tooltipText) | translateDefault:tooltipText }}</div>
	<vtr-ui-hyperlink-button
		linkId="hwscan-item-{{ tooltipIndex }}-result-code-tooltip-support-link"
		class="hyperlink-container"
		hyperlinkStyle="xs-300-blue-lighter"
		metricsItemID="HardwareScan.ResultSupport"
		metricsItemPosition="r1"
		metricsItemCategory="partnerarticle"
		metricsEvent="articleclick"
		metricsPageNumber="1"
		(hyperlinkClick)="openContactusPage()"
		[label]="'hardwareScan.support.subtitle' | translate">
	</vtr-ui-hyperlink-button>
</ng-template>
