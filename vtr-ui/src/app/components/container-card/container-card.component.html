<div *ngIf="isLoading && isOnline">
	<div class="container-card"
		#containerCardLoading
		[style.height.px]="containerCardLoading.clientWidth / ratio">
		<div class="container-fluid position-relative">
			<div class="loader center-block">
				<div class="spinner-border text-secondary progress-spinner"
					role="status"></div>
			</div>
		</div>
	</div>
</div>

<div *ngIf="!isLoading || !isOnline">
	<div class="container-card card-corner"
		*ngIf="type === 'corner'"
		#containerCardCorner
		[style.height.px]="containerCardCorner.clientWidth / ratio">
		<div class="container-fluid">
			<div class="row">
				<div class="col col-12 content">
					<a [class.default-cursor]="isOfflineArm"
						[attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
						(click)="linkClicked(actionType, actionLink)"
						vtrMetrics
						id="{{containerCardId+'_doc_link'}}"
						metricsItemCategory="corner"
						metricsEvent="docClick"
						[metricsItem]="dynamicmetricsItem"
						[metricsParam]="dataSource"
						[metricsItemPosition]="sideFlag + order"
						[metricsItemID]="itemID"
						target="_blank"
						rel="noopener"
						class="card-image"
						[style.background-image]="'url(' + img + ')'"
						[style.height.px]="containerCardCorner.clientWidth / ratio">
						<div class="inner-content"
							*ngIf="!isOfflineArm">
							<div *ngIf="title"
								class="title text-ellipsis"
								id="{{containerCardId+'-title'}}"
								role="link"
								[title]="title | htmlText"
								[innerHTML]="title"></div>
							<div *ngIf="caption"
								class="caption text-two-ellipsis"
								id="{{containerCardId+'-caption'}}"
								role="link"
								[title]="caption | htmlText"
								[innerHtml]="caption"></div>
							<div *ngIf="logo || logoText"
								class="logo">
								<span class="logo-img">
									<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
								</span>
								<span class="logo-text"
								id="{{containerCardId+'-logo-text'}}"
								role="textbox">{{logoText}}</span>
							</div>
						</div>
					</a>

				</div>
			</div>
		</div>
	</div>

	<div class="container-card card-android"
		*ngIf="type === 'android'"
		#containerCardAndroid
		[style.height.px]="containerCardAndroid.clientWidth / ratio * 2">
		<div class="container-fluid">
			<div class="row">
				<div class="col col-12 content">
					<ng-container *ngIf="isOnline">
						<a [attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
							(click)="linkClicked(actionType, actionLink)"
							vtrMetrics
							id="{{containerCardId+'_link'}}"
							metricsItemCategory="corner"
							metricsEvent="docClick"
							[metricsItemPosition]="sideFlag + order"
							[metricsItemID]="itemID"
							target="_blank"
							rel="noopener"
							class="card-image"
							[style.background-image]="'url(' + img + ')'"
							[style.height.px]="containerCardAndroid.clientWidth / ratio * 2">
						</a>
						<div class="inner-content">
							<div *ngIf="title"
								class="title text-ellipsis"
								[innerHtml]="title"
								id="{{containerCardId+'-title'}}"
								role="link"></div>
							<div *ngIf="caption"
								class="caption text-two-ellipsis"
								id="{{containerCardId+'-caption'}}"
								role="link"
								[innerHtml]="caption"></div>
							<div *ngIf="logo || logoText"
								class="logo">
								<span class="logo-img">
									<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
								</span>
								<span class="logo-text"
								id="{{containerCardId+'-logo-text'}}"
								role="textbox">{{logoText}}</span>
							</div>
						</div>
					</ng-container>
					<ng-container *ngIf="!isOnline">
						<div class="card-image default-cursor"
							[style.background-image]="'url(' + img + ')'">
						</div>
						<div class="inner-content">
							<div *ngIf="title"
								class="title text-ellipsis default-cursor"
								[innerHtml]="title"
								id="{{containerCardId+'-title'}}"
								role="link"></div>
							<div *ngIf="caption text-two-ellipsis"
								class="caption text-two-ellipsis default-cursor"
								id="{{containerCardId+'-caption'}}"
								role="link"
								[innerHtml]="caption"></div>
							<div *ngIf="logo || logoText"
								class="logo default-cursor">
								<span class="logo-img default-cursor">
									<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
								</span>
								<span class="logo-text"
								id="{{containerCardId+'-logo-text'}}"
								role="textbox">{{logoText}}</span>
							</div>
						</div>
					</ng-container>
				</div>
			</div>
		</div>
	</div>

	<div class="container-card card-highlight"
		*ngIf="type === 'highlight'"
		#containerCardHighlight
		[style.height.px]="containerCardHighlight.clientWidth / ratio">
		<div class="container-fluid">
			<div class="row">
				<div class="col col-12 content">
					<a [attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
						(click)="linkClicked(actionType, actionLink)"
						metricsItemCategory="highlight"
						vtrMetrics
						id="{{containerCardId+'_article'}}"
						metricsEvent="docClick"
						[metricsItemPosition]="sideFlag + order"
						[metricsItemID]="itemID"
						target="_blank"
						rel="noopener"
						class="card-image"
						[class.default-cursor]="isOfflineArm"
						[style.background-image]="'url(' + img + ')'"
						[style.height.px]="containerCardHighlight.clientWidth / ratio"
						style="background-color: #2f3447;">
						<div class="inner-content">
							<div *ngIf="title && !isOfflineArm"
								[title]="title | htmlText"
								class="title text-ellipsis"
								id="{{containerCardId+'-title'}}"
								role="link"
								[innerHtml]="title"></div>
						</div>
					</a>
				</div>
			</div>
		</div>
	</div>

	<div class="container-card card-article"
		*ngIf="type === 'article'"
		#containerCardArticle
		[style.height.px]="containerCardArticle.clientWidth / ratio">
		<div class="container-fluid">
			<a class="article-content"
				[class.default-cursor]="isOfflineArm"
				[attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
				(click)="linkClicked(actionType, actionLink)"
				metricsItemCategory="article"
				vtrMetrics
				id="{{containerCardId+'_card_article'}}"
				metricsEvent="docClick"
				[metricsItemPosition]="sideFlag + order"
				[metricsItemID]="itemID"
				target="_blank"
				rel="noopener">
				<div class="row">
					<div class="card-image"
						[style.background-image]="'url(' + img + ')'">
						<div *ngIf="logo || logoText"
							class="logo">
							<span class="logo-img">
								<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
							</span>
							<span class="logo-text"
							id="{{containerCardId+'-logo-text'}}"
							role="textbox">{{logoText}}</span>
						</div>
					</div>
					<div class="row w-100">
						<div class="col col-12 content">
							<div *ngIf="title && !isOfflineArm"
								class="title text-ellipsis"
								[title]="title | htmlText"
								[innerHtml]="title"
								id="{{containerCardId+'-title'}}"
								[style.margin-top.px]="containerCardArticle.clientWidth * 0"
								[style.height.px]="containerCardArticle.clientWidth * 54 / 430"
								[style.line-height.px]="containerCardArticle.clientWidth * 27 / 430"
								role="link"></div>
							<div *ngIf="actionLink && !isOfflineArm"
								[style.height.px]="containerCardArticle.clientWidth * 27 / 430"
								[style.line-height.px]="containerCardArticle.clientWidth * 27 / 430"
								class="read-more">
								<span class="link-label"
									role="link"
									id="{{containerCardId+'-caption'}}"
									[innerHTML]="action"></span>
								<fa-icon [icon]="['fas', 'arrow-right']"></fa-icon>
							</div>
						</div>
					</div>
				</div>
			</a>
		</div>
	</div>

	<div class="container-card card-article card-subpage-article"
		*ngIf="type === 'subpage-article'"
		#containerCardArticle
		[style.height.px]="containerCardArticle.clientWidth / ratio">
		<div class="container-fluid">
			<a class="article-content"
				[class.default-cursor]="isOfflineArm"
				[attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
				(click)="linkClicked(actionType, actionLink)"
				metricsItemCategory="article"
				vtrMetrics
				id="{{containerCardId+'_card_article'}}"
				metricsEvent="docClick"
				[metricsItemPosition]="sideFlag + order"
				[metricsItemID]="itemID"
				target="_blank"
				rel="noopener">
				<div class="row">
					<div class="card-image"
						[style.background-image]="'url(' + img + ')'">
						<div *ngIf="logo || logoText"
							class="logo">
							<span class="logo-img">
								<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
							</span>
							<span class="logo-text"
							id="{{containerCardId+'-logo-text'}}"
							role="textbox">{{logoText}}</span>
						</div>
					</div>
					<div class="row w-100">
						<div class="col col-12 content">
							<div *ngIf="title && !isOfflineArm"
								class="title text-ellipsis"
								[title]="title | htmlText"
								[innerHtml]="title"
								id="{{containerCardId+'-title'}}"
								[style.margin-top.px]="containerCardArticle.clientWidth * 13 / 436"
								[style.height.px]="containerCardArticle.clientWidth * 54 / 430"
								[style.line-height.px]="containerCardArticle.clientWidth * 27 / 430"
								role="link"></div>
							<div *ngIf="actionLink && !isOfflineArm"
								[style.height.px]="containerCardArticle.clientWidth * 27 / 430"
								[style.line-height.px]="containerCardArticle.clientWidth * 27 / 430"
								class="read-more">
								<span class="link-label"
									role="link"
									id="{{containerCardId+'-caption'}}"
									[innerHTML]="action"></span>
								<fa-icon [icon]="['fas', 'arrow-right']"></fa-icon>
							</div>
						</div>
					</div>
				</div>
			</a>
			<div class="row offline-icon col col-12"
				id="{{containerCardId+'-offline-icon'}}"
				aria-label="offline-icon"
				role="img"
				*ngIf="!isOnline">
				<fa-icon [icon]="['fal', 'wifi-slash']"></fa-icon>
			</div>
		</div>
	</div>

	<div class="container-card card-subpage-corner"
		*ngIf="type === 'subpage-corner'"
		#containerCardCornerArticle
		[style.height.px]="containerCardCornerArticle.clientWidth / ratio">
		<div class="container-fluid">
			<div class="row">
				<div class="col col-12 content">
					<a tabindex="0"
						attr.aria-label="{{ title }} . {{ caption }}"
						[attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
						(click)="linkClicked(actionType, actionLink)"
						target="_blank"
						rel="noopener"
						class="card-image"
						vtrMetrics
						metricsEvent="ArticleClick"
						metricsItemCategory="corner-article"
						[metricsItemPosition]="sideFlag + order"
						[metricsItemID]="itemID"
						[style.background-image]="'url(' + img + ')'"
						[style.height.px]="containerCardCornerArticle.clientWidth / ratio"
						id="{{containerCardId+'-article_link'}}">
						<div class="inner-content">
							<div *ngIf="title"
								class="title text-ellipsis"
								[title]="title | htmlText"
								[innerHtml]="title"
								id="{{containerCardId+'-title'}}"
								role="link"></div>
							<div *ngIf="caption"
								class="caption text-two-ellipsis">
								<div [title]="caption | htmlText"
									[innerHtml]="caption"
									id="{{containerCardId+'-caption'}}"
									role="link"></div>
							</div>
							<div *ngIf="logo || logoText"
								class="logo">
								<span class="logo-img">
									<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
								</span>
								<span class="logo-text"
								id="{{containerCardId+'-logo-text'}}"
								role="textbox">{{logoText}}</span>
							</div>
						</div>
					</a>
				</div>
			</div>
			<div class="row offline-icon col col-12"
				id="{{containerCardId+'-offline-icon'}}"
				aria-label="offline-icon"
				role="img"
				*ngIf="!isOnline">
				<fa-icon [icon]="['fal', 'wifi-slash']"></fa-icon>
			</div>
		</div>
	</div>

	<div class="container-card card-subpage-partner-corner"
		*ngIf="type === 'subpage-partner-corner'"
		#containerCardSidebarPartnerCorner
		[style.height.px]="containerCardSidebarPartnerCorner.clientWidth / ratio">
		<div class="container-fluid">
			<div class="row">
				<div class="col col-12 image"
					[style.background-image]="'url('+img+')'"
					[style.height.px]="containerCardSidebarPartnerCorner.clientWidth / ratio">
					<div *ngIf="logo || logoText"
						class="logo">
						<span class="logo-img">
							<fa-icon [icon]="['fab', 'stumbleupon-circle']"></fa-icon>
						</span>
						<span class="logo-text"
						id="{{containerCardId+'-logo-text'}}"
						role="textbox">{{logoText}}</span>
					</div>
					<div class="row">
						<a [attr.href]="!actionLink ? null : (actionLink | sanitize : 'resourceUrl')"
							target="_blank"
							rel="noopener"
							vtrMetrics
							id="{{containerCardId+'_side_article'}}"
							metricsEvent="docClick"
							[metricsItemID]="itemID"
							[metricsItemPosition]="sideFlag + order"
							metricsItemCategory="partnerarticle">
							<div class="col col-12 content">
								<div *ngIf="title"
									class="title text-two-ellipsis"
									[title]="title | htmlText"
									[innerHtml]="title"
									id="{{containerCardId+'-title'}}"
									role="link"></div>
								<div *ngIf="actionLink"
									class="read-more">
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
			<div class="row offline-icon col col-12"
				id="{{containerCardId+'-offline-icon'}}"
				aria-label="offline-icon"
				role="img"
				*ngIf="!isOnline">
				<fa-icon [icon]="['fal', 'wifi-slash']"></fa-icon>
			</div>
		</div>
	</div>

</div>
