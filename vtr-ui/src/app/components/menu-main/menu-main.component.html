<style type="text/css">
	#navbarDropdown {
	}
</style>
<div class="vtr-menu-main">
	<nav class="navbar navbar-expand-md pr-0">
		<div *ngIf="!deviceService.isGaming"
			class="navbar-brand pt-0">
			<a vtrMetrics
				routerLinkActive="link-active"
				[routerLinkActiveOptions]="items[0].routerLinkActiveOptions"
				[metricsEvent]="items[0].metricsEvent"
				[metricsParent]="items[0].metricsParent"
				[metricsItem]="items[0].metricsItem"
				routerLink="/{{items.path}}">
				<img src="../../../assets/icons/Vantage_L_logo.svg"
					alt="L" />
			</a>
		</div>
		<div *ngIf="deviceService.isGaming"
			class="navbar-brand pt-0">
			<img src="../../../assets/images/gaming/gaming-logo-small.png"
				alt="L" />
		</div>
		<div class="navbar-text clearfix">
			<div class="app-title">{{configService.appBrand}} <span class="app-name">{{configService.appName}}</span>
				<span class="app-version">(v{{appVersion}})</span>
			</div>
			<div class="device-type">{{deviceModel}}</div>
		</div>
		<button class="navbar-toggler"
			type="button"
			data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation">
			<!-- <fa-icon [icon]="['fas', 'bars']">
			</fa-icon> -->
		</button>

		<div class="collapse navbar-collapse hidden-xs"
			id="navbarSupportedContent">
			<ul class="navbar-nav ml-auto">
				<ng-container *ngFor="let item of items; let i=index">
					<li *ngIf="item.subitems.length===0&&item.id!=='user'&&showItem(item)"
						class="nav-item">
						<a class="nav-link {{item.id}}"
							vtrMetrics
							[metricsEvent]="item.metricsEvent"
							[metricsParent]="item.metricsParent"
							[metricsItem]="item.metricsItem"
							routerLink="/{{item.path}}"
							routerLinkActive="active">
							<fa-icon *ngIf="item.icon[0]!=='icomoon'"
								[icon]="item.icon"
								class="fa-icon"></fa-icon>
							<span *ngIf="item.icon[0]==='icomoon'"
								[ngClass]="['navbar-icon',item.icon[0],item.icon[1]]"></span>
							{{item.label | translate}}
						</a>
					</li>
					<li *ngIf="item.subitems.length>0&&item.id!=='user'&&showItem(item)"
						class="nav-item dropdown"
						[ngClass]="{'active': isParentActive(item)}">
						<a class="nav-link dropdown-toggle {{item.id}}"
							vtrMetrics
							[metricsEvent]="item.metricsEvent"
							[metricsParent]="item.metricsParent"
							[metricsItem]="item.metricsItem"
							routerLink="/{{item.path}}"
							routerLinkActive="active"
							id="navbarDropdown"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false">
							<fa-icon [icon]="item.icon"
								class="fa-icon"></fa-icon>
							{{item.label | translate}}
						</a>
						<div class="dropdown-menu"
							aria-labelledby="navbarDropdown">
							<fa-icon [icon]="['fas', 'square']"
								class="menu-pointer"></fa-icon>
								<span  *ngFor="let subitem of item.subitems; let ii=index">
									<a *ngIf="subitem.externallink"
									vtrMetrics
									routerLinkActive="link-active"
									[routerLinkActiveOptions]="subitem.routerLinkActiveOptions"
									[metricsEvent]="subitem.metricsEvent"
									[metricsParent]="subitem.metricsParent"
									[metricsItem]="subitem.metricsItem"
									class="dropdown-item link"
									target="_blank"
									href = "{{subitem.path}}">{{subitem.label | translate}}</a>
									<a *ngIf = "!subitem.externallink && subitem.path==='support'"
									vtrMetrics
									routerLinkActive="link-active"
									[routerLinkActiveOptions]="subitem.routerLinkActiveOptions"
									[metricsEvent]="subitem.metricsEvent"
									[metricsParent]="subitem.metricsParent"
									[metricsItem]="subitem.metricsItem"
									class="dropdown-item link"
									routerLink="{{subitem.path}}">{{subitem.label | translate}}</a>
									<a *ngIf = "!subitem.externallink  && subitem.path!=='support'"
									vtrMetrics
									routerLinkActive="link-active"
									[routerLinkActiveOptions]="subitem.routerLinkActiveOptions"
									[metricsEvent]="subitem.metricsEvent"
									[metricsParent]="subitem.metricsParent"
									[metricsItem]="subitem.metricsItem"
									class="dropdown-item link"
									routerLink="/{{item.path}}/{{subitem.path}}">{{subitem.label | trans}</a>
								</span>

						</div>
					</li>
					<li *ngIf="item.id==='user'"
						class="nav-item dropdown">
						<!-- <a class="nav-link dropdown-toggle {{item.id}}"
							routerLink="/{{item.path}}"
							routerLinkActive="active"
							id="navbarDropdown"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false">
							<div class="user-initials">
								{{userService.initials}}
							</div>
						</a> -->

						<a class="nav-link {{item.id}}"
							id="navbarDropdown"
							[ngClass]="{'dropdown-toggle': true}"
							role="button"
							data-toggle="dropdown"
							aria-haspopup="true"
							aria-expanded="false">
							<div class="user-initials">
								{{deviceService.isArm || userService.starter ? 'L' : userService.initials }}
							</div>
						</a>
						<div class="dropdown-menu {{item.id}}"
							id="navbarDropdownMenu"
							*ngIf="!deviceService.isArm"
							aria-labelledby="navbarDropdown">
							<div class="dropdown-item">{{'lenovoId.helloUser' | translate:{firstName:firstName} }}</div>
							<a *ngIf="!userService.auth && !userService.starter"
								vtrMetrics
								[metricsEvent]="item.metricsEvent"
								[metricsParent]="item.metricsParent"
								metricsItem="LenovoIdSignInButton"
								class="dropdown-item link"
								href="javascript:void(0)"
								(click)="OpenLenovoId('NavigationLenovoAccount.Submenu')">{{'lenovoId.login' | translate}}</a>
							<a *ngIf="!userService.auth && userService.starter"
								vtrMetrics
								[metricsEvent]="item.metricsEvent"
								[metricsParent]="item.metricsParent"
								metricsItem="LenovoIdStarterIdButton"
								class="dropdown-item link"
								href="javascript:void(0)"
								(click)="OpenLenovoId('NavigationLenovoAccount.Submenu')">{{'lenovoId.unlockExclusives' | translate}}</a>
							<a *ngIf="userService.auth"
								vtrMetrics
								[metricsEvent]="item.metricsEvent"
								[metricsParent]="item.metricsParent"
								metricsItem="LenovoIdSignOutButton"
								class="dropdown-item link"
								href="javascript:void(0)"
								(click)="onLogout()">{{'lenovoId.logout' | translate}}</a>
						</div>
					</li>
				</ng-container>
			</ul>
		</div>
	</nav>
</div>
