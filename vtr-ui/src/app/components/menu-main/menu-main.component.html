<div class="vtr-menu-main">
	<nav class="navbar navbar-expand-lg">
		<a class="navbar-brand pt-0"
		   href="#"><img src="../../../assets/icons/Vantage_L_logo.svg"
						 alt="L"/></a>
		<div class="navbar-text">
			<div class="app-title">{{configService.appBrand}} <span class="app-name">{{configService.appName}}</span>
				<span class="app-version">(v{{appVersion}})</span>
			</div>
			<div class="device-type">{{deviceModel}}</div>
		</div>
		<button class="navbar-toggler"
				type="button"
				data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent"
				aria-expanded="false"
				aria-label="Toggle navigation">
			<fa-icon [icon]="['fas', 'bars']">
			</fa-icon>
		</button>

		<div class="collapse navbar-collapse"
			 id="navbarSupportedContent">
			<ul class="navbar-nav ml-auto">
				<ng-container *ngFor="let item of items; let i=index">
					<li *ngIf="item.subitems.length===0&&item.id!=='user'"
						class="nav-item">
						<a class="nav-link {{item.id}}" vtrMetrics [metricsEvent]="item.metricsEvent"
						   [metricsParent]="item.metricsParent" [metricsItem]="item.metricsItem"
						   routerLink="/{{item.path}}"
						   routerLinkActive="active">
							<fa-icon [icon]="['fas', item.icon]"
									 class="fa-icon"></fa-icon>
							{{item.label}}
						</a>
					</li>
					<li *ngIf="item.subitems.length>0&&item.id!=='user'"
						class="nav-item dropdown">
						<a class="nav-link dropdown-toggle {{item.id}}" vtrMetrics [metricsEvent]="item.metricsEvent"
						   [metricsParent]="item.metricsParent" [metricsItem]="item.metricsItem"
						   routerLink="/{{item.path}}"
						   routerLinkActive="active"
						   id="navbarDropdown"
						   role="button"
						   data-toggle="dropdown"
						   aria-haspopup="true"
						   aria-expanded="false">
							<fa-icon [icon]="['fas', item.icon]"
									 class="fa-icon"></fa-icon>
							{{item.label}}
						</a>
						<div class="dropdown-menu"
							 aria-labelledby="navbarDropdown">
							<fa-icon [icon]="['fas', 'square']"
									 class="menu-pointer"></fa-icon>
							<a *ngFor="let subitem of item.subitems; let ii=index" vtrMetrics
							   [metricsEvent]="subitem.metricsEvent" [metricsParent]="subitem.metricsParent"
							   [metricsItem]="subitem.metricsItem"
							   class="dropdown-item link"
							   routerLink="/{{subitem.path}}">{{subitem.label}}</a>
						</div>
					</li>
					<li *ngIf="item.id==='user'"
						class="nav-item dropdown">
						<a class="nav-link dropdown-toggle {{item.id}}" vtrMetrics [metricsEvent]="item.metricsEvent"
						   [metricsParent]="item.metricsParent" [metricsItem]="item.metricsItem"
						   routerLink="/{{item.path}}"
						   routerLinkActive="active"
						   id="navbarDropdown"
						   role="button"
						   data-toggle="dropdown"
						   aria-haspopup="true"
						   aria-expanded="false">
							<div class="user-initials">
								{{userService.initials}}
							</div>
						</a>
						<div class="dropdown-menu {{item.id}}"
							 aria-labelledby="navbarDropdown">
							<div class="dropdown-item">Welcome, {{userService.firstName}}</div>
							<a *ngIf="!userService.auth" vtrMetrics [metricsEvent]="item.metricsEvent"
							   [metricsParent]="item.metricsParent" [metricsItem]="item.metricsItem"
							   class="dropdown-item link"
							   href="#"
							   (click)="OpenLenovoId()">Login</a>
							<a *ngIf="userService.auth" vtrMetrics [metricsEvent]="item.metricsEvent"
							   [metricsParent]="item.metricsParent" [metricsItem]="item.metricsItem"
							   class="dropdown-item link"
							   href="#"
							   (click)="onLogout()">Logout</a>
						</div>
					</li>
				</ng-container>
			</ul>
		</div>
	</nav>
</div>
