@import '../../../app.theme';
/* height */
$h: 2rem;
/* width */
$w: $h * 6;

$p: $h / 6;
/* toggle dimensions */
$tw: $w / 3;
$th: $h - 0.4;
/* font size */
$fs: 1rem;
/* toggle's border thickness */
$bt: 0.1rem;
/* toggle box shadow */
$bs: $bt * 2;
/* labels animation time */
$ta: 6s;
/* label text color */
$text-color: $light;
/* colors: si, ?, no*/
$colors: $go, $main_light, $alt;

@mixin borderColor($i) {
	border: $bt solid nth($colors, $i);
	background: lighten(nth($colors, $i), 10%);
	box-shadow: 0 0 $bs $bs/2 nth($colors, $i) inset, 0 0 $bs $bs/2 nth($colors, $i);
}
@mixin animationDelay($time) {
	-webkit-animation-delay: $time;
	-o-animation-delay: $time;
	-moz-animation-delay: $time;
	animation-delay: $time;
}
@mixin animation($time) {
	-webkit-animation: $time rot-label ease-in-out infinite;
	-moz-animation: $time rot-label ease-in-out infinite;
	-o-animation: $time rot-label ease-in-out infinite;
	animation: $time rot-label ease-in-out infinite;
}
.wrapper {
	width: $w;
	height: $h;
	position: relative;
	margin: 2rem auto;
	border-radius: $h/2;
	background: linear-gradient($gradient_angle, $shade_light 0%, $shade_lightest 100%);
	&.on {
		background: linear-gradient($gradient_angle, $go 0%, $go_light 100%);
	}
	&.auto {
		background: linear-gradient($gradient_angle, $main_light 0%, $main_lighter 100%);
	}
	.toggle {
		width: $tw;
		height: $th;
		position: absolute;
		left: $w / 2 - $tw / 2;
		top: 0.2rem;
		border-radius: $tw / 2;
		box-sizing: border-box;
		transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		background: $light;
		-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
		box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
	}
	label {
		cursor: pointer;
		width: $h * 2;
		height: $h;
		position: absolute;
		margin: 0;
		padding: 0;
		z-index: 1;
		display: inline-block;
		text-align: center;
		line-height: $h + 0.1;
		text-transform: uppercase;
		font-size: $fs;
		font-weight: $weight_medium;
		color: $light;
		@include animation($ta);
	}
	input {
		position: absolute;
		left: 0;
		margin: 0;
		padding: 0;
		opacity: 0;
	}
}
#yes_radio:checked {
	background: $alt;
	~ .toggle {
		left: 0.2rem;
	}
}
#no_radio:checked {
	background: $alt;
	~ .toggle {
		left: $w - $tw - 0.2;
	}
}

.wrapper {
	&.on {
		#yes-lbl {
			color: $main_shade;
		}
	}
	&.auto {
		#maybe-lbl {
			color: $main_shade;
		}
	}
	&.off {
		#no-lbl {
			color: $main_shade;
		}
		#maybe-lbl {
			color: $main_shade;
		}
		#yes-lbl {
			color: $main_shade;
		}
	}
	#yes_radio,
	#yes-lbl {
		left: $p * 0.7;
	}
	#maybe_radio,
	#maybe-lbl {
		left: 100% * 1 / 3;
	}
	#no_radio,
	#no-lbl {
		right: $p * 0.7;
	}
}

#maybe-lbl {
	@include animationDelay($ta / 3);
	letter-spacing: -0.02rem;
}
#no-lbl {
	@include animationDelay($ta * 2 / 3);
}
