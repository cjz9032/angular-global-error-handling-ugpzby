@import "./../../../app.theme.scss";

.auto-set-checkbox {
	$check-box-size: 2rem;
	$check-box-shadow: inset 0 0 0 0.2rem $light;
	$disabled-opacity: 0.4;

	@mixin check-icon($icon-color: "white") {
		background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);' preserveAspectRatio='xMidYMid meet' viewBox='0 0 512 512'><path fill='none' stroke='" + $icon-color + "' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M416 128L192 384l-96-96'/></svg>");
		background-size: 80%;
		background-repeat: no-repeat;
		background-position: center;
	}

	@mixin indeterminate-icon($icon-color: $menu_hover) {
		background: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='3' height='3' viewBox='0 0 4 4'><path stroke='" + $icon-color +"' d='M0 2h4'/%3e%3c/svg>");
		background-size: 60%;
		background-repeat: no-repeat;
		background-position: center;
	}

	margin-top: 2rem;
	position: relative;

	.custom-checkbox {
		padding-left: 1.6rem;
		font-size: $base;
		color: $grey_darker;

		/* main styling */
		.custom-control-input {
			z-index: 0;
			width: $check-box-size + 1;
			height: $check-box-size + 0.5;
		}

		.custom-control-label {
			padding-left: 1rem;
			padding-top: 0.15rem;
			cursor: pointer;

			&::before {
				width: $check-box-size;
				height: $check-box-size;
				background-color: $light;
				border-color: $grey_dark;
				border-radius: 0.25rem;

			}
			&::after {
				width: $check-box-size;
				height: $check-box-size;
			}
			&:hover {
				&::before {
					border-color: $menu_hover;
				}
			}
		}

		/* end of main styling */

		/* checkbox selected state */

		.custom-control-input:checked ~ .custom-control-label {
			&::before {
				background-color: $menu_hover;
				box-shadow: $check-box-shadow;
			}
			&::after {
				@include check-icon();
			}
		}

		/* end of checkbox selected state */

		/* checkbox focus state */

		.custom-control-input:focus ~ .custom-control-label {
			&::before {
				outline: solid 1px $menu_hover;
				outline-offset: 0.2rem;
				box-shadow: $check-box-shadow;
				border-color: $menu_hover;
			}
		}

		/* end of checkbox focus state */

		/* mouse hover state */

		.custom-control-input:hover ~ .custom-control-label {
			&::before {
				box-shadow: $check-box-shadow;
				border-color: $menu_hover;
			}
		}

		/* end of mouse hover state */

		/* pressed state */
		.custom-control-input:active:not(:checked) ~ .custom-control-label {
			&::before {
				border-color: $shade_blue;
				background-color: $shade_blue;
			}
		}
		.custom-control-input:active:checked ~ .custom-control-label {
			&::before {
				border-color: $shade_blue;
				background-color: $shade_blue;
			}
		}

		/* end of pressed state */

		/* disabled state */

		.custom-control-input:disabled:not(:checked) ~ .custom-control-label {
			pointer-events: none;

			&::before {
				border-color: $shade_blue;
				opacity: $disabled-opacity;
			}
		}
		.custom-control-input:disabled:checked ~ .custom-control-label {
			pointer-events: none;

			&::before {
				border-color: $shade_blue;
				background-color: $shade_blue;
				opacity: $disabled-opacity;
			}
		}

		/* end of disabled state */

		/* indeterminate state */

		.custom-control-input:indeterminate ~ .custom-control-label {
			&::before {
				background-color: $light;
			}
			&::after {
				@include indeterminate-icon()
			}
		}

		/* end of indeterminate state */

	}
}
