<div class="vtr-ui-hardware-list-test">
	<ul class="list-group modal-scroll">
		<li class="list-group-item" *ngFor="let item of items; let id = index">
			<div class="module" [ngClass]="{'isSelected-item' : item.selected || item.indeterminate}">
				<div class="custom-control">
					<vtr-ui-checkbox
						#checkbox
						[id]="item.id"
						[componentId]="item.id"
						[ariaLabel]="('hardwareScan.pluginTokens.' + item.name | translateDefault:item.name) + '-checkbox'"
					 	[indeterminate]="item.indeterminate"
						(click)="onDeviceSelectionClicked(item,checkbox.checked)"
						[hasChild]="true"
						[checked]="item.selected"
						[value]="item.selected"
						class="custom-control-component"
					>
						<p class="custom-control-label-text name">
							{{ 'hardwareScan.pluginTokens.' + item.name | translateDefault:item.name }}
							<span class="subname">{{ 'hardwareScan.pluginTokens.' + item.subname | translateDefault:item.subname }}</span>
						</p>
					</vtr-ui-checkbox>
				</div>

				<div class="col-auto">
					<div class="collapse-control select-item"
						tabindex="0"
						[attr.aria-label]="('hardwareScan.pluginTokens.' + item.name | translateDefault:item.name) + (item.collapsed ? '-collapse-submodules-list': '-expand-submodules-list')"
						(click)="item.collapsed = !item.collapsed"
						(keyup.enter)="item.collapsed = !item.collapsed"
						role="button"
						[attr.aria-expanded]="item.collapsed">
						<fa-icon *ngIf="item.collapsed; else expandArrow" [icon]="['fal', 'angle-up']"></fa-icon>
						<ng-template #expandArrow>
							<fa-icon [icon]="['fal', 'angle-down']"></fa-icon>
						</ng-template>
					</div>
				</div>
			</div>
			<div id="{{ id }}" class="sub-module" [ngbCollapse]="!item.collapsed" >
				<ul class="list-group">
					<li class="list-group-item" *ngFor="let test of item.tests" (change)=onCheckChildren(item) [ngClass]="{'isSelected-item' : test.selected}">
						<div class="module">
							<div class="custom-control custom-checkbox">
								<vtr-ui-checkbox
									[id]="test.id + id"
									[componentId]="test.id + id"
									[ariaLabel]="('hardwareScan.pluginTokens.' + item.name | translateDefault:item.name) + ('hardwareScan.pluginTokens.' + test.name | translateDefault:test.name)"
									[checked]="test.selected"
									[hasChild]="true"
									[value]="test.selected"
									(toggle)="test.selected = $event"
									class="custom-control-component"
								>
									<p class="custom-control-label-text">
										<span class="name-test">&nbsp;{{ 'hardwareScan.pluginTokens.' + test.name | translateDefault:test.name }}</span>
									</p>
								</vtr-ui-checkbox>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</li>
	</ul>
	<div class="options">
		<a class="select-item" href="javascript:void(0);" (click)="onSelectAll()">{{select}}</a>
		<span class="select-item-subtitle">/</span>
		<a class="select-item" href="javascript:void(0);" (click)="onDeselectAll()">{{deselect}}</a>
	</div>

</div>
