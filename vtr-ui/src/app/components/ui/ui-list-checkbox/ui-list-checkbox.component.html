<div class="vtr-ui-list-checkbox">
	<!-- update list with checkbox section -->
	<ul class="list-group"
		*ngIf="!isInstallationCompleted">
		<li class="list-group-item" id="su_item_candidate"
			[ngStyle]="{'background': item.isSelected ? selectedColor : unselectedColor}"
			*ngFor="let item of items; let i = index">
			<div class="media pl-3 align-items-center">
				<div class="media-body pb-0 mb-0 small">
					<div class="d-flex justify-content-between align-items-start w-100">
						<div class="custom-control custom-checkbox">
							<input type="checkbox"
								id="{{ 'updateCheckbox_'  + item.packageID }}"
								[disabled]="item.isDependency"
								class="custom-control-input"
								[checked]="item.isSelected"
								[name]="item.packageName"
								(change)="onCheckChange($event)" />
							<label class="custom-control-label "
								for="{{ 'updateCheckbox_'  + item.packageID }}"
								id="{{'su_item_' + item.packageID}}" role="text">
								<span class="update-title">
									{{item.packageDesc}}</span>
							</label>

							<div class="button-box"
								*ngIf="item.packageRebootType === 'RebootForced'">
								<div class="btn-round-sm" id="{{'su_rebootForced_'+item.packageID}}" role="text">
									<fa-icon [icon]="['fas', 'exclamation-circle']"></fa-icon> {{'systemUpdates.updateCheckbox.rebootRequiredTag' | translate}}
								</div>
							</div>
							<div class="button-box"
								*ngIf="item.packageRebootType === 'RebootDelayed'">
								<div class="btn-round-sm" id="{{'su_rebootDelayed_'+item.packageID}}" role="text">
									<fa-icon [icon]="['fas', 'exclamation-circle']"></fa-icon> {{'systemUpdates.updateCheckbox.rebootDelayTag' | translate}}
								</div>
							</div>
							<div class="button-box"
								*ngIf="item.packageRebootType === 'PowerOffForced'">
								<div class="btn-round-sm" id="{{'su_powerOffForced_'+item.packageID}}" role="text">
									<fa-icon [icon]="['fas', 'exclamation-circle']"></fa-icon> {{'systemUpdates.updateCheckbox.shutdownRequiredTag' | translate}}
								</div>
							</div>
							<div class="button-box"
								*ngIf="item.isDependency">
								<div class="btn-round-sm" id="{{'su_depended_'+item.packageID}}" role="text">
									<fa-icon [icon]="['fas', 'exclamation-circle']"></fa-icon> {{'systemUpdates.updateCheckbox.dependedPackage' | translate}}
								</div>
							</div>
							<div class="download-size">
								{{'systemUpdates.updateCheckbox.downloadSize' | translate}}<span >{{ item.downloadSize }}</span>
							</div>
						</div>

						<fa-icon class="question"
							tabindex="0"
							triggers="manual"
							placement="left"
							id="{{'su_item_question_mark_' + item.packageID}}"
							role="tooltip"
							[ngbTooltip]="systemUpdateTooltip"
							#tooltip="ngbTooltip"
							[icon]="['far', 'question-circle']"
							container="vtr-root"
							tooltipClass="tooltip-click"
							(click)="onTooltipClick(item, tooltip)"
							(keydown.enter)="onTooltipClick(item, tooltip)">
						</fa-icon>
					</div>
				</div>
			</div>
		</li>
	</ul>
	<!-- Installation completed section -->
	<ul class="list-group"
		*ngIf="isInstallationCompleted">
		<li class="list-group-item" id="{{'su_item_installed_' + item.packageID}}"
			*ngFor="let item of items">
			<div class="media pl-3 align-items-center">
					<div *ngIf="item.installationStatus.toLocaleLowerCase() === 'success'; else elseBlock">
						<div class="icon-check">
							<div class="icon-bg text-center">
								<fa-icon id="{{'su_item_installed_icon_success_' + item.packageID}}" role="text" [icon]="['fas', 'check']"></fa-icon>
							</div>
						</div>
					</div>
					<ng-template #elseBlock>
						<div class="icon-times">
							<div class="icon-bg text-center">
								<fa-icon id="{{'su_item_installed_icon_failure_' + item.packageID}}" role="text" [icon]="['fas', 'times']"></fa-icon>
							</div>
						</div>
					</ng-template>
					<div class="media-body pb-0 mb-0 small pl-3">
							<!---div class="d-flex justify-content-between align-items-center w-100"-->
						<div class="row">
							<div class="col col-11 item-text">
								<div class="row" id="{{'su_item_installed_description_' + item.packageID}}" role="text">
									<div class="d-flex justify-content-between align-items-center w-100">
										<div class="update-title">{{item.packageDesc}}</div>
									</div>
								</div>
								<div class="row" id="{{'su_item_installed_failReason_' + item.packageID}}" role="text">
									<div class="col">
										<div class="d-flex justify-content-between align-items-center w-100">
											<div class="fail-reason" *ngIf="item.installationStatus.toLocaleLowerCase() === 'installfailed' && !item.isACAttached && item.packageRebootType.toLocaleLowerCase() === 'rebootdelayed'">{{'systemUpdates.updateCheckbox.failReason' | translate}}</div>
										</div>
									</div>
								</div>
							</div>


								<!-- VAN-3348 hide question mark -->
								<!-- <a href="javascript:void();">
									<fa-icon class="question"
										triggers="click:blur"
										placement="auto"
										[ngbTooltip]="systemUpdateTooltip"
										[icon]="['far', 'question-circle']"
										container="body"
										tooltipClass="tooltip-click"
										#tooltip="ngbTooltip"
										(click)="onTooltipClick(item, tooltip)"></fa-icon>
								</a> -->
						</div>
					</div>
			</div>
		</li>
	</ul>
</div>
<ng-template #systemUpdateTooltip>
	<div class="tooltip-container">
		<ul dir="{{'dir' | translate}}">
			<li>{{'systemUpdates.updateCheckbox.manufacturer' | translate}}<span>{{ manufacturer }}</span></li>
			<li>{{'systemUpdates.updateCheckbox.version' | translate}}<span>{{ version }}</span></li>
			<li *ngIf="installedVersionStatus === 0">{{'systemUpdates.updateCheckbox.installVersion' | translate}}<span>{{ installedVersion }}</span></li>
			<li *ngIf="installedVersionStatus === 1">{{'systemUpdates.updateCheckbox.installVersion' | translate}}<span>{{ notInstalledText }}</span></li>
			<li *ngIf="installedVersionStatus === 2">{{'systemUpdates.updateCheckbox.installVersion' | translate}}<span>{{ notAvailableText }}</span></li>
			<li>{{'systemUpdates.updateCheckbox.diskSpaceNeeded' | translate}}<span >{{ diskSpaceNeeded }}</span></li>
		</ul>
		<div class="row"
			*ngIf="isReadMeAvailable || severity !== 'Critical'">
			<div class="pl-0 pr-3 text-left"
			*ngIf="isReadMeAvailable">
				<a href="javascript:void(0)"
				   tabindex="0"
				   class="read"
				   vtrMetrics
				   id="{{'su-package-readme-'+ packageID}}"
				   metricsItem="readme"
				   metricsEvent="featureClick"
				   (click)="onReadMoreClick($event)"
				   (keyup.enter)="onReadMoreClick($event)">{{'systemUpdates.readMore' | translate}}</a>
			</div>
			<!-- required in MVP 2 -->
			<div class="pl-0 pr-0 text-left"
				*ngIf="severity !== 'Critical' && isIgnored === false">
				<a href="javascript:void(0)"
					class="ignore"
					tabindex="0"
					vtrMetrics
					id="{{'su-ignore-update-'+ packageID}}"
				    metricsItem="ignore"
					metricsEvent="featureClick"
					metricsParam="{{ 'packageID=' + packageID }}"
					(click)="onIgnoreUpdateClick(packageName, true)"
					(keyup.enter)="onIgnoreUpdateClick(packageName, true)"
					>{{'systemUpdates.updateCheckbox.ignore' | translate}}</a>
			</div>
			<div class="pl-0 pr-0 text-left"
				*ngIf="severity !== 'Critical' && isIgnored === true">
				<a href="javascript:void(0)"
					class="ignore"
					tabindex="0"
					vtrMetrics
					id="{{'su-unignore-update-'+ packageID}}"
				    metricsItem="attend"
					metricsEvent="featureClick"
					metricsParam="{{ 'packageID=' + packageID }}"
					(click)="onIgnoreUpdateClick(packageName, false)"
					(keyup.enter)="onIgnoreUpdateClick(packageName, false)"
					>{{'systemUpdates.updateCheckbox.attend' | translate}}</a>
			</div>
		</div>
	</div>
</ng-template>
