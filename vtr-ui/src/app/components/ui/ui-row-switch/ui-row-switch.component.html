<div class="vtr-ui-switch-row"
	[ngClass]="{
		'white-theme': theme === 'white',
		'blue-theme': theme === 'blue',
		'last-child': isLastChild
	}">
	<div class="container-fluid p-0"
		[ngClass]="{'vtr-disabled': disabled}">
		<div class="row m-0 d-flex justify-content-between position-relative">
			<div class="vtr-col-pad"
				[ngClass]="{'flex-grow-1': (isSwitchVisible && !resetTextAsButton || showCustomButton),
					'col-md-11 col-11':(!resetTextAsButton && !isSwitchVisible && !showCustomButton),
					'col-md-7': (resetTextAsButton && !isSwitchVisible),
					'col-md-10':type===undefined }">
				<div class="container-fluid p-0">
					<div class="row m-0">
						<div class="col-auto left-icon-column"
							*ngIf="leftIcon && leftIcon.length > 0">
							<div *ngIf="leftIcon[1] && leftIcon[1].length > 0; else elseNoIconCol"
								class="left-icon-block"
								role="img"
								id="{{switchId}}-left-icon"
								attr.aria-label="{{title}}">
								<fa-icon *ngIf="!isAdminRequired && leftIcon[0]!=='icomoon' && leftIcon[0]!=='svg'"
									class="left-icon"									
									[icon]="leftIcon"
									aria-hidden="true"></fa-icon>
								<svg-icon *ngIf="!isAdminRequired && leftIcon[0]==='svg'"
									attr.aria-hidden="true"
									[applyCss]="true"
									[stretch]="true"
									class="left-icon-svg svg-inline--fa fa-w-20  ng-fa-icon"
									[src]="'assets/icons/'+leftIcon[1]+'.svg'"></svg-icon>
								<span *ngIf="!isAdminRequired && leftIcon[0]==='icomoon'"
									[ngClass]="'icomoon '+leftIcon[1]"
									aria-hidden="true"></span>
								<img *ngIf="isAdminRequired"
									aria-hidden="true"
									class="adminLogo" />
							</div>
							<ng-template #elseNoIconCol>
								<!-- Just add empty column to maintain styling -->
								<div class="left-icon"></div>
							</ng-template>
						</div>
						<div class="col">
							<h4 class="title"
								*ngIf="headingLevel!==5 && headingLevel!==-1"
								id="{{switchId}}-title">
								{{ title }}
							</h4>
							<h5 class="title"
								*ngIf="headingLevel===5"
								id="{{switchId}}-title">
								{{ title }}
							</h5>
							<p class="title"
								role="text"
								*ngIf="headingLevel===-1"
								id="{{switchId}}-title">
								{{ title }}
							</p>
							<span *ngIf="caption">
								<p class="caption"
									role="text"
									#captionRef
									id="{{switchId}}-caption"
									[innerHTML]="caption.length > 70  && !contentExpand  && readMoreText.length > 0 ? (caption | slice: 0:70) : caption">
								</p>
							</span>
							<span id="{{'read_more_'+ switchId}}"
								*ngIf="readMoreText && !contentExpand"
								tabindex="0"
								role="link"
								class="read-more"
								(click)="onReadMoreClick($event)"
								[attr.aria-label]="'read more about,'+ title"
								(keydown.enter)="onReadMoreClick($event)">
								{{ readMoreText }}
							</span>
						</div>
					</div>
				</div>
			</div>

			<div class="vtr-row-switch"
				[ngClass]="{'flex-grow-0 d-flex justify-content-end': (isSwitchVisible && !resetTextAsButton),
				'col-md-1 col-1 d-flex justify-content-end':(!resetTextAsButton && !isSwitchVisible && !showCustomButton && !aiMeetingManager),
				'col-md-5 d-flex justify-content-end': (resetTextAsButton && !isSwitchVisible),
				'mw-50': showCustomButton}"
				>
				<div class="p-0"
					[ngClass]="{'ml-auto': type!=='Camera'}"
					*ngIf="resetText.length > 0">
					<button id="{{switchId+ '-reset-btn'}}"
						title=""
						tabindex="0"
						type="button"
						[disabled]="disabledAll"
						class="btn"
						[ngClass]="{'btn-link text':!resetTextAsButton ,'btn-label':resetTextAsButton}"
						(click)="onResetClick($event)"
						(keydown.enter)="onResetClick($event)"
						[attr.aria-disabled]="disabledAll"
						[matTooltip]="resetText"
						matTooltipClass="vtr-system-tooltip">
						<span class="text-ellipsis d-block">{{ resetText }}</span>
					</button>

				</div>
				<div *ngIf="showCustomButton" class="mw-100">
					<button id="{{switchId+ '-custom-btn'}}"
						mat-customize-button
						color="primary"
						class="w-100"
						tabindex="0"
						type="button"
						[disabled]="disabledAll"
						(click)="onCustomButtonClick($event)"
						(keydown.enter)="onCustomButtonClick($event)"
						[attr.aria-disabled]="disabledAll"
						[attr.aria-label]="title"
						[matTooltip]="customButtonText"
						matTooltipClass="vtr-system-tooltip">
						{{ customButtonText | uppercase }}
					</button>
				</div>

				<div class=""
					*ngIf="isSwitchVisible">
					<vtr-ui-custom-switch [componentId]="switchId"
						[sendMetrics]="isMetricsEnabled"
						[value]="isSwitchChecked"
						[ariaLabel]="title"
						[isLoading]="showLoaderState"
						[isDisabled]="disabled || isDisabled"
						(toggle)="onOnOffChange($event)"></vtr-ui-custom-switch>
				</div>
				<div *ngIf="!isSwitchVisible && linkText"
					class="p-0 link-text">
					<a *ngIf="linkPath.startsWith('ms-settings:'); else elseBlock"
						tabindex="0"
						id="{{switchId+ '_click_link'}}"
						role="link"
						[attr.aria-label]="title + '_click_link'"
						href="javascript:void(0)"
						(click)="onLinkClick(linkPath)"
						(keydown.enter)="onLinkClick(linkPath)"
						class="link-text">
						{{linkText}}
					</a>
					<ng-template #elseBlock>
						<a routerLink="/{{linkPath}}"
							id="ui-row-switch-link-text"
							role="link"
							class="link-text">
							{{linkText}}
						</a>
					</ng-template>
				</div>
				<div class="tool-tip-icon float-right"
					*ngIf="rightIcon.length > 0 && !voice && !aiMeetingManager && !toolTipStatus && !fnCtrltoolTip"
					[ngClass]="{'auto-screen-lock-help-icon': !isSwitchVisible}">
					<fa-icon id="{{switchId}}-tooltip_right_icon"
						[attr.aria-label]="title +' tooltip, which reads: '+ removeHTMLFormatting(tooltipText)"
						class="right-icon"
						[tabindex]="disabled || isDisabled? -1: 0"
						role="img"
						triggers="manual"
						placement="left"
						[ngbTooltip]="tooltipRef"
						#rightToolTip1="ngbTooltip"
						[icon]="rightIcon"
						container="vtr-root"
						tooltipClass="vtr-tooltip"
						(click)="onRightIconClick(rightToolTip1, $event)"
						(keydown.shift.tab)="closeAllToolTips()"
						(keydown.tab)="closeAllToolTips()"
						(keydown.enter)="onRightIconClick(rightToolTip1, $event)">
					</fa-icon>
				</div>
				<div class="tool-tip-icon float-right"
					[ngClass]="{'pl-4': type==='Camera'}"
					*ngIf="rightIcon.length > 0 && toolTipStatus">
					<fa-icon id="{{switchId+ '_smartTooltip_right_icon'}}"
						[tabindex]="disabled || isDisabled? -1: 0"
						[attr.aria-label]="title +' tooltip, which reads: '+ removeHTMLFormatting(tooltipText)"
						class="right-icon"
						triggers="manual"
						placement="left"
						role="img"
						[ngbTooltip]="smartTooltipRef"
						#rightToolTip2="ngbTooltip"
						[autoClose]="true"
						[icon]="rightIcon"
						container="vtr-root"
						tooltipClass="vtr-tooltip"
						(click)="onRightIconClick(rightToolTip2, $event)"
						(keydown.shift.tab)="closeAllToolTips()"
						(keydown.tab)="closeAllToolTips()"
						(keydown.enter)="onRightIconClick(rightToolTip2, $event)"></fa-icon>
				</div>

				<div class="tool-tip-icon float-right"
					[ngClass]="{'pl-4': type==='Camera'}"
					*ngIf="rightIcon.length > 0 && fnCtrltoolTip">
					<fa-icon id="{{switchId+ '_fnCtrl_right_icon'}}"
						[tabindex]="disabled || isDisabled? -1: 0"
						[attr.aria-label]="title +' tooltip, which reads: '+ removeHTMLFormatting(tooltipText)"
						class="right-icon"
						triggers="manual"
						placement="left"
						role="img"
						[ngbTooltip]="fnCtrltoolTipRef"
						#rightToolTip3="ngbTooltip"
						[autoClose]="true"
						[icon]="rightIcon"
						container="vtr-root"
						tooltipClass="vtr-tooltip fnctrl-tooltip"
						(click)="onRightIconClick(rightToolTip3, $event)"
						(keydown.shift.tab)="closeAllToolTips()"
						(keydown.tab)="closeAllToolTips()"
						(keydown.enter)="onRightIconClick(rightToolTip3, $event)"></fa-icon>
				</div>

				<div class="tool-tip-icon float-right"
					*ngIf="rightIcon.length > 0 && voice">
					<fa-icon vtrMetrics
						metricsEvent="FeatureClick"
						metricsParent="Device.SmartAssist"
						metricsItem="{{metricsParent}}HelpIcon"
						id="{{switchId+ '_voice_right_icon'}}"
						[attr.aria-label]="title +' tooltip, which reads: '+ removeHTMLFormatting(tooltipText)"
						class="right-icon"
						[tabindex]="disabled || isDisabled? -1: 0"
						[icon]="rightIcon"
						(click)="voicePopUp()"
						(keydown.enter)="voicePopUp()"></fa-icon>
				</div>

				<div class="tool-tip-icon float-right"
					*ngIf="rightIcon.length > 0 && aiMeetingManager">
					<fa-icon vtrMetrics
						metricsEvent="FeatureClick"
						metricsParent="Productivity.MeetingManager"
						metricsItem="{{metricsParent}}HelpIcon"
						id="{{switchId+ '_voice_right_icon'}}"
						[attr.aria-label]="title +' tooltip, please click: '+ removeHTMLFormatting(tooltipText)"
						class="right-icon"
						[tabindex]="disabled || isDisabled? -1: 0"
						[icon]="rightIcon"
						(click)="aiMeetingManagerPopUp()"
						(keydown.enter)="aiMeetingManagerPopUp()"></fa-icon>
				</div>
			</div>
		</div>
		<div class="row m-0"
			*ngIf="showChildContent">
			<div class="col-12 pr-0">
				<ng-content #childContent></ng-content>
			</div>
		</div>
	</div>
</div>
<ng-template #tooltipRef>
	<div [innerHTML]='tooltipText'
		id="{{switchId}}-toolTip"
		role="tooltip"
		[attr.aria-label]="tooltipText">
	</div>
</ng-template>

<!-- Intelligent-security distance sensitivity adjusting tooltip content -->
<ng-template #smartTooltipRef>
	<div>
		{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.context1' | translate}}
	</div>
	<ul class="smart-tooltip-list">
		<li>
			<div class="row">
				<div class="col-auto pl-0 custom-padding">
					<fa-icon [icon]="['fas', 'circle']"></fa-icon>
				</div>
				<div class="col">
					{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.list.line1' | translate}}
				</div>
			</div>
		</li>
		<li>
			<div class="row">
				<div class="col-auto pl-0 custom-padding">
					<fa-icon [icon]="['fas', 'circle']"></fa-icon>
				</div>
				<div class="col">
					{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.list.line2' | translate}}
				</div>
			</div>
		</li>
		<li>
			<div class="row">
				<div class="col-auto pl-0 custom-padding">
					<fa-icon [icon]="['fas', 'circle']"></fa-icon>
				</div>
				<div class="col">
					{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.list.line3' | translate}}
				</div>
			</div>
		</li>
	</ul>
	<div>
		{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.context2' | translate}}
	</div>
	<ul class="smart-tooltip-list">
		<li>
			<div class="row">
				<div class="col-auto pl-0 custom-padding">
					<fa-icon [icon]="['fas', 'circle']"></fa-icon>
				</div>
				<div class="col">
					{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.list.line4' | translate}}
				</div>
			</div>
		</li>
		<li>
			<div class="row">
				<div class="col-auto pl-0 custom-padding">
					<fa-icon [icon]="['fas', 'circle']"></fa-icon>
				</div>
				<div class="col">
					{{'device.smartAssist.intelligentSecurity.distanceSensitivityAdjusting.tooltipcontent.list.line5' | translate}}
				</div>
			</div>
		</li>
	</ul>
</ng-template>

<!-- Fn Ctrl tooltip content -->
<ng-template #fnCtrltoolTipRef>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>{{ "device.deviceSettings.inputAccessories.fnCtrlKey.tootTip.fnKeys.heading" | translate}}</th>
				<th>{{ "device.deviceSettings.inputAccessories.fnCtrlKey.tootTip.ctrlKeys.heading" | translate}}</th>
				<th>{{ "device.deviceSettings.inputAccessories.fnCtrlKey.tootTip.action.heading" | translate}}</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let item of tooltipContent">
				<td>{{item.fnkey | translate}}</td>
				<td>{{item.ctrlKey | translate}}</td>
				<td>{{item.action | translate}}</td>
			</tr>
		</tbody>
	</table>
</ng-template>