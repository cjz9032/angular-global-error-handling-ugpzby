<div class="vtr-battery-card">
	<ng-template #batteryDetail
		let-modal>
		<div class="modal-header">
			<h4 class="modal-title battery-detail-modal-title pl-5">
				{{'device.deviceSettings.batteryGauge.details.title' | translate }}
			</h4>
			<button type="button"
				class="close"
				aria-label="Close"
				(click)="modal.dismiss('Cross click')">
				<img [src]=" 'assets/icons/Close.svg' | svgInline | async" />
			</button>
		</div>
		<div class="modal-body">
			<vtr-battery-detail [data]="batteryInfo" [dataGauge]="batteryGauge"> </vtr-battery-detail>
		</div>
	</ng-template>
	<div class="container p-5" 
		[ngClass]="{'background-green':batteryQuality[batteryCondition.quality]== 'Good',
					'background-orange': batteryQuality[batteryCondition.quality]== 'Fair',
					'background-red':batteryQuality[batteryCondition.quality]== 'Poor'}">
		<div class="battery-gauge-label text-uppercase">
			{{'device.deviceSettings.batteryGauge.title' | translate}}
		</div>
		<div class="battery-health">
			{{'device.deviceSettings.batteryGauge.subtitle' | translate}}
		</div>
		{{batteryIndicator.percent == 0 && flag ? reInitValue(): ""}}
		<div class="pt-4 battery-frame pr-3">
			<vtr-battery-indicator 
				[batteryHealth]= "batteryQuality[batteryCondition.quality]"
				[remainingHour]="batteryIndicator.hours"
				[remainingMinutes]="batteryIndicator.minutes"
				[percentage]="batteryIndicator.percent"
				[isCharging]="batteryIndicator.charging"
				[isExpressCharging]="batteryIndicator.expressCharging"
				[isVoltageError]="batteryIndicator.voltageError"
				[timeText]="batteryIndicator.timeText">
			</vtr-battery-indicator>
		</div>
		<!-- <div class="p-3 row">
			<div class="p-0 pr-2 col-auto battery-conditions-icon">
				<fa-icon *ngIf="batteryQuality[batteryCondition.quality]== 'Good'"
						[icon]="['fas', 'check-circle']" 
						class="good">
				</fa-icon>
				<fa-icon *ngIf="batteryQuality[batteryCondition.quality]== 'Poor'" 
						[icon]="['fas', 'times-circle']" 
						class="poor">
				</fa-icon>
				<fa-layers *ngIf="batteryQuality[batteryCondition.quality]== 'Fair'" 
						[fixedWidth]="true">
					<fa-icon [icon]="['fas', 'circle']" class="fair"></fa-icon>
					<fa-icon [icon]="['fas', 'exclamation-triangle']" transform="shrink-6" 
						class="fair-inner-icon">
					</fa-icon>
				</fa-layers>
			</div>
		
			<div class="col">
				<span class="battery-conditions-title">{{batteryConditionTranslation.title | translate}}</span>&nbsp;
				<span class="battery-conditions-description" 
					*ngIf="batteryConditionTranslation.description.length > 0">
						{{batteryConditionTranslation.description | translate}}
				</span>
				<span class="battery-conditions-title" 
					*ngIf="batteryConditionsEnum[batteryCondition.condition]== 'StoreLimitation'">
						{{percentageLimitation}}%
				</span>
				<span *ngIf="batteryConditionsEnum[batteryCondition.condition]== 'Illegal'"><br></span>
				<span class="battery-conditions-title" 
					*ngIf="batteryConditionTranslation.description1.length > 0">
						{{batteryConditionTranslation.description1 | translate}}
				</span>
				<span *ngIf="batteryConditionsEnum[batteryCondition.condition]== 'Illegal'"><br></span>
				<span class="battery-conditions-description" 
					*ngIf="batteryConditionTranslation.description2.length > 0">
						{{batteryConditionTranslation.description2 | translate}}
				</span>
				
			</div>
		</div> -->
		<div class="pt-4 text-center">
			<button type="button" vtrMetrics metricsItem="see battery details" metricsParent="battery-gauge" metricsEvent="itemClick"
				class="btn btn-primary btn-block btn-lg battery-detail-button text-uppercase"
				(click)="showDetailModal(batteryDetail)">
				{{'device.deviceSettings.batteryGauge.button' | translate }}
			</button>
		</div>
	</div>
</div>
