<div class="vtr-widget-hardware-scan-item" *ngFor="let item of items">
	<div class="container-fluid">
		<div class="row">
			<div class="module-information">
				<div class="module-icon" *ngIf="item.icon !== undefined">

					<!-- Defines an icon according to the hardware component -->
					<div class="test-status" [ngSwitch]="item.icon">
						<img alt="processor" class="img-icon" *ngSwitchCase="'cpu'" [src]="'assets/icons/hardware-scan/icon_hardware_processor.svg' | svgInline | async" />
						<img alt="memory" class="img-icon" *ngSwitchCase="'memory'" [src]=" 'assets/icons/hardware-scan/icon_hardware_memory.svg' | svgInline | async" />
						<img alt="motherboard" class="img-icon" *ngSwitchCase="'motherboard'" [src]=" 'assets/icons/hardware-scan/icon_hardware_motherboard.svg' | svgInline | async" />
						<img alt="pci_express" class="img-icon" *ngSwitchCase="'pci_express'" [src]=" 'assets/icons/hardware-scan/icon_hardware_pci-desktop.svg' | svgInline | async" />
						<img alt="pci_express" class="img-icon" *ngSwitchCase="'pci_express_laptop'" [src]=" 'assets/icons/hardware-scan/icon_hardware_pci-laptop.svg' | svgInline | async" />
						<img alt="wireless" class="img-icon" *ngSwitchCase="'wireless'" [src]=" 'assets/icons/hardware-scan/icon_hardware_wireless.svg' | svgInline | async" />
						<img alt="storage" class="img-icon" *ngSwitchCase="'storage'" [src]=" 'assets/icons/hardware-scan/icon_hardware_hdd.svg' | svgInline | async" />
					</div>

					<!-- Defines a style title based on the response received -->
					<div class="row">
						<p class="title">{{item.module}}</p><p class="subtitle">{{item.name}}</p>
					</div>

					<!-- Icon to expand and collapse details list -->
					<div *ngIf="isEnableViewResults || item.details"
						class="details-link"
						tabindex="0"
						[attr.aria-label]="!item.detailsExpanded ? item.module + 'expand-module-details': item.module + 'collapse-module-details'"
						(click)="item.detailsExpanded = !item.detailsExpanded"
						(keyup.enter)="item.detailsExpanded = !item.detailsExpanded"
						role="button"
						[attr.aria-expanded]="item.detailsExpanded">
						<fa-icon *ngIf="!item.detailsExpanded; else expandIcon" [icon]="['fas', 'caret-right']"></fa-icon>
						<ng-template #expandIcon><fa-icon [icon]="['fas', 'caret-up']"></fa-icon></ng-template>
						{{ 'hardwareScan.details' | translate }}
					</div>
				</div>

				<div class="row">
					<!-- Defines a status to module list when finish all subtests -->
					<vtr-ui-hardware-scan-test-result
						*ngIf="item.resultCode"
						[module]="item">
					</vtr-ui-hardware-scan-test-result>

					<!-- Icon to expand and collapse test list -->
					<div class="col-auto" *ngIf="isScanExecute && !isEnableViewResults">
						<div class="collapse-control"
							tabindex="0"
							[attr.aria-label]="!item.expanded ? item.module + 'expand-test-list': item.module + 'collapse-test-list'"
							(click)="toggleTestListVisibility(item)"
							(keyup.enter)="toggleTestListVisibility(item)"
							role="button"
							[attr.aria-expanded]="item.expanded">
							<fa-icon *ngIf="!item.expanded; else expandArrow" [icon]="['fal', 'angle-down']"></fa-icon>
							<ng-template #expandArrow>
								<fa-icon [icon]="['fal', 'angle-up']"></fa-icon>
							</ng-template>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Details List with information about the module -->
		<div class="row details-list" *ngIf="(isEnableViewResults || item.details) && item.detailsExpanded">
			<table class="table table-details table-active table-borderless">
				<tbody>
					<tr *ngFor="let detail of item.details">
						<th>{{getKey(detail)}}</th>
						<td>{{getValue(detail)}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="row col">
			<!-- Result code information -->
			<div class="result-code" *ngIf="item.resultCode && (item.expanded || item.details)">
				<p class="title">{{resultCodeText}}:</p>
				<p class="subtitle">{{item.resultCode}}</p>
				<a *ngIf="item.information"
					href="javascript:void(0)"
					(click)="getInformation(item.information)"
					[attr.aria-label]="item.module + 'result-code-tooltip, which reads:' + item.information"
					class="result-code-icon"
					triggers="click"
					[ngbTooltip]="tooltipRefModule"
					container="vtr-root"
					tooltipClass="vtr-tooltip"
					placement="auto">
					<fa-icon [icon]="['far', 'question-circle']"></fa-icon>
				</a>
			</div>

			<!-- Test List with collapsed running test-->
			<div class="test-list col" *ngIf="isScanExecute && !isEnableViewResults">
				<vtr-ui-hardware-list
					[ngbCollapse]="!item.expanded"
					[items]="item.listTest"
					[template]="2">
				</vtr-ui-hardware-list>
			</div>

			<!-- Test List with deails test-->
			<div class="test-list col" *ngIf="isEnableViewResults || item.details || isRecoverExecute">
				<vtr-ui-hardware-list
					[items]="item.listTest"
					[template]="2">
				</vtr-ui-hardware-list>
			</div>
		</div>
		<hr>
	</div>
</div>
<ng-template #tooltipRefModule>
	<div [innerHTML]="tooltipText"></div>
	<div class='button-box'>
		<a [attr.href]="'https://support.lenovo.com/contactus'"
			target="_blank"
			vtrMetrics
			metricsItemID="HardwareScan.ResultSupport"
			metricsItemPosition="r1"
			metricsItemCategory="partnerarticle"
			metricsEvent="articleclick"
			metricsPageNumber="1"
			tabindex="-1">
			<button class='btn button'> {{ 'hardwareScan.support.subtitle' | translate }} </button>
		</a>
	</div>
</ng-template>
