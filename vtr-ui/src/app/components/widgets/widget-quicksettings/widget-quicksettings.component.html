<!-- Following condition will make sure at least any 2 feature is available we need to show quicksettings otherwise we need to hide entire quicksetting feature. e.g A, B & C are 3 feature & to check at least 2's availability, condition will be [(A&B)||(B&C)||(A&C)]  -->
<div *ngIf="((!deviceService.isSMode && cameraStatus.available) || (cameraStatus.available && microphoneStatus.available) || (!deviceService.isSMode && microphoneStatus.available))"
	class="vtr-widget-quicksettings vtr-widget">
	<div class="container-fluid">
		<div class="row">
			<div class="col col-12">
				<!-- title -->
				<h2 class="heading pb-20"
					id="dashboard-quick-settings-title"
					>{{'dashboard.quickSettings.title' | translate}}
				</h2>

				<!-- microphone -->
				<div [ngClass]="(!deviceService.isSMode && cameraStatus.available && microphoneStatus.available) ? 'widget-icon-3': 'widget-icon-2'">
					<div *ngIf="microphoneStatus.available">
						<vtr-widget-switch-icon [iconDefinition]="'icomoon icomoon-FA-Microphone2x'"
							[offIconDefinition]="'icomoon icomoon-FA-Microphone---slash2x'"
							[value]="microphoneStatus.status && microphoneStatus.permission && !microPhoneGreyOut"
							[title]="'dashboard.quickSettings.microphone' | translate"
							metricsItem="microphone"
							id="qs-switch-microphone"
							aria-label="qs-switch-microphone"
							[switchId]="'microphone'"
							[isBlocked]="!microphoneStatus.status || !microphoneStatus.permission"
							(toggle)="onMicrophoneStatusToggle($event)"
							[disable]="!(microphoneStatus.permission && quickSettingsWidget[0].state) || microPhoneGreyOut"
							[isLoading]="microphoneStatus.isLoading"
							[buttonRole]="'button'">
						</vtr-widget-switch-icon>
					</div>

					<!-- camera privacy -->
					<div *ngIf="cameraStatus.available || !cameraStatus.permission">
						<vtr-widget-switch-icon [iconDefinition]="'icomoon icomoon-Camera'"
							[offIconDefinition]="'icomoon icomoon-Camera-slash'"
							[value]="!cameraStatus.status && cameraStatus.permission && !cameraPrivacyGreyOut"
							[title]="'dashboard.quickSettings.cameraPrivacy' | translate"
							metricsItem="camera"
							id="qs-switch-camera"
							aria-label="qs-switch-camera"
							[switchId]="'camera'"
							[isBlocked]="cameraStatus.status || !cameraStatus.permission"
							[isCamera]="true"
							(toggle)="onCameraStatusToggle($event)"
							[disable]="!(cameraStatus.permission && quickSettingsWidget[1].state) || cameraPrivacyGreyOut"
							[isLoading]="cameraStatus.isLoading"
							[buttonRole]="'button'">
						</vtr-widget-switch-icon>
					</div>

					<!-- system update -->
					<div *ngIf="!deviceService.isSMode">
						<vtr-widget-switch-icon [iconDefinition]="'icomoon icomoon-quick-setting-system-update'"
							[offIconDefinition]="'icomoon icomoon-quick-setting-system-update'"
							[value]="true"
							[title]="'dashboard.systemStatus.systemUpdate.detail.update' | translate"
							metricsItem="system-update"
							id="qs-switch-system-update"
							aria-label="qs-switch-system-update"
							[switchId]="'system-update'"
							[isBlocked]="false"
							[isCamera]="true"
							(toggle)="onSystemUpdateToggle($event)"
							[disable]="false"
							[isLoading]="false"
							[hideOnOffLabel]="true"
							[buttonRole]="'link'">
						</vtr-widget-switch-icon>
					</div>
				</div>
			</div>
		</div>

		<vtr-widget-quicksettings-note *ngIf="showMicrophonePermissionNote()" [note]="microphoneNote"></vtr-widget-quicksettings-note>
		<vtr-widget-quicksettings-note *ngIf="showCameraPrivacyPermissionNote()" [note]="cameraPrivacyNote"></vtr-widget-quicksettings-note>

		<!-- my device settings link -->
		<div class="text-right text-uppercase mt-4">
			<a class="link-text"
				vtrMetrics
				id="qs-lnk-my-device-settings"
				attr.aria-label="qs-lnk-my-device-settings"
				[metricsEvent]="'FeatureClick'"
				[metricsItem]="'MyDeviceSettings'"
				routerLink="/device/device-settings">
				{{'dashboard.quickSettings.more' | translate}}
			</a>
		</div>
	</div>
</div>
