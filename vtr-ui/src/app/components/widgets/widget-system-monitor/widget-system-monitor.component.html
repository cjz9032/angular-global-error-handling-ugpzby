<div class="vtr-widget-system-monitor">
	<div class="widget-container">
		<div class="container-fluid">
			<div class="row">
				<div class="col">
					<div class="row">
						<div class="col-sm-12 monitor-col link-wrapper">
							<div class="link-container">
								<a tabindex="1" id="gaming systemstatus info"  aria-label="info" vtrMetrics [metricsItem]="'gaming_systemstatus_info'" metricsEvent="featureClick"
									routerLink="/device" class="info-link">{{'gaming.dashboard.device.systemStatus.info' | translate}}</a>
								<!-- <div class="icon icon-backarrow"></div> -->
								<fa-icon class="icon" [icon]="['fas', 'arrow-left']"></fa-icon>
							</div>
						</div>
						<div class="col-xl-8 monitor-col left">
							<div class="monitor-section">
								<div class="monitor-inner gpu" id="system_status_driver_gpu" attr.aria-label="system_status_driver_gpu">
									<div class="gaming-tooltip">
										<p>{{this.gpuOver|translate}}</p>
									</div>
									<div class="monitor-stack">
										<div class="stack-container">
											<div class="stack-border">
												<div class="stack-content gpu"></div>
												<div class="stack-mask" [ngStyle]="{'height':gpuUsage+'%'}"></div>
											</div>
										</div>
										<div class="stack-label">
											<div class="stack-title">
												GPU
											</div>
											<div class="stack-status">
												{{gpuCurrent}}/{{gpuMax}}
											</div>
										</div>
									</div>
								</div>

								<div class="monitor-cpu" id="system_status_driver_cpu" attr.aria-label="system_status_driver_cpu">
									<div class="gaming-tooltip">
										<p>{{this.cpuover|translate}}</p>
									</div>
									<div class="cpu-ring"></div>
									<div class="cpu-mask left">
										<div class="mask-obj"
											[ngStyle]="{'transform':'rotate('+getLeftDeg(cpuUsage)+'deg)'}">
											<div class="mask-ring"></div>
										</div>
									</div>
									<div class="cpu-mask right" [ngClass]="{'hidden':cpuUsage>.5}">
										<div class="mask-obj"
											[ngStyle]="{'transform':'rotate('+getRightDeg(cpuUsage)+'deg)'}">
											<div class="mask-ring"></div>
										</div>
									</div>
									<div class="cpu-inner-ring">
										<div class="cpu-inner-circle">
											<div class="cpu-label">
												<div class="cpu-title">
													CPU
												</div>
												<div class="cpu-status">
													{{cpuCurrent}}/{{cpuMax}}
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="monitor-inner ram" id="system_status_driver_ram" attr.aria-label="system_status_driver_ram">
									<div class="gaming-tooltip">
										<p>{{this.ramOver|translate}}</p>
									</div>
									<div class="monitor-stack">
										<div class="stack-container">
											<div class="stack-border">
												<div class="stack-content ram"></div>
												<div class="stack-mask" [ngStyle]="{'height':memoryUsage+'%'}"></div>
											</div>
										</div>
										<div class="stack-label">
											<div class="stack-title">
												RAM
											</div>
											<div class="stack-status">
												{{ramCurrent}}/{{ramMax}}
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
						<div class="col-xl-4 monitor-col right" vtrOutsideClick (clickOutside)="toggleHDs(true)">
							<div class="monitor-section hds"
								[ngClass]="{'expanded':showAllHDs,'onlyOne':hds.length===1}" (click)="toggleHDs()" (keydown.enter)="toggleHDs()" id="gaming_system_status_drives_list" 
								[tabindex]="-1"  name="dropdown" role="combobox" [attr.aria-expanded]="showAllHDs" aria-haspopup="true">
								<div class="hd-list" [ngClass]="{'single':hds.length===1}">
									<div class="hd-item" [ngClass]="{'danger':hd.diskUsage/100>.75}"
										*ngFor="let hd of hds; let i=index;" [hidden]="i>=2 && !showAllHDs">
										<div class="gaming-tooltip">
											<p>{{hd.hddName}}</p>
										</div>
										<div class="monitor-hd" id="system_status_drivers{{i}}" attr.aria-label="system_status_drivers{{i}}">
											<div class="hd-ring"></div>
											<div class="hd-mask left">
												<div class="mask-obj"
													[ngStyle]="{'transform':'rotate('+getLeftDeg(hd.diskUsage/100)+'deg)'}">
													<div class="mask-ring"></div>
												</div>
											</div>
											<div class="hd-mask right" [ngClass]="{'hidden':hd.diskUsage/100>.5}">
												<div class="mask-obj"
													[ngStyle]="{'transform':'rotate('+getRightDeg(hd.diskUsage/100)+'deg)'}">
													<div class="mask-ring"></div>
												</div>
											</div>
											<div class="hd-inner-ring">
												<div class="hd-inner-circle">

													<div class="hd-label">
														<div class="hd-pct">
															{{hd.diskUsage}}<span class="pct">%</span>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="hd-item-label" >
											<div class="hd-title">
												<span *ngIf="hd.isSystemDisk">
													<fa-icon [icon]="['fab', 'windows']"></fa-icon>
												</span>

												{{hd.type}}
											</div>
											<div class="hd-status">
												{{getHDSize(hd.usedDisk)}}/{{getHDSize(hd.capacity)}}
											</div>
										</div>
									</div>
								</div>
								<div class="expand-icon">
									<fa-icon [icon]="['fas', 'chevron-down']" tabindex="1"
									aria-label="expand" [hidden]="showAllHDs || hds.length<=2">
									</fa-icon>
									<fa-icon  tabindex="1"
									aria-label="collapse" [icon]="['fas', 'chevron-up']" [hidden]="!showAllHDs || hds.length<=2">
									</fa-icon>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
