<div class="vtr-widget-system-monitor">
	<div class="widget-container"  id="gaming_system_status" role="text">
		<div class="container-fluid">
			<div class="row">
				<div class="col">
					<div class="row">
						<div class="col-sm-12 monitor-col link-wrapper">
							<div class="link-container">
								<a tabindex="1" id="gaming systemstatus info"  aria-label="info" vtrMetrics [metricsItem]="'gaming_systemstatus_info'" metricsEvent="featureClick" metricsParent="Gaming.Dashboard"
									routerLink="/device" class="info-link">{{'gaming.dashboard.device.systemStatus.info' | translate}}</a>
								<!-- <div class="icon icon-backarrow"></div> -->
								<fa-icon class="icon" [icon]="['fas', 'arrow-left']"></fa-icon>
							</div>
						</div>
						<div class="col-xl-8 col-lg-12 col-md-8 col-sm-12 monitor-col left">
							<div class="monitor-section">
								<div class="monitor-inner" [ngClass]="{'monitor-inner-newversion': hwVersionInfo === 1}" id="system_status_driver_gpu_tooltip" role="text" attr.aria-label="system_status_driver_gpu">
									<vtr-ui-gaming-monitor-tooltip [ngClass]="{'is-ver0': hwVersionInfo === 0}" [ver]="hwVersionInfo" [pos]='1' [info]="gpuInfo" [tooltip]="gpuModuleName"></vtr-ui-gaming-monitor-tooltip>
									<div class="monitor-stack" [ngClass]="{'monitor-stack-newversion': hwVersionInfo === 1}">
										<div class="stack-container" [ngClass]="{'stack-container-gpu-newversion': hwVersionInfo === 1}">
											<div class="stack-border" [ngClass]="{'oc-border-shadow': hwVersionInfo === 1 && hwOCInfo.gpuOverClockInfo.isOverClocking}">
												<div class="stack-content"
												[ngClass]="[hwVersionInfo === 0 ? 'gpu' : hwOCInfo.gpuOverClockInfo.isOverClocking ? 'state-oc' : 'gpu-common']"></div>
												<div class="stack-mask" [ngClass]="{'stack-mask-newversion': hwVersionInfo === 1}" [ngStyle]="{'height': (100 - gpuUsage) + '%'}"></div>
											</div>
										</div>
										<div class="stack-label" [ngClass]="{'stack-label-gpu-newversion': hwVersionInfo === 1}">
											<div class="stack-title">
												GPU
											</div>
											<div class="stack-status">
												<svg class="oc-flash" *ngIf="hwVersionInfo === 1 && hwOCInfo.gpuOverClockInfo.isOverClocking"
												 width="14px" height="20px" viewBox="0 0 16 16" fill="#ffa252" xmlns="http://www.w3.org/2000/svg">
													<path fill-rule="evenodd" d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
												</svg>
												{{gpuUsedMemory}}/{{gpuMemorySize}}
											</div>
										</div>
									</div>
								</div>

								<div class="monitor-cpu" [ngClass]="{'monitor-cpu-hwVersion': hwVersionInfo === 1}" id="system_status_driver_cpu_tooltip" role="text" attr.aria-label="system_status_driver_cpu">
									<vtr-ui-gaming-monitor-tooltip [ngClass]="{'is-ver0': hwVersionInfo === 0}" [ver]="hwVersionInfo" [pos]='0' [info]="cpuInfo" [tooltip]="cpuModuleName"></vtr-ui-gaming-monitor-tooltip>
									<div class="cpu-ring"
									[ngClass]="[hwVersionInfo === 0 ? 'cpu' : hwOCInfo.cpuOverClockInfo.isOverClocking ? 'cpu-ring-oc' : 'cpu-ring-common']">
										<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1" *ngIf="hwVersionInfo === 1">
											<defs>
												<linearGradient id="blueGradient">
													<stop offset="0" stop-color="#7dd5ff"/>
													<stop offset="100%" stop-color="#008bff"/>
												</linearGradient>
												<linearGradient id="orangeGradient">
													<stop offset="0" stop-color="#ffa252"/>
													<stop offset="100%" stop-color="#ff7052"/>
												</linearGradient>
											</defs>
											<circle class="cpu-svgcircle"
											[ngClass]="[hwVersionInfo === 1 && hwOCInfo.cpuOverClockInfo.isOverClocking ? 'cpu-svgcircle-oc' : 'cpu-svgcircle-common']" cx="50%" cy="50%" r="43%"/>
										</svg>
									</div>
									<div class="cpu-mask left" [ngClass]="{'cpu-mask-left-x60': hwVersionInfo === 1}">
										<div class="mask-obj"
											[ngStyle]="{'transform':'rotate('+getLeftDeg(cpuUsage)+'deg)'}">
											<div class="mask-ring"></div>
										</div>
									</div>
									<div class="cpu-mask" [ngClass]="{'hidden': cpuUsage > 0.5, 'cpu-mask-right-x60': hwVersionInfo === 1, 'right': hwVersionInfo === 0}">
										<div class="mask-obj"
											[ngStyle]="{'transform':'rotate('+getRightDeg(cpuUsage)+'deg)'}">
											<div class="mask-ring"></div>
										</div>
									</div>
									<div class="cpu-inner-ring" [ngClass]="{'oc-border-shadow-inside': hwVersionInfo === 1 && hwOCInfo.cpuOverClockInfo.isOverClocking, 'cpu-inner-ring-hwVersion': hwVersionInfo === 1}">
										<div class="cpu-inner-circle" [ngClass]="{'cpu-oc-border-shadow': hwVersionInfo === 1 && hwOCInfo.cpuOverClockInfo.isOverClocking}">
											<div class="cpu-label">
												<div class="cpu-title">
													CPU
												</div>
												<div class="cpu-status">
													<svg class="oc-flash" *ngIf="hwVersionInfo === 1 && hwOCInfo.cpuOverClockInfo.isOverClocking"
													 width="14px" height="20px" viewBox="0 0 16 16" fill="#ffa252" xmlns="http://www.w3.org/2000/svg">
														<path fill-rule="evenodd" d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
													</svg>
													{{cpuCurrentFrequency}}/{{cpuBaseFrequency}}
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="monitor-inner ram" [ngClass]="{'monitor-inner-newversion': hwVersionInfo === 1}" id="system_status_driver_ram_tooltip" role="text" attr.aria-label="system_status_driver_ram">
									<vtr-ui-gaming-monitor-tooltip [ngClass]="{'is-ver0': hwVersionInfo === 0}" [ver]="hwVersionInfo" [pos]='2' [info]="vramInfo" [tooltip]="ramModuleName"></vtr-ui-gaming-monitor-tooltip>
									<div class="monitor-stack" [ngClass]="{'monitor-stack-newversion': hwVersionInfo === 1}">
										<div class="stack-container" [ngClass]="{'stack-container-ram-newversion': hwVersionInfo === 1}">
											<div class="stack-border" [ngClass]="{'oc-border-shadow': hwVersionInfo === 1 && hwOCInfo.vramOverClockInfo.isOverClocking}">
												<div class="stack-content"
												[ngClass]="[hwVersionInfo === 0 ? 'ram' : hwOCInfo.vramOverClockInfo.isOverClocking ? 'state-oc' : 'ram-common']"></div>
												<div class="stack-mask" [ngClass]="{'stack-mask-newversion': hwVersionInfo === 1}" [ngStyle]="{'height': (100 - ramUsage) + '%'}"></div>
											</div>
										</div>
										<div class="stack-label" [ngClass]="{'stack-label-ram-newversion': hwVersionInfo === 1}">
											<div class="stack-title">
												{{stringRamOrVram}}
											</div>
											<div class="stack-status">
												<svg class="oc-flash" *ngIf="hwVersionInfo === 1 && hwOCInfo.vramOverClockInfo.isOverClocking"
												 width="14px" height="20px" viewBox="0 0 16 16" fill="#ffa252" xmlns="http://www.w3.org/2000/svg">
													<path fill-rule="evenodd" d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
												</svg>
												{{ramUsed}}/{{ramSize}}
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
						<div class="col-xl-4 col-lg-12 col-md-4 col-sm-12 monitor-col right" vtrOutsideClick (clickOutside)="toggleHDs(true)">
							<div class="monitor-section" [ngClass]="{'monitor-section-align':hds.length <= 2,'monitor-section-border':showAllHDs && hds.length > 2}">
								<div class="hds"
									[ngClass]="{'expanded':showAllHDs,'onlyOne':hds.length===1, 'arrow-padding':showAllHDs && hds.length > 2}" (click)="toggleHDs()" (keydown.enter)="toggleHDs()" id="gaming_system_status_drivers_list"
									[tabindex]="-1"  name="dropdown" role="combobox" [attr.aria-expanded]="showAllHDs" aria-haspopup="true">
									<div class="hd-list" [ngClass]="{'single':hds.length===1}">
										<div class="hd-item" [ngClass]="{'danger':hd.diskUsage/100>.75}"
											*ngFor="let hd of hds; let i=index;" [hidden]="i>=2 && !showAllHDs">
											<vtr-ui-gaming-monitor-tooltip [ver]="0" [pos]='0' [tooltip]="hd.hddName"></vtr-ui-gaming-monitor-tooltip>
											<div class="monitor-hd" id="system_status_hard_disk{{i}}" attr.aria-label="system_status_hard_disk{{i}}">
												<div class="hd-ring"></div>
												<div class="hd-mask left">
													<div class="mask-obj"
														[ngStyle]="{'transform':'rotate('+getLeftDeg(hd.diskUsage/100)+'deg)'}">
														<div class="mask-ring"></div>
													</div>
												</div>
												<div class="hd-mask right" [ngClass]="{'hidden':hd.diskUsage/100>.5}">
													<div class="mask-obj"
														[ngStyle]="{'transform':'rotate('+getRightDeg(hd.diskUsage/100)+'deg)'}">
														<div class="mask-ring"></div>
													</div>
												</div>
												<div class="hd-inner-ring">
													<div class="hd-inner-circle">

														<div class="hd-label">
															<div class="hd-pct">
																{{hd.diskUsage}}<span class="pct">%</span>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="hd-item-label" >
												<div class="hd-title">
													<span *ngIf="hd.isSystemDisk">
														<fa-icon [icon]="['fab', 'windows']"></fa-icon>
													</span>
													{{hd.type}}
												</div>
												<div class="hd-status">
													{{getHDSize(hd.usedDisk)}}/{{getHDSize(hd.capacity)}}
												</div>
											</div>
										</div>
									</div>
									<div class="expand-icon" *ngIf="hds.length > 2" tabindex="1">
										<fa-icon [icon]="['fas', 'chevron-down']" id="gaming_system_hard disk_icon_expand" role="img"
											aria-label="expand" [hidden]="showAllHDs">
										</fa-icon>
										<fa-icon [icon]="['fas', 'chevron-up']" id="gaming_system_hard disk_icon_collapse" role="img"
											aria-label="collapse" [hidden]="!showAllHDs">
										</fa-icon>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
