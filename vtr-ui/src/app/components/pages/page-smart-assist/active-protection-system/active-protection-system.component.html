<div class="aps">
	<div class="row">
		<div class="col-12 px-0">
			<p class="caption"
				role="heading"
				id="smart-assist-active-protection-system-desc">
				{{'device.smartAssist.activeProtectionSystem.description' | translate}}
			</p>
		</div>

		<div class="col-12 px-0">
			<ul class="list-group list-group-flush">
				<!-- APS Slider -->
				<li class="auto-screen-off-block">
					<div class="switch">
						<vtr-ui-row-switch [switchId]="'activeProtectionSystem'"
							[title]="'device.smartAssist.activeProtectionSystem.activeProtection.title' | translate"
							[caption]=" 'device.smartAssist.activeProtectionSystem.activeProtection.caption' | translate"
							[isSwitchVisible]="true"
							[isSwitchChecked]="apsStatus"
							[leftIcon]="['icomoon', 'icomoon-Active-protection']"
							[theme]="'white'"
							[showChildContent]='true'
							(toggleOnOff)="setAPSMode($event)"
							[isMetricsEnabled]=false>
							<div class="slider pr-0">
								<vtr-ui-custom-slider [sliderId]="'activeProtectionSystemSensitivity'"
									[minLegend]="'device.smartAssist.activeProtectionSystem.APS.lowSensitivity' | translate"
									[midLegend]="'device.smartAssist.activeProtectionSystem.APS.mediumSensitivity' | translate"
									[maxLegend]="'device.smartAssist.activeProtectionSystem.APS.highSensitivity' | translate"
									[min]=0
									[max]=100
									[isDisabled]="!apsStatus"
									[value]="apsSensitivity"
									[step]=50
									[ariaLabel]="'active protection shocks sensitivity adjustment'"
									(valueChange)='setAPSSensitivityLevel($event)'
									[metricsItem]="'ActiveProtectionSystem.Sensitivity.Slider'"
									[metricsValue]="apsSensitivity">
								</vtr-ui-custom-slider>
							</div>
						</vtr-ui-row-switch>
						<div class="row">
							<div class="col px-5 aps-checkbox">
								<vtr-ui-checkbox [componentId]="'aps-toggle-checkbox'"
									[checked]="repeatShock"
									(toggle)="setAutoDisableSetting($event)"
									[disabled]="!apsStatus"
									[hasChild]="true"
									[isMetricsEnabled]=false
									[metricsEvent]="'ItemClick'"
									[metricsParent]="'Device.SmartAssist'"
									[metricsItem]="'ActiveProtectionSystem.AutoDisable'">
									<span [ngClass]="{'disabled': !apsStatus}"
										id="aps-toggle-checkbox-text"
										attr.aria-label="aps-toggle-checkbox-text">
										{{'device.smartAssist.activeProtectionSystem.activeProtection.checkbox' | translate}}
									</span>
								</vtr-ui-checkbox>
							</div>
						</div>
					</div>
				</li>

				<!-- Manual Override -->
				<li class="pt-3 keep-my-display-block auto-screen-off-block">
					<vtr-ui-row-switch [switchId]="'manualActiveProtectionSuspension'"
						[title]="'device.smartAssist.activeProtectionSystem.manualActiveProtectionSuspension.title' | translate"
						[caption]="'device.smartAssist.activeProtectionSystem.manualActiveProtectionSuspension.caption' | translate"
						[leftIcon]="['icomoon', 'icomoon-Active-protection']"
						[theme]="'white'"
						[isSwitchVisible]="true"
						[isSwitchChecked]="manualSnooze"
						[showChildContent]="true"
						(toggleOnOff)="setSnoozeSetting($event)"
						[disabled]="!apsStatus"
						[isMetricsEnabled]=false
						>
						<div *ngIf="manualSnooze"
							class="dropdown row">
							<section class="col-sm-6">
								<p class="text-uppercase"
									role="heading"
									id="smart-assist-manual-active-protection-system-desc">
									{{ 'device.smartAssist.activeProtectionSystem.manualActiveProtectionSuspension.dropdown-title' | translate }}
								</p>
								<vtr-ui-dropdown [dropDownId]="'manualSnoozeTimeDropDown'"
									[list]="intervals"
									[value]="manualSnoozeTime"
									(change)="setSnoozeTime($event)"
									[disabled]="!apsStatus"
									vtrMetrics
									metricsEvent="FeatureClick"
									metricsParent="Device.SmartAssist"
									metricsItem="ActiveProtectionSystem.ManualOverride.Dropdown"
									[metricsValue]="selectedSnoozeTime">
								</vtr-ui-dropdown>
							</section>
							<section class="col-sm-5">
								<div class="suspend-now-box">
									<vtr-ui-button linkId="manualActiveProtectionSuspension_btn"
										metricsEvent="FeatureClick"
										metricsItem="ActiveProtectionSystem.ManualOverride.SuspendNow"
										metricsParent="Device.SmartAssist"
										[isFullWidth]="true"
										[isDisabled]="!apsStatus"
										[label]="'device.smartAssist.activeProtectionSystem.manualActiveProtectionSuspension.button' | translate"
										(onClick)="suspendNow()"></vtr-ui-button>
								</div>
							</section>
						</div>
					</vtr-ui-row-switch>
				</li>

				<!-- Advanced section -->
				<li *ngIf="advanceAvailable && apsStatus"
					class="advanced pt-3 pl-5 ml-4 keep-my-display-block auto-screen-off-block">
					<h4 [style.display]="!advancedToggle?'block':'none'"
						id="activeProtectionSystem-more">
						{{ 'device.smartAssist.activeProtectionSystem.advanced.more' | translate }}</h4>
					<a [style.display]="!advancedToggle?'inline-block':'none'"
						id="{{advanceSettingsShowId}}"
						role="link"
						tabindex="0"
						(click)="toggleAdvanced($event)"
						(keydown.enter)="toggleAdvanced($event)">
						<p>{{ 'device.smartAssist.activeProtectionSystem.advanced.advanced-settings' | translate }}
						</p>
					</a>

					<section [style.display]="advancedToggle?'block':'none'"
						id="activeProtectionSystem_advanced_settings">
						<h4 id="{{advanceSettings}}"
							tabindex="-1"
							attr.aria-label="{{advanceSettings}}"
							class="advanced-settings-title">
							{{ 'device.smartAssist.activeProtectionSystem.advanced.advanced-settings' | translate }}
						</h4>
						<ng-container *ngIf="advancedToggle">
							<vtr-active-protection-system-advanced [penCapability]="penCapability"
								[touchCapability]="touchCapability"
								[pSensorCapability]="pSensorCapability">
							</vtr-active-protection-system-advanced>
						</ng-container>

						<a id="{{advanceSettingsHideId}}"
							role="link"
							tabindex="0"
							(click)="toggleAdvanced($event)"
							(keydown.enter)="toggleAdvanced($event)"
							class="hide-settings">
							<p>
								{{ 'device.smartAssist.activeProtectionSystem.advanced.hide' | translate }}
							</p>
						</a>
					</section>
				</li>
			</ul>
		</div>
	</div>
</div>