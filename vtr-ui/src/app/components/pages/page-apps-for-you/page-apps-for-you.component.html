<vtr-page-layout [title]="headerTitle | translate"
	[back]="'common.ui.back' | translate"
	[pageCssClass]="'apps-for-you'"
	[backId]="backId"
	[shiftLeftUp]="true"
	[vtrAppSearchScroller]="['search-preference-subscription']"
	[shiftRightUp]="true">

	<left-content>
		<div class="container-fluid"
			*ngIf="!isOnline">
			<div class="row offline-content">
				<div class="col col-12">
					<vtr-widget-offline-info [isButtonVisible]="false"
						[isSubtitleVisible]="false"
						[title]="'dashboard.offlineInfo.title' | translate"
						[subtitle]="'dashboard.offlineInfo.subtitle' | translate"
						[buttonText]="'dashboard.offlineInfo.buttonText' | translate">
					</vtr-widget-offline-info>
				</div>
			</div>
		</div>
		<div class="container-fluid"
			*ngIf="isOnline">
			<div class="apps-header row no-gutters justify-content-between"
				*ngIf="appDetails">
				<div class="col-6 logo-con"
					*ngIf="appDetails.image">
					<img class="img-logo"
						role="img"
						id="apps-for-you-app-icon"
						[src]="appDetails.image"
						alt="App Icon" />
					<div class="app-name">
						<div class="app-title" role="text" id="apps-for-you-text-app-title">{{ appDetails.title }}</div>
					</div>
				</div>
				<div class="col-6 btn-content">
					<div class="spinner-content app-spinner"
						*ngIf="appDetails.showStatus == statusEnum.DOWNLOADING || appDetails.showStatus == statusEnum.INSTALLING">
						<div class="spinner-border text-primary progress-spinner"
							role="status"></div>
					</div>
					<div class="btn-box">
						<vtr-ui-button [hidden]="installButtonStatus !== installButtonStatusEnum.INSTALL"
							[isDisabled]="!isOnline"
							(onClick)="clickInstallButton()"
							metricsEvent="FeatureClick"
							metricsParent="{{ metricsParent }}"
							metricsItem="btn.Install"
							[isFullWidth]="true"
							linkId="apps-for-you-btn-install"
							[label]="'appsForYou.appDetails.installButton.install' | translate"></vtr-ui-button>
						<vtr-ui-button [hidden]="installButtonStatus !== installButtonStatusEnum.DOWNLOADING"
							(onClick)="clickInstallButton()"
							metricsEvent="FeatureClick"
							metricsParent="{{ metricsParent }}"
							metricsItem="btn.Downloading"
							[isDisabled]="true"
							[isFullWidth]="true"
							linkId="apps-for-you-btn-downloading"
							[label]="'appsForYou.appDetails.installButton.downloading' | translate"></vtr-ui-button>
						<vtr-ui-button [hidden]="installButtonStatus !== installButtonStatusEnum.INSTALLING"
							(onClick)="clickInstallButton()"
							metricsEvent="FeatureClick"
							metricsParent="{{ metricsParent }}"
							metricsItem="btn.Installing"
							[isDisabled]="true"
							[isFullWidth]="true"
							linkId="apps-for-you-btn-installing"
							[label]="'appsForYou.appDetails.installButton.installing' | translate"></vtr-ui-button>
						<vtr-ui-button [hidden]="installButtonStatus !== installButtonStatusEnum.LAUNCH"
							(onClick)="clickInstallButton()"
							metricsEvent="FeatureClick"
							metricsParent="{{ metricsParent }}"
							metricsItem="btn.Launch"
							[isFullWidth]="true"
							linkId="apps-for-you-btn-launch"
							[label]="'appsForYou.appDetails.installButton.launch' | translate"></vtr-ui-button>
						<vtr-ui-button [hidden]="installButtonStatus !== installButtonStatusEnum.SEEMORE"
							[isDisabled]="!isOnline"
							(onClick)="clickInstallButton()"
							metricsEvent="FeatureClick"
							metricsParent="{{ metricsParent }}"
							metricsItem="btn.SeeMore"
							[isFullWidth]="true"
							linkId="apps-for-you-btn-see-more"
							[label]="'appsForYou.appDetails.installButton.seeMore' | translate"></vtr-ui-button>
					</div>
					<div class="error-message text-ellipsis"
						*ngIf="errorMessage" [title]=""
						[ngbTooltip]="errorMessage" tooltipClass="vtr-system-tooltip" container="body"
						>{{ errorMessage }}</div>
				</div>
			</div>

			<div class="apps-content row no-gutters"
				*ngIf="appDetails">
				<div class="description-con mb-40"
					*ngIf="appDetails.description">
					<div class="title mb-2" role="text" id="apps-for-you-text-description-title">
						{{'appsForYou.appDetails.fieldName.description' | translate}}
					</div>
					<div class="description" [innerHTML]="appDetails.description" role="text" id="apps-for-you-text-description"></div>
				</div>
				<!-- <div class="screenshot-con mb-40" *ngIf="appDetails.screenshots.length"> -->
				<div class="screenshot-con mb-40"
					*ngIf="appDetails.screenshots.length">
					<div class="title mb-2" role="text" id="apps-for-you-text-screenshot-title">
						{{'appsForYou.appDetails.fieldName.screenshots' | translate}}
					</div>
					<div class="screenshot-slider">
						<div class="image-content"
							#appsForYouImageContent
							[style.height.px]="appsForYouImageContent.clientWidth / 5">
							<div *ngFor="let screenshot of appDetails.screenshots, let i = index"
								tabindex="0"
								role="img"
								class="screenshot-img position-{{screenshot.position}}"
								id="{{screenshot.id}}"
								vtrMetrics
								metricsItem="AppsForYouScreenshot"
								metricsEvent="FeatureClick"
								[metricsParent]="metricsParent"
								(keyup.enter)="openScreenshotModal(screenshot.imageUrl)"
								(click)="openScreenshotModal(screenshot.imageUrl)">
								<img [src]="screenshot.imageUrl" />
							</div>
						</div>
						<div class="arrow-content"
							*ngIf="showArrows">
							<div tabindex="0"
								role="button"
								id="apps-for-you-btn-left-arrow"
								class="arrow left-arrow"
								[attr.aria-label]="'appsForYou.narrator.leftArrow' | translate"
								(keyup.enter)="clickLeftArrow()"
								(click)="clickLeftArrow()">
								<fa-icon [icon]="['fal', 'chevron-left']"></fa-icon>
							</div>
							<div tabindex="0"
								role="button"
								id="apps-for-you-btn-right-arrow"
								class="arrow right-arrow"
								[attr.aria-label]="'appsForYou.narrator.rightArrow' | translate"
								(keyup.enter)="clickRightArrow()"
								(click)="clickRightArrow()">
								<fa-icon [icon]="['fal', 'chevron-right']"></fa-icon>
							</div>
						</div>
					</div>
				</div>
				<div class="information-con">
					<div class="title mb-2"
						role="text"
						id="apps-for-you-text-additional-Info">
						{{'appsForYou.appDetails.fieldName.additionalInformation' | translate}}
					</div>
					<div class="infomations row no-gutters"
						*ngIf="appDetails.showAdditionalInfo">
						<div class="col-12 col-md-8 col-xl-6 row no-gutters">
							<div class="col-6 info-item"
								*ngIf="appDetails.by">
								<div class="sub-title" role="text" id="apps-for-you-text-by-title">{{'appsForYou.appDetails.fieldName.by' | translate}}</div>
								<div [innerHTML]="appDetails.by" role="text" id="apps-for-you-text-by"></div>
							</div>
							<div class="col-6 info-item"
								*ngIf="appDetails.updated">
								<div class="sub-title" role="text" id="apps-for-you-text-updated-title">{{'appsForYou.appDetails.fieldName.updated' | translate}}</div>
								<div [innerHTML]="appDetails.updated" role="text" id="apps-for-you-text-updated"></div>
							</div>
							<div class="col-6 info-item"
								*ngIf="appDetails.installtype.title">
								<div class="sub-title" role="text" id="apps-for-you-text-type-title">{{'appsForYou.appDetails.fieldName.type' | translate}}</div>
								<div [innerHTML]="appDetails.installtype.title" role="text" id="apps-for-you-text-type"></div>
							</div>
							<div class="col-6 info-item"
								*ngIf="appDetails.category.title">
								<div class="sub-title" role="text" id="apps-for-you-text-category-title">{{'appsForYou.appDetails.fieldName.category' | translate}}</div>
								<div [innerHTML]="appDetails.category.title" role="text" id="apps-for-you-text-category"></div>
							</div>
							<div class="col-6 info-item"
								*ngIf="appDetails.privacyurl">
								<a [href]="appDetails.privacyurl"
									target="_blank"
									class="legal-agreement"
									id="apps-for-you-link-legal-agreement"
									vtrMetrics
									metricsEvent="FeatureClick"
									[metricsParent]="metricsParent"
									metricsItem="link.legalAgreement">{{'appsForYou.appDetails.fieldName.legalAgreement' | translate}}</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="spinner-content app-spinner loading-content"
				*ngIf="!appDetails && isOnline">
				<div class="spinner-border text-primary progress-spinner"
					role="status"></div>
			</div>
		</div>
	</left-content>
	<right-content>
	</right-content>
</vtr-page-layout>