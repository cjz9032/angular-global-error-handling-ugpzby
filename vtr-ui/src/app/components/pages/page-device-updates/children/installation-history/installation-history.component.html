<div class="vtr-installation-history">
	<div class="row"
		*ngIf="installationHistory.length > 0">
		<div class="col">
			<div class="updates-lists-container">
				<div class="row">
					<div class="col">
						<!-- <div class="heading">Full History</div> -->
						<ul class="installation-list">
							<li class="list-heading">
								<div class="container-fluid">
									<div class="row align-items-center">
										<div class="col col-9">
											<div class="item-text">Name</div>
										</div>
										<div class="col col-3 sort-order">
											<a (click)="toggleSortOrder()">
												<div class="sort-heading-text">Sort by Date</div>
												<div class="sort-icon">
													<fa-icon *ngIf="!sortAsc"
														[icon]="['fas', 'caret-up']"></fa-icon>
													<fa-icon *ngIf="sortAsc"
														[icon]="['fas', 'caret-down']"></fa-icon>
												</div>
											</a>
										</div>
									</div>
								</div>
							</li>
							<li *ngFor="let item of installationHistory">
								<div class="container-fluid">
									<div class="row">
										<div class="col col-11 item-text">
											<div class="row">
												<div class="col">
													<span class="title"
														[ngClass]="{'light-title':item.lightTitle}">
														<fa-icon class="success"
															*ngIf="item.status.toLocaleLowerCase() === 'installed'"
															[icon]="['fas', 'check-circle']"></fa-icon>
														<fa-icon class="failure"
															*ngIf="item.status.toLocaleLowerCase() === 'failed'"
															[icon]="['fas', 'times-circle']"></fa-icon>
														{{item.packageDesc}} - {{item.version}}
													</span>
												</div>
											</div>
											<div class="row">
												<div class="col">
													<span class="installation-details">
														{{item.message}}
													</span>
												</div>
											</div>
											<div *ngIf="expandedRecordId===item.packageID">
												<div class="row">
													<div class="col">
														<span class="installation-details">
															Package Size:
															{{commonService.formatBytes(item.packageSize)}}
														</span>
													</div>
												</div>
												<div class="row">
													<div class="col">
														<span class="installation-details">
															Release Date:
															{{commonService.formatDate(item.packageReleaseDate)}}
														</span>
													</div>
												</div>
												<!-- MVP 2 feature, retry install -->
												<!-- <div class="row"
													*ngIf="item.status.toLocaleLowerCase() === 'failed'">
													<div class="col">
														<span class="installation-details">
															<button type="button"
																(click)="onRetryClick(item.packageID)"
																class="btn btn-outline-primary">Retry install</button>
														</span>
													</div>
												</div> -->
											</div>
										</div>
										<div class="col col-1 text-right">
											<div class="expand">
												<a (click)="toggleExpand(item.packageID)">
													<fa-icon *ngIf="expandedRecordId!==item.packageID"
														[icon]="['fas', 'plus-circle']"></fa-icon>
													<fa-icon *ngIf="expandedRecordId===item.packageID"
														[icon]="['fas', 'minus-circle']"></fa-icon>
												</a>
											</div>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="float-right"
					*ngIf="!showAll">
					<button type="button"
						(click)="onShowAllClick()"
						class="btn btn-link">Show All</button>
				</div>
			</div>
		</div>
	</div>
	<div class="row"
		*ngIf="installationHistory.length === 0">
		<div class="col-12 heading text-center">
			No installation history available
		</div>
	</div>
</div>
