<div class="vtr-page-device-updates vtr-page">
	<div class="row vtr-page-header">
		<div class="col vtr-col">
			<vtr-header-main [backarrow]="backarrow"
			 [back]="back"
			 [title]="title"></vtr-header-main>
		</div>
	</div>
	<div class="row vtr-page-content">
		<div class="col vtr-col">
			<div class="row">
				<div class="col col-8 vtr-page-left-column">
					<div class="vtr-page-shift-up">
						<div class="vtr-device-information">
							<div class="container-fluid">
								<div class="row">
									<div class="col col-12">
										<vtr-widget-device-update [title]="
												'An up-to-date system is a healthy system.'
											"
										 [subTitle1]="getLastUpdatedText()"
										 [subTitle2]="getNextUpdatedScanText()"
										 [buttonText]="'Check For Updates'"
										 [percent]="percentCompleted"
										 [showProgress]="isUpdateCheckInProgress"
										 [isUpdateDownloading]="isUpdateDownloading"
										 [installingPercent]="installationPercent"
										 [downloadingPercent]="downloadingPercent"
										 (checkForUpdate)="onCheckForUpdates()"
										 (cancelUpdateCheck)="onCancelUpdateCheck()">
										</vtr-widget-device-update>
									</div>
								</div>

								<div class="row">
									<div class="col col-12">
										<vtr-installed-system-updates-list></vtr-installed-system-updates-list>
									</div>
								</div>

								<vtr-available-updates *ngIf="isUpdatesAvailable && !isUpdateDownloading"
								 [criticalUpdates]="criticalUpdates"
								 [optionalUpdates]="optionalUpdates"
								 [recommendedUpdates]="recommendedUpdates"
								 [isInstallationCompleted]="isInstallationCompleted"
								 [isInstallationSuccess]="isInstallationSuccess"
								 (checkChange)="onUpdateSelectionChange($event)"
								 (installAllUpdate)="onInstallAllUpdate($event)"
								 (installSelectedUpdate)="onInstallSelectedUpdate($event)">
								</vtr-available-updates>

								<!-- Installation timeline is scope of MVP-2 -->
								<div class="row">
									<div class="col col-12 installation-history-container">
										<!--<div class="row">
											<div class="col installation-history">
												{{ installationHistory }}
											</div>
										</div>
										 <div class="row installation-history-div">
											<div class="col col-1 installation-history-ellipses">
												---
											</div>
											<div class="col col-1 installation-history-dash">
												<hr>
											</div>
											<div class="col col-9 installation-history-text">
												<div class="row">
													<div class="col">
														<ul class="status-list">
															<div class="row">
																<li *ngFor="let item of installationHistoryList"
																	[ngClass]="[item.status]">
																	<a routerLink="/{{item.path}}">
																		<div class="container-fluid">
																			<div class="row">
																				<div class="col col-2 text-right">
																					<div class="status-icon">
																						<div class="icon-bkg">
																							<fa-icon
																								[icon]="['fas', item.icon]">
																							</fa-icon>
																						</div>
																					</div>
																				</div>
																				<div class="col col-10 status-text">
																					<div class="title">
																						{{item.installationDate}}
																					</div>
																				</div>
																			</div>
																		</div>
																	</a>
																</li>
															</div>
															<hr>
														</ul>
													</div>
													<div class="col col-1 installation-history-dash status-now">
														Now
													</div>
												</div>

											</div>
											<div class="col col-1 installation-history-dash">
												Now
											</div>
										</div> -->
										<div class="row">
											<div class="col row1 full-history">
												<a (click)="onToggleFullHistory()">Full History</a>
											</div>
										</div>

										<vtr-installation-history *ngIf="showFullHistory"
										 (reinstallUpdate)="onReinstallUpdate($event)"></vtr-installation-history>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
				<div class="col col-4 vtr-page-right-column">
					<div class="vtr-page-shift-up">
						<div class="container-fluid">
							<div class="row mb-40">
								<div class="col col-12 cont">
									<vtr-widget-device-update-settings [title]="'Auto update settings'"
									 [description]="'Automatically Install Updates'"
									 [items]="autoUpdateOptions"
									 (toggleOnOff)="onUpdateToggleOnOff($event)">
									</vtr-widget-device-update-settings>
								</div>
							</div>
							<div class="row mb-40">
								<div class="col col-12">
									<vtr-container-card [img]="'https://d3w2mpp70f6o8z.cloudfront.net/media/images/MareNostrum.original.jpg'"
									 [title]="'Lenovo Support website'"
									 [logoText]="'LENOVO SPECIAL'"
									 [action]="'Read More'"
									 [actionLink]="'http://www.google.com'"
									 [type]="'partnerarticle'"
									 [ratioX]="4"
									 [ratioY]="2">
									</vtr-container-card>
								</div>
							</div>

							<div class="row">
								<div class="col col-12 pb-40">
									<vtr-widget-reboot></vtr-widget-reboot>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
