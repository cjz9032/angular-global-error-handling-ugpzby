<div class="vtr-wifi-security mb-40">
	<div class="container-fluid security-card">
		<vtr-ui-feature-heading
			id="securiry-wifi"
			featureTitle="security.wifisecurity.container.title"
			[description]="data.isLWSEnabled ? 'security.wifisecurity.container.enabledDescribe' : 'security.wifisecurity.container.disableDescribe'"
			[imgAlt]="deviceService.isGaming ? '' : 'coronet logo'"
			[imgSrc]="deviceService.isGaming ? 'assets/images/coronet-logo-gaming.svg' : 'assets/images/coronet-logo.svg'"></vtr-ui-feature-heading>
		<div class="row mt-20 mb-20 no-gutters">
			<div class="col-12">
				<div class="wifi-security">
					<div class="card"
						[ngClass]="{'expand': data.isLWSEnabled}">
						<div class="card-header flex align-items-center"
							id="wifi-security">
							<div class="row no-gutters">
								<div class="col-7 subHeading align-items-center d-flex">
									<span class="circle green"
										*ngIf="data.isLWSEnabled">
										<fa-icon [icon]="['fas', 'check']"></fa-icon>
									</span>
									<span class="circle red"
										*ngIf="data.isLWSEnabled===false">
										<fa-icon [icon]="['fas', 'times']"></fa-icon>
									</span>
									<div *ngIf="data.isLWSEnabled===undefined"
										class="loading">
										<div class="spinner-border text-primary progress-spinner"
											role="status"></div>
									</div>
									<div class="d-flex align-items-center flex-wrap flex-shrink-1 overflow-hidden">
										<h3 class="mb-0 wifisecurity-container-name pr-3"
											[matTooltip]="'security.wifisecurity.container.name' | translate" matTooltipClass="vtr-system-tooltip"
											>
											{{wsNameText}}
										</h3>
										<h3 class="wifisecurity-container-enable mb-0"><span
												class="badge badge-pill badge-success line-height-2 p-0 pl-3 pr-3"
												title=""
												*ngIf="data.isLWSEnabled"
												[matTooltip]="'security.wifisecurity.container.enable' | translate" matTooltipClass="vtr-system-tooltip"
												>{{wsEnabledText}}</span>
											<span class="badge badge-pill badge-danger line-height-2 p-0 pl-3 pr-3"
												title=""
												*ngIf="data.isLWSEnabled===false"
												[matTooltip]="'security.wifisecurity.container.disable' | translate" matTooltipClass="vtr-system-tooltip"
												>{{wsDisabledText}}</span>
										</h3>
									</div>
								</div>
								<div
									class="col-5 align-items-center text-right sm-device-responsive row flex-wrap-reverse justify-content-end">
									<mat-slide-toggle #toggle
										id="sa-ws-switch"
										[aria-label]="data.isLWSEnabled ? wsEnabledLabel : wsDisabledLabel"
										[checked]="data.isLWSEnabled"
										[disabled]="data.isLWSEnabled === undefined || data.wifiSecurity?.changeWifiSecurity"
										(change)="noticeToggleChange(toggle)"
										vtrMetrics
										metricsEvent="featureClick"
										metricsItem="sa-ws-switch"
										[metricsValue]="!data.isLWSEnabled"
									></mat-slide-toggle>
								</div>
							</div>
						</div>
					</div>
					<div *ngIf="data.isLWSEnabled"
						class="card-history">
						<vtr-material-expansion-panel [collapseLinkId]="'sa-ws-lnk'"
							[cardTitle]="'security.wifisecurity.container.networkHistory' | translate"
							componentName="wifiHistoriesCollapsible"
							[panelOpenState]="isShowMore"
							[headerLevel]="4">
							<div class="border-top-none show">
								<div class="card-body p-0 show"
									[hidden]="data?.histories?.length === 0">
									<div class="row no-gutters wifi-card">
										<div *ngFor="let history of data.histories; let i = index;"
											[hidden]="!history.visible"
                                            class="col-sm-12 col-md-6 col-lg-12 col-xl-6 pr-3 pb-3 wifi"
                                            [ngClass]="{'hasShowMore': !isShowMoreLink}">
											<div class="media pt-3 border-0">
												<div class="status-icon pr-3 pl-3">
													<span class="fa-stack fa-3x">
														<fa-icon [icon]="['fal', 'wifi']"
															class="menu-pointer"></fa-icon>
														<span class="circle"
															[ngClass]="{'green':history.good == '0','red':history.good != '0'}">
															<fa-icon [icon]="['fas', 'check']"
																*ngIf="history.good == '0'"></fa-icon>
															<fa-icon [icon]="['fas', 'times']"
																*ngIf="history.good != '0'"></fa-icon>
														</span>
													</span>
												</div>
												<div class="connection-name media-body border-0 pl-3">
													<span class="hide-text" id="network-history-{{i}}">{{networkLevel[history.good]}}</span>
													<span class="mt-0 network-name"
														attr.aria-labelledby="network-history-{{i}}"
														[matTooltip]="history.ssid" matTooltipClass="vtr-system-tooltip"
														>{{history.ssid}}</span>
													<small class="connection-status text-muted">
														{{'security.wifisecurity.container.connect' | translate}}
														{{history.info}}
													</small>
												</div>
											</div>
										</div>
									</div>
								</div>
								<button id="{{isShowMoreLink ? 'sa-ws-btn-wh-showmore' : 'sa-ws-btn-wh-showless'}}"
										tabindex="0"
										(click)="clickShowMore()"
										vtrMetrics
										metricsItem="showMoreWiFiHistory"
										metricsEvent="featureClick"
										class="showmore-button"
										href="#"
										*ngIf="data.hasMore">
										{{ isShowMoreLink ? showMoreText : showLessText }}
								</button>
							</div>
						</vtr-material-expansion-panel>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
