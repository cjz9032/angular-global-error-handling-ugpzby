<vtr-page-layout [title]="'support.common.getSupport' | translate"
	[textId]="'support'"
	[pageCssClass]="'support'"
	[shiftLeftUp]="true"
	[shiftRightUp]="true"
	[back]="'common.ui.back' | translate"
	[backId]="'support-page-btn-back'"
	[isInnerBack]="isCategoryArticlesShow"
	(innerBack)="onInnerBack()">

	<left-content>
		<div class="container-fluid">
			<div class="row"
				*ngIf="!isOnline">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-widget-offline-info [isButtonVisible]="false"
						[isSubtitleVisible]="false"
						[title]="'dashboard.offlineInfo.title' | translate"
						[subtitle]="'dashboard.offlineInfo.subtitle' | translate"
						[buttonText]="'dashboard.offlineInfo.buttonText' | translate">
					</vtr-widget-offline-info>
				</div>
			</div>
			<div class="row no-gutters"
				*ngIf="!isOnline">
				<div class="col-12 col-sm-6 pb-40 offline-article"
					*ngFor="let offlineImage of offlineImages">
					<div class="offline-article-item">
						<img class="w-100"
							[src]="offlineImage" />
					</div>
				</div>
			</div>

			<div class="row"
				*ngIf="articleCategories.length > 0 && isOnline">
				<div class="col col-12 px-0 pt-0 pb-40">
					<div class="card quick-access">
						<div class="quick-access-title">
							{{ 'support.quickAccess.categories' | translate }}</div>
						<div class="quick-access-desc">
							{{ 'support.quickAccess.categoriesDesc' | translate }}</div>
						<div class="quick-assess-categories row no-gutters">
							<div role="button"
								class="quick-assess-item"
								*ngFor="let category of articleCategories, let i = index"
								tabindex="1"
								id="{{'support-category-'+category.Id}}"
								attr.aria-label="{{'support-category-'+category.Title}}"
								vtrMetrics
								metricsItem="Support.CategoryClicked"
								metricsEvent="featureClick"
								metricsParam="CategoryId: {{ category.Id }}"
								metricsParent="Page.Support"
								(keyup.enter)="clickCategory(category.Id)"
								(click)="clickCategory(category.Id)">
								<div class="item-con">
									<div class="item-icon">
										<img [src]="category.Image ? category.Image : localCateIcons[i]" />
									</div>
									<div class="item-title">{{ category.Title }}</div>

									<div class="item-button"
										title="{{ 'support.quickAccess.seeArticles' | translate }}">
										{{ 'support.quickAccess.seeArticles' | translate }}</div>
								</div>
							</div>
							<div class="spinner-content w-100 text-center"
								*ngIf="articlesType === SupportContentStatus.Empty && isOnline">
								<img src="/assets/images/support/empty.png" />
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row"
				*ngIf="articlesType !== 'loading'">
				<div class="col-md-6 pb-20 card-left"
					*ngIf="articles.leftTop.length > 0">
					<vtr-container-article [items]="articles.leftTop"
						*ngIf="isOnline"
						[startIndex]="1"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-none d-lg-block"
						[items]="articles.leftBottom"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-lg-none"
						[items]="articles.leftBottomSmall"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
				</div>
				<div class="col-md-6 pb-20 card-right"
					*ngIf="articles.middleTop.length > 0">
					<vtr-container-article [items]="articles.middleTop"
						*ngIf="isOnline"
						[startIndex]="2"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-none d-lg-block"
						[items]="articles.middleBottom"
						*ngIf="isOnline"
						[startIndex]="6"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-lg-none"
						[items]="articles.middleBottomSmall"
						*ngIf="isOnline"
						[startIndex]="6"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
				</div>
			</div>
			<div class="spinner-content w-100 text-center"
				*ngIf="articlesType === 'loading' && isOnline">
				<div class="spinner-border text-primary progress-spinner"
					role="status"></div>
			</div>
		</div>
	</left-content>

	<right-content>
		<div class="container-fluid">

			<div class="row"
				[vtrAppSearchScroller]="['search-warranty']"
				*ngIf="warrantyData && warrantyData.info && warrantyData.info.status >= 0 && deviceService.showWarranty">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-widget-warranty [item]="warrantyData" [year]="warrantyYear"
						[isConnected]="isOnline"></vtr-widget-warranty>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-user-guide']">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-widget-support [title]="'support.documentation.title' | translate"
						[description]="''"
						[items]="supportDatas.documentation">
					</vtr-widget-support>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-lenovo-help']">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-widget-support [title]="'support.needHelp.title' | translate"
						[description]="'support.needHelp.description' | translate"
						[items]="supportDatas.needHelp"></vtr-widget-support>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-lenovo-service']">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-widget-support [title]="'support.quicklinks.title' | translate"
						[description]="''"
						[items]="supportDatas.quicklinks"></vtr-widget-support>
				</div>
			</div>
			<div class="row d-none d-lg-block"
				*ngIf="articlesType !== 'loading' && articles.right.length > 0">
				<div class="col col-12 px-0 pt-0 pb-40">
					<vtr-container-article [items]="articles.right"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexPreText]="'r'"
						[indexTimes]="1"
						[type]="articlesType">
					</vtr-container-article>
				</div>
			</div>
		</div>
	</right-content>

</vtr-page-layout>
