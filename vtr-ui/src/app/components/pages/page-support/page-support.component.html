<vtr-page-layout [title]="'support.common.getSupport' | translate"
	[textId]="'support'"
	[pageCssClass]="'support'"
	[shiftLeftUp]="true"
	[shiftRightUp]="true"
	[back]="'common.ui.back' | translate"
	[backId]="'support-page-btn-back'"
	[isInnerBack]="isCategoryArticlesShow"
	(innerBack)="onInnerBack()">

	<left-content>
		<div class="container-fluid">
			<div class="row"
				*ngIf="!isOnline">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-offline-info [isButtonVisible]="false"
						[isSubtitleVisible]="false"
						[title]="'dashboard.offlineInfo.title' | translate"
						[subtitle]="'dashboard.offlineInfo.subtitle' | translate"
						[buttonText]="'dashboard.offlineInfo.buttonText' | translate"
						[offlineConnection]="offlineConnection">
					</vtr-widget-offline-info>
				</div>
			</div>
			<div class="row no-gutters"
				*ngIf="!isOnline">
				<div class="col-12 col-sm-6 pb-24 offline-article"
					*ngFor="let offlineImage of offlineImages">
					<div class="offline-article-item">
						<img class="w-100"
							[src]="offlineImage" />
					</div>
				</div>
			</div>

			<div class="row"
				*ngIf="articleCategories.length > 0 && isOnline">
				<div class="col col-12 px-0 pt-0 pb-24">
					<div class="card quick-access">
						<div class="quick-access-title">
							{{ 'support.quickAccess.categories' | translate }}</div>
						<div class="quick-access-desc">
							{{ 'support.quickAccess.categoriesDesc' | translate }}</div>
						<div class="quick-assess-categories row no-gutters">
							<div role="button"
								class="quick-assess-item focus-with-border-radius"
								*ngFor="let category of articleCategories, let i = index"
								[tabindex]="selectedCategoryId === category.Id ? -1 : 1"
								id="{{'support-category-'+category.Id}}"
								[attr.aria-label]="category.Title + 'support.quickAccess.seeArticles' | translate"
								vtrMetrics
								metricsItem="Support.CategoryClicked"
								metricsEvent="featureClick"
								metricsParam="CategoryId: {{ category.Id }}"
								metricsParent="Page.Support"
								(keyup.enter)="clickCategory(category.Id)"
								(click)="clickCategory(category.Id)">
								<div class="item-con"
									[class.selected]="selectedCategoryId === category.Id">
									<div class="item-icon">
										<img *ngIf="category.Image" [src]="category.Image" />
										<img *ngIf="!category.Image" [src]="localCateIcons[i] | svgInline | async" />
									</div>
									<div class="item-title">{{ category.Title }}</div>

									<div class="item-button"
										title="{{ 'support.quickAccess.seeArticles' | translate }}">
										{{ 'support.quickAccess.seeArticles' | translate }}</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row"
				*ngIf="articlesType !== 'loading'">
				<div class="col-md-6 pb-24 card-left"
					*ngIf="articles.leftTop.length > 0">
					<vtr-container-article [items]="articles.leftTop"
						*ngIf="isOnline"
						[startIndex]="1"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-none d-lg-block"
						[items]="articles.leftBottom"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-lg-none"
						[items]="articles.leftBottomSmall"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
				</div>
				<div class="col-md-6 pb-24 card-right"
					*ngIf="articles.middleTop.length > 0">
					<vtr-container-article [items]="articles.middleTop"
						*ngIf="isOnline"
						[startIndex]="2"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-none d-lg-block"
						[items]="articles.middleBottom"
						*ngIf="isOnline"
						[startIndex]="6"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
					<vtr-container-article class="d-lg-none"
						[items]="articles.middleBottomSmall"
						*ngIf="isOnline"
						[startIndex]="6"
						[indexTimes]="2"
						[type]="articlesType">
					</vtr-container-article>
				</div>
			</div>
			<div class="spinner-content w-100 text-center"
				*ngIf="articlesType === 'loading' && isOnline">
				<div class="spinner-border text-primary progress-spinner"
					role="status"></div>
			</div>
			<div class="spinner-content w-100 text-center"
				*ngIf="articlesType === SupportContentStatus.Empty && isOnline">
				<img src="assets/images/support/empty.png" />
			</div>
		</div>
	</left-content>

	<right-content>
		<div class="container-fluid">

			<div class="row"
				[vtrAppSearchScroller]="['search-warranty']"
				*ngIf="warrantyData && warrantyData.info && warrantyData.info.status >= 0 && deviceService.showWarranty">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-warranty [item]="warrantyData" [year]="warrantyYear"
						[isConnected]="isOnline"></vtr-widget-warranty>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-feedback']">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-feedback [title]="'dashboard.feedback.title' | translate"
						[description]="'dashboard.feedback.subtitle' | translate"
						[actionName]="'dashboard.feedback.button' | translate"
						[isOnline]="isOnline"
						(feedBackClick)="openFeedbackModal()">
					</vtr-widget-feedback>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-user-guide']">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-support [title]="'support.documentation.title' | translate"
						[description]="''"
						[items]="supportDatas.documentation"
						[widgetTittleId]="'documentation'"
						[widgetDescriptionId]="''">
					</vtr-widget-support>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-lenovo-help']">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-support [title]="'support.needHelp.title' | translate"
						[description]="'support.needHelp.description' | translate"
						[items]="supportDatas.needHelp"
						[widgetTittleId]="'need-help'"
						[widgetDescriptionId]="'contact-us-help'">
					</vtr-widget-support>
				</div>
			</div>

			<div class="row"
				[vtrAppSearchScroller]="['search-lenovo-service']">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-widget-support [title]="'support.quicklinks.title' | translate"
						[description]="''"
						[items]="supportDatas.quicklinks"
						[widgetTittleId]="'quicklinks'"
						[widgetDescriptionId]="''">
					</vtr-widget-support>
				</div>
			</div>
			<div class="row d-none d-lg-block"
				*ngIf="articlesType !== 'loading' && articles.right.length > 0">
				<div class="col col-12 px-0 pt-0 pb-24">
					<vtr-container-article [items]="articles.right"
						*ngIf="isOnline"
						[startIndex]="5"
						[indexPreText]="'r'"
						[indexTimes]="1"
						[type]="articlesType">
					</vtr-container-article>
				</div>
			</div>
		</div>
	</right-content>

</vtr-page-layout>
