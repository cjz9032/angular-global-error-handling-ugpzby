<div class="trackers-page"
	 data-analyticsName="WebsiteTrackersBlock"
	 vtrSendAnalytics
	 [metricsEvent]="'PageView'">
	<div class="trackers-page__header">
		<vtr-feature-header
			[texts]="textForFeatureHeader"
			[isFeatureWasScanned]="(isWebsiteTrackersWasScanned$ | async) && (isConsentGiven$ | async)"
			[countOfIssue]="websiteTrackersCount$ | async"
			[isFigleafReadyToCommunication]="isFigleafReadyForCommunication$ | async">
			<span class="trackers-page__title--red">{{websiteTrackersCount$ | async}}</span> tracking tools found
		</vtr-feature-header>
		<button class="trackers-concent__btn"
				vtrSendAnalytics
				[metricsEvent]="'ItemClick'"
				[metricsItem]="'ViewInLenovoPrivacyEssentialsButton'"
				*ngIf="(isFigleafReadyForCommunication$ | async) && (websiteTrackersCount$ | async) > 0"
				(click)="openFigleafApp()">
			Block in Lenovo Privacy Essentials
		</button>
		<vtr-why-seeing-tooltip
			[contextText]="textForTooltip"
			*ngIf="!(isFigleafReadyForCommunication$ | async) && (websiteTrackersCount$ | async) > 0">
		</vtr-why-seeing-tooltip>

	</div>
	<div class="trackers-concent"
		 *ngIf="!(isConsentGiven$ | async) && !(isTrackersBlocked$ | async)">
		<div class="trackers-concent__text-wrapper">
			<p class="trackers-concent__text">
				Show me what tracking tools are collecting information about me.
			</p>
		</div>
		<div class="trackers-concent__btn-wrapper">
			<button class="trackers-concent__btn"
					vtrSendAnalytics
					[metricsEvent]="'ItemClick'"
					[metricsItem]="'WebsiteTrackersAcceptAndScanButton'"
					(click)="giveConcent()">
				Accept & scan
			</button>
		</div>
	</div>

	<div>
		<vtr-tracking-map [animate]="true"></vtr-tracking-map>
		<vtr-try-product-block
			*ngIf="(websiteTrackersCount$ | async)"
			[isFigleafReadyToCommunication]="isFigleafReadyForCommunication$ | async"
			[texts]="tryProductText">
		</vtr-try-product-block>
	</div>

</div>
