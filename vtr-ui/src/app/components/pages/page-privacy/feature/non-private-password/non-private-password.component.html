<div class="browser-accounts-block browser-accounts-block__wrapper" [attr.data-analyticsName]="(isFigleafInstalled$ | async) ? 'PrivatelyStoredPasswordsBlock' : 'NonPrivatePasswordsBlock'">
	<!--Easily accessible passwords-->
	<ng-container *ngIf="browserStoredAccountsData.showDetailAction === 'link' && !(isFigleafInstalled$ | async)">
		<h3 class="browser-accounts-block__title">Non-private passwords</h3>
		<p class="browser-accounts-block__text">You might be storing emails and passwords for your favorite sites right
			in your browser. This makes it easier for someone to access them without your knowledge. Find out.</p>
	</ng-container>
	<ng-container *ngIf="browserStoredAccountsData.showDetailAction === 'link' && (isFigleafInstalled$ | async)">
		<h3 class="browser-accounts-block__title">Privately stored passwords</h3>
		<p class="browser-accounts-block__text">You’re using Lenovo Privacy by FigLeaf to store your passwords and log in to your favorite sites, automatically. Everything is encrypted to keep your info private.</p>
	</ng-container>

	<p class="browser-accounts-block__text" *ngIf="browserStoredAccountsData.showDetailAction === 'expand'">
		You’re storing some of your passwords in your web browser. It’s convenient, but not all browsers are designed with privacy in mind.</p>
	<div *ngIf="!(isConsentToGetBrowsersAccountsGiven$ | async)" class="browser-accounts-concent">
		<div class="browser-accounts-concent__text-wrapper">
			<p class="browser-accounts-concent__text">
				We need your permission to access and show you the passwords stored in your browser.
			</p>
		</div>
		<div class="browser-accounts-concent__btn-wrapper">
			<button class="browser-accounts-concent__btn"
					vtrSendAnalytics
					[metricsEvent]="'ItemClick'"
					[metricsItem]="'NonPrivatePasswordsPermissionToAccessButton'"
					(click)="giveConcentToGetBrowserAccounts()">
				I agree
			</button>
		</div>
	</div>

	<div *ngIf="browserStoredAccountsData.showDetailAction === 'link' && isFigleafReadyForCommunication$ | async"
		 class="figleaf-stored-accounts">
		<img class="figleaf-stored-accounts__img"
			 src="/assets/images/privacy-tab/logo-leaf.png"
			 srcset="/assets/images/privacy-tab/logo-leaf@2x.png 2x"
			 alt="figleaf logo">
		<div class="figleaf-stored-accounts__details-col">
			<p class="figleaf-stored-accounts__title">
				<strong>{{(figleafDashboard | async).totalAccounts}}</strong>
				accounts stored in Lenovo Privacy by FigLeaf
			</p>
			<button class="figleaf-stored-accounts__btn"
					vtrSendAnalytics
					[metricsEvent]="'ItemClick'"
					[metricsItem]="'NonPrivatePasswordsSeeDetailsButton'"
					(click)="openFigleaf()">See details</button>
		</div>
	</div>

	<vtr-browser-stored-accounts
		[openPasswordId]="openPasswordId$ | async"
		[inputData]="browserStoredAccountsData">
	</vtr-browser-stored-accounts>
</div>
