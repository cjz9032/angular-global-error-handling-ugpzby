<div class="trackers__wrapper" *ngIf="(trackingData$ | async) as trackingData; else loader">
	<ng-container *ngIf="trackingData?.sites.length > 0">
		<fl-tracking-map [trackers]="trackingData"
						 [labels]="getText()"
						 [positive]="isTrackersBlocked$ | async"
						 [animate]="animate"
						 [defaultSiteIcon]="defaultIcon.site"
						 [defaultTrackerIcon]="defaultIcon.tracker"
						 (showDetails)="showDetails($event, trackingData)">
		</fl-tracking-map>
	</ng-container>

	<div class="history-clean"
		 *ngIf="isUserData && trackingData?.sites.length <= 0">
		<img src="/assets/images/privacy-tab/privacy-search-completed.png"
			 srcset="/assets/images/privacy-tab/privacy-search-completed@2x.png 2x"
			 alt="search completed"
			 class="history-clean__img">
		<span class="history-clean__bold-text">Your {{choseBrowserName}} browser history is clean.</span>
		<span class="history-clean__text">We cannot compile a tracking map, as there is no data. You could clear the browser history, or you had a new PC.
Use your browser to view websites, and come back here later, then we can show whoâ€™s tracking you...</span>
	</div>
	<div class="trackers__toggle" *ngIf="isShowToggle()">
		<span class="trackers__toggle--text">Show who's tracking me</span>
		<vtr-toggle-button [controlName]="trackingControl"></vtr-toggle-button>
	</div>
</div>

<ng-template #loader>
	<div class="trackers__wrapper trackers__wrapper--loader">
		<div class="trackers__spinner-border">
			<div class="trackers__spinner-wrapper">
				<div class="trackers__spinner">
					<div class="trackers__spinner-dot1"></div>
					<div class="trackers__spinner-dot2"></div>
				</div>
			</div>
		</div>
		<p class="trackers__spinner-text">Creating tracker map for the most popular websitess</p>
	</div>
</ng-template>

<vtr-common-popup [popUpId]="trackingMapSinglePopupId" size="large">
	<ng-template>
		<vtr-single-tracker-detail
			[percentOfTrack]="percentOfTrack"
			[popUpId]="trackingMapSinglePopupId">
		</vtr-single-tracker-detail>
	</ng-template>
</vtr-common-popup>
