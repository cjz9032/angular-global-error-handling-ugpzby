<div class="check-breaches">
    <form class="check-breaches__form" (submit)="scanEmail($event)">
        <div class="check-breaches__input-wrapper"
             [class.check-breaches__input-wrapper--focused]="isFormFocused"
             [class.check-breaches__input-wrapper--validation-error]="isValidationError"
             [class.check-breaches__input-wrapper--server-error]="isServerError">
            <div class="check-breaches__input-with-id">
                <input class="check-breaches__input" type="text"
                       [class.check-breaches__input--validation-error]="isValidationError"
                       (focus)="handleFocus()" (blur)="handleBlur()"
                       (input)="changeInputValue($event)" value="{{inputValue}}"
                       placeholder="Enter your email"
                >
                <div *ngIf="islenovoIdOpen" class="check-breaches__lenovo-id lenovo-id" (click)="setLenovoId()">
                    <p class="lenovo-id__text">Use my lenovo id:
                        <span class="lenovo-id__id">{{lenovoId}}</span>
                    </p>
                </div>
            </div>
            <div class="check-breaches__loader" [style.display]="isLoading ? 'block' : 'none'">
                <img src="/assets/images/privacy-tab/loading.gif" alt="loader">
            </div>
            <button class="check-breaches__button" [class.check-breaches__button--error]="isValidationError || isServerError" type='submit'>Scan My Email</button>
        </div>

        <div *ngIf="isValidationError" class="check-error check-error--validation">
            <img class="check-error__img" src="/assets/icons/privacy-tab/error-white.svg" alt="warning-icon">
            <p class="check-error__text">Sorry, the email you entered is not correct. Please try again.</p>
        </div>
        <div *ngIf="isServerError" class="check-error check-error--server">
            <img class="check-error__img" src="/assets/icons/privacy-tab/error-white.svg" alt="warning-icon">
            <p class="check-error__text">Sorry, the server is not available at the moment. Please try again later.</p>
        </div>
    </form>
</div>

