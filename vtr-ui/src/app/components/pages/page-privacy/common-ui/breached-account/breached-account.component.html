<div class="breached-account" *ngFor="let account of breachedAccounts; let i = index">
	<div class="breached-account__preview">
		<div class="breached-account__social">
			<img class="breached-account__img" [src]="account.image || defaultImage" alt="">
			<div class="breached-account__social-description">
				<h4 class="breached-account__title">{{transformDomain(account.domain)}}</h4>
				<p class="breached-account__email"
				   title="{{account.email}}" *ngIf="openId !== i">{{account.email}}</p>
			</div>
		</div>

		<span class="breached-account__date" *ngIf="openId !== i">Breached on {{account.date}}</span>

		<div class="breached-account__details">
			<button class="breached-account__preview-link"
					(click)="detailClickEmit(i)"
					*ngIf="mode === breachedAccountMode.PREVIEW">
				<span>Details</span>
			</button>

			<button class="breached-account__accordion-button"
				 *ngIf="mode === breachedAccountMode.FULL"
				 [ngClass]="{'breached-account__accordion-button--open': openId === i}"
				 (click)="openAccordion(i)">
				<span>Details</span>
			</button>
		</div>
	</div>

	<div *ngIf="openId === i" class="breached-account__description">
		<vtr-breached-description [breachedAccount]="account"></vtr-breached-description>
		<div class="breached-account__action">
			<button class="breached-account__action-button">What should i do?</button>
			<button class="breached-account__action-button breached-account__action-button--transparent">
				This is old info
			</button>
		</div>
	</div>
</div>
