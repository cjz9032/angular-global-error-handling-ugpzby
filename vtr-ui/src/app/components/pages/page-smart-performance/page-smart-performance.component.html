<vtr-page-layout [title]="'smartPerformance.title' | translate"
	[textId]="'smartPerformance'"
	[pageCssClass]="'device'"
	[shiftLeftUp]="true"
	[shiftRightUp]="true"
	[back]="'common.ui.back' | translate"
	[backId]="'smartPerformance-back-btn'">

	<left-content>
		<vtr-subpage-smart-performance-dashboard (scanEmitter)="scanNow()"
			*ngIf="!smartPerformanceService.isScanning && !smartPerformanceService.isScanningCompleted && !smartPerformanceService.isSubscribed"></vtr-subpage-smart-performance-dashboard>
		<vtr-subpage-scanning *ngIf="smartPerformanceService.isScanning"
			(sendModelStatus)="cancelScanfromScanning()"
			[scheduleScanData]="smartPerformanceService.scheduleScanObj"
			[isAutoScanRunning]="isScheduleScanRunning">
		</vtr-subpage-scanning>
		<vtr-subpage-smart-performance-scan-summary *ngIf="(smartPerformanceService.isScanningCompleted || smartPerformanceService.isSubscribed) && !smartPerformanceService.isScanning"
			[hasSubscribedScanCompleted]="hasSubscribedScanCompleted"
			[inputIsScanningCompleted]="showSubscribersummary"
			(backToScan)="changeScanEvent()"
			(backToNonSubscriber)="changeSummaryToHome()"
			[rating]="rating"
			[leftAnimator]="leftAnimator"
			[scanResult]="scanResult"
			[issueCount]="issueCount"
			[isOnline]="isOnline">
		</vtr-subpage-smart-performance-scan-summary>

	</left-content>
	<right-content>
		<div class="container-fluid smart-performance-right-content">
			<div class="row align-items-stretch no-gutters"
				*ngIf="!smartPerformanceService.isScanning && !smartPerformanceService.isScanningCompleted && !smartPerformanceService.isSubscribed">
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card">
					<vtr-widget-recommend-action [isDisabled]="!isOnline"></vtr-widget-recommend-action>
				</div>
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="!isOldVersion">
					<vtr-subpage-schedule-scan [isOnline]="isOnline"
						(hideBasedOnOldAddIn)="hideBasedOnOldAddInVersion($event)"></vtr-subpage-schedule-scan>
				</div>
			</div>
			<div class="row align-items-stretch no-gutters"
				*ngIf="(smartPerformanceService.isScanningCompleted || smartPerformanceService.isSubscribed) && !smartPerformanceService.isScanning">
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="smartPerformanceService.isSubscribed && !isOldVersion">
					<vtr-subpage-schedule-scan (scanDateValueChange)='changeNextScanDateValue($event)'
						(hideBasedOnOldAddInSummary)="hideBasedOnOldAddInVersionInSummaryPage($event)"
						[isOnline]="isOnline">
					</vtr-subpage-schedule-scan>
				</div>
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="!smartPerformanceService.isSubscribed && !smartPerformanceService.isExpired">
					<vtr-widget-recommend-action [isDisabled]="!isOnline"></vtr-widget-recommend-action>
				</div>
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="smartPerformanceService.isSubscribed || smartPerformanceService.isExpired">
					<vtr-widget-subscriptiondetails [isOnline]="isOnline"></vtr-widget-subscriptiondetails>
				</div>
			</div>
			<div class="row align-items-stretch no-gutters"
				*ngIf="smartPerformanceService.isScanning">
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="!smartPerformanceService.isSubscribed">
					<vtr-widget-recommend-action [isDisabled]="true"></vtr-widget-recommend-action>
				</div>
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="smartPerformanceService.isSubscribed">
					<vtr-widget-subscriptiondetails (subScribeEvent)="changeManageSubscription($event)"
						(expiredStatusEvent)="subscriptionInfo($event)"
						[isClickDisabled]="true"
						[isOnline]="isOnline"></vtr-widget-subscriptiondetails>
				</div>
				<div class="col-12 col-sm-6 col-lg-12 mb-24 widget-card"
					*ngIf="!isOldVersion">
					<vtr-subpage-schedule-scan [isOnline]="isOnline"
						[isClickDisabled]="true"
						(hideBasedOnOldAddIn)="hideBasedOnOldAddInVersion($event)"></vtr-subpage-schedule-scan>
				</div>
			</div>
		</div>
	</right-content>
</vtr-page-layout>