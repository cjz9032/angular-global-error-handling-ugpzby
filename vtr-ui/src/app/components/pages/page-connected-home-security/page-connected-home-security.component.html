<vtr-page-layout [title]="'homeSecurity.title' | translate"
	[textId]="'connected-home-security'"
	[pageCssClass]="'connected-home-security'"
	[shiftLeftUp]="true"
	[shiftRightUp]="true"
	[back]="'common.ui.back' | translate"
	[backId]="'chs-btn-back'">

	<left-content>
		<div class="container-fluid">
			<div class="row"
				*ngIf="account?.state !== 'local'">
				<div class="location" [hidden]="locationPermission?.isLocationServiceOn">
					<vtr-widget-location-status linkId="chs-btn-enableLocation"
						[title]="'security.homeprotection.homesecurity.offlineInfo.title' | translate"
						[isSubtitleVisible]="true"
						[isButtonVisible]="true"
						(buttonClick)="dialogService?.openCHSPermissionModal(locationPermission)"
						[subtitle]="'security.homeprotection.homesecurity.offlineInfo.subtitle' | translate"
						[buttonText]="'security.homeprotection.homesecurity.offlineInfo.buttonText' | translate"
						[isDescriptionVisible]="true"
						[description]="'security.homeprotection.homesecurity.offlineInfo.howToEnableLocation' | translate"
						>
					</vtr-widget-location-status>
				</div>
				<div class="col-12 px-0 pb-20 pt-0" [hidden]="!locationPermission?.isLocationServiceOn">
					<vtr-home-security-after-signup [allDevices]="allDevicesInfo"
						[account]="account"
						[common]="common"
						[location]="locationPermission">
					</vtr-home-security-after-signup>
				</div>
			</div>
			<div class="row"
				*ngIf="account?.state === 'local'">
				<div class="col-12 px-0 pb-20 pt-0">
					<vtr-home-security-content page="homeSecurity"
						[location]="locationPermission"
						[permission]="permission">
					</vtr-home-security-content>
				</div>
			</div>
			<div class="row"
				*ngIf="account?.state !== 'local' && showContentA">
				<div class="col-12 px-0 pb-20 pt-0">
					<vtr-container-card
						order="1"
						sideFlag="r"
						[item]="cardContentPositionA"
						[type]="'subpage-article'"
						[ratio]="1"
						ariaLabel="chs-banner-bottom-article"
						containerCardId="chs-banner-bottom-article">
					</vtr-container-card>
				</div>
			</div>
			<div class="bottom-content" hidden>
				<div class="d-none d-md-block">
					<hr>
					<vtr-widget-powered-by-info [title]="'homeSecurity.overview.poweredBy'"
						[detail]="'common.securityAdvisor.privacyPolicyAndTermsOfService'"
						[imgUrl]="'assets/images/coronet-logo.svg'"
						linkId="chs">
					</vtr-widget-powered-by-info>
				</div>
			</div>
		</div>
	</left-content>

	<right-content>
		<div class="container-fluid">

			<div class="row">
				<div class="col col-12 px-0 pt-0">
					<div class="vtr-security-health">
						<div class="row">
							<div class="col-12 p-0">
								<div class="subTitle">
									{{'security.homeprotection.securityhealth.title' | translate}}
								</div>
								<div class="description"
									*ngIf="locationPermission?.isLocationServiceOn">
									<span
										*vtrTranslate="'security.homeprotection.securityhealth.learnMoreAboutSecurityHealth' | translate">
										<a id="chs-lnk-sh-learnmore"
											vtrMetrics
											metricsEvent="ArticleClick"
											metricsItemPosition="3"
											metricsPageNumber="1"
											[metricsItemID]="devicePostureArticleId"
											[metricsItemCategory]="devicePostureArticleCategory"
											href="javascript:void(0)"
											(click)="openDevicePostureArticle()"
											target="_blank"></a>
									</span>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col col-12 px-0 pt-0">
								<!--Start of Security Health Advisor When LWS is enabled-->
								<div *ngIf="locationPermission?.isLocationServiceOn && homeSecurityDevicePosture?.homeDevicePosture?.length === 0"
									class="loading">
									<div class="spinner-border text-primary progress-spinner"
										role="status"></div>
								</div>
								<vtr-ui-list-chevron [items]="homeSecurityDevicePosture.homeDevicePosture"
									metricsEvent="featureClick"
									[chevronVisibility]='false'
									[clickable]="false"
									*ngIf="locationPermission?.isLocationServiceOn && homeSecurityDevicePosture?.homeDevicePosture?.length > 0">
								</vtr-ui-list-chevron>
								<!--end of Security Health Advisor When LWS is enabled-->

								<!--Start of Security Health Advisor When LWS is disabled-->
								<div class="security-health-disabled"
									*ngIf="!locationPermission?.isLocationServiceOn">
									<div
										class="security-health-disabled-list d-flex flex-column align-items-center justify-content-center">
										<div class="peace-of-mind mb-5"
											[innerHTML]="'security.homeprotection.securityhealth.peaceOfMind' | translate">
										</div>
										<vtr-ui-button [ngClass]="{'disable': locationPermission?.isLoading}"
											metricsItem="enableLocationSecurityHealth"
											metricsEvent="featureClick"
											(onClick)="dialogService?.openCHSPermissionModal(locationPermission)"
											[isDisabled]="locationPermission?.isLoading"
											linkId="chs-btn-enableLocation"
											[label]="'security.homeprotection.securityhealth.button' | translate">
										</vtr-ui-button>
									</div>
									<div class="coronet-section">
										<div class="row">
											<div class="col">
											</div>
											<div class="p-0">
												<div class="pull right">
													<img class="coronet_logo_teal"
														[src]="'assets/images/coronet-logo.svg' | svgInline | async"
														alt = "coronet logo"/>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!--end of Security Health Advisor When LWS is disabled-->
							</div>
						</div>
					</div>
				</div>
			</div>





			<div class="row"
				*ngIf="showContentB">
				<div class="col col-12 px-0 pb-20 pt-0">
					<vtr-container-card order="2"
						[item]="cardContentPositionB"
						[type]="'subpage-article'"
						[ratio]="1"
						cornerShift="large"
						sideFlag="r"
						ariaLabel="chs-modal-right-article"
						containerCardId="chs-modal-right-article">
					</vtr-container-card>
				</div>
			</div>
		</div>
		<div class="bottom-content" hidden>
			<div class="d-block d-md-none">
				<hr>
				<vtr-widget-powered-by-info [title]="'homeSecurity.overview.poweredBy'"
					[detail]="'common.securityAdvisor.privacyPolicyAndTermsOfService'"
					[imgUrl]="'assets/images/coronet-logo.svg'"
					linkId="chs">
				</vtr-widget-powered-by-info>
			</div>
		</div>
	</right-content>

</vtr-page-layout>
