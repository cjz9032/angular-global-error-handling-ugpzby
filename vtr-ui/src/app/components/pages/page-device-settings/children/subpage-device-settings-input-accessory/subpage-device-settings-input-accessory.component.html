<div class="subpage-device-settings-input-accessories vtr-subpage">
	<div class="row">
		<div class="col">
			<vtr-ui-header-subpage [title]="title | translate"
				[caption]="'device.deviceSettings.inputAccessories.description' | translate"
				[textId]="'myDevice-settings-ipaccessories'">
			</vtr-ui-header-subpage>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div class="row py-5 smart-settings-card"
				id="Input & Accessories"
				aria-label="Input & Accessories">
				<div class="col-12 px-0 intelligent-keyboard-block">
					<!-- Input & Accessories -->
					<vtr-container-collapsible [collapseLinkId]="'inputAccessories'"
						[headerLevel]="3"
						[vtrAppSearchScroller]="['search-hidden-keyboard-fn', 'search-Keyboard-top-row']"
						[cardTitle]="'device.deviceSettings.inputAccessories.inputAccessory.title' | translate"
						componentName="Input & Accessories"
						[isCollapsed]="false"
						[allowCollapse]="true"
						[theme]="'white'"
						[tabIndex]="0">
						<ul class="list-group list-group-flush">
							<!-- Keyboard map & Hidden Functions -->
							<li class="common-li-padding"
								*ngIf="machineType == 1 && keyboardCompatibility">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.inputAccessories.inputAccessory.hiddenKeyboardFunctions.title' | translate"
									componentName="Input Accessories"
									[caption]="'device.deviceSettings.inputAccessories.inputAccessory.hiddenKeyboardFunctions.description' | translate"
									[leftIcon]="['fal', 'keyboard']"
									[showChildContent]="true"
									[theme]="'white'"
									[switchId]="'inputAccessories-hiddenKeyboardFunctions'">
									<div class="row pl-3">
										<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
											<div class="keyboard-mapping-background">
												<img class="keyboard-bg img-preview"
													id="keyboardMap-background-image"
													role="img"
													aria-label="keyboardMap-background"
													alt="hidden keyboard functions"
													automationId="keyboardMap.background-image"
													[src]="image" />
												<img *ngIf="additionalCapabilitiesObj.privacy"
													class="keyboard-layer img-preview"
													id="keyboardMap-privacyIcon-image"
													role="img"
													[src]="privacyIcon"
													aria-hidden="true" />
												<img *ngIf="additionalCapabilitiesObj.backLight"
													class="keyboard-layer img-preview"
													[src]="kbdBlIcon"
													id="keyboardMap-kbdBlIcon-image"
													role="img"
													aria-hidden="true" />
												<img *ngIf="additionalCapabilitiesObj.performance"
													class="keyboard-layer img-preview"
													id="keyboardMap-merlynIcon-image"
													role="img"
													[src]="merlynIcon"
													aria-hidden="true" />
												<img *ngIf="additionalCapabilitiesObj.magnifier"
													class="keyboard-layer img-preview"
													id="keyboardMap-zoomIcon-image"
													role="img"
													[src]="zoomIcon"
													aria-hidden="true" />
											</div>
										</div>
									</div>
									<div class="row keys-row">
										<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex"
											*ngFor="let key of shortcutKeys;let i=index;">
											<div class="col-4 px-0">
												<h4 class="caption-tittle"
													id="keys-{{key.id}}-title">
													{{key.text + '.tittle' | translate}}
												</h4>
											</div>
											<div class="col-8 px-0">
												<p class="hidden-keyboard-text mb-0"
													id="keys-{{key.id}}-description">
													{{key.text + '.description' | translate}}
												</p>
											</div>
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>

							<li *ngIf="machineType === 1 && fnLockCapability">
								<vtr-top-row-functions></vtr-top-row-functions>
							</li>
							<li *ngIf="machineType === 0 && fnLockCapability">
								<vtr-top-row-functions-ideapad></vtr-top-row-functions-ideapad>
							</li>

							<li class="common-li-padding"
								*ngIf="machineType === 1 && isKbdBacklightAvailable">

								<vtr-backlight-thinkpad (showHide)="showHideKeyboardBacklight($event)">
								</vtr-backlight-thinkpad>
							</li>
							<li class="common-li-padding"
								*ngIf="machineType === 0 && backlightCapability$ | async">
								<vtr-backlight [isLastChild]="!showVoipHotkeysSection && !hasUDKCapability">
								</vtr-backlight>

							</li>

							<li class="common-li-padding voip"
								*ngIf="showVoipHotkeysSection">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.title' | translate"
									componentName="Input Accessories"
									[caption]="'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.description.main' | translate"
									[leftIcon]="['icomoon', 'icomoon-VOIP-Hotkeys']"
									[showChildContent]="true"
									[theme]="'white'"
									[isLastChild]="!hasUDKCapability"
									[rightIcon]="['far', 'question-circle']"
									[tooltipText]="'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.tooltip' | translate"
									[switchId]="'inputAccessories-VoipHotkeys'"
									automationId="[VoipHotkeys.title, VoipHotkeys.description.main, VoipHotkeys.tooltip]">
									<div class="row adjust-indent pt-2 caption">
										<div class="col-12 adjust-margin"
											role="heading"
											id="VoipHotkeys-description-f10">
											{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.description.f10' | translate}}
										</div>
										<div class="col-12 adjust-margin"
											role="heading"
											id="VoipHotkeys-description-f11">
											{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.description.f11' | translate}}
										</div>
									</div>
									<div class="row pt-2 pl-4"
										*ngIf="installedApps.length > 0; else noAppInstalled">
										<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
											<div class="pt-3 pb-4 prompting"
												role="heading"
												id="VoipHotkeys-hasInstalledAppsDescription">
												{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.hasInstalledAppsDescription' | translate}}
											</div>
											<div role="radiogroup"
												id="voip-installedApps-block"
												aria-label="installedApps selection list, select using arrow keys"
												class="voip-keys-block">
												<ng-container *ngFor="let installedApp of installedApps; index as i;">
													<vtr-ui-rectangle-radio *ngIf="installedApp.isAppInstalled"
														[ngClass]="{'mr-5': i === 0}"
														[radioId]="'voip-hotkeys-rectangle-radio' + i"
														[iconName]="'app-icon ' + iconName[installedApp.appName]"
														[label]="voipAppName[installedApp.appName]"
														[value]="''+installedApp.appName"
														[group]="'app'"
														[checked]="installedApp.isSelected"
														(change)="setVoipHotkeysSettings(installedApp)"
														automationid="VoipHotkeys.rectangle-radio-{{i}}">
													</vtr-ui-rectangle-radio>
												</ng-container>
											</div>

											<div class="row pt-5">
												<div class="feature-note col-12 p-4"
													id="hasInstalledApps-note"
													role="heading">
													<p class="mb-0"
														id="VoipHotkeys-hasInstalledAppsNote">
														{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.hasInstalledAppsNote' | translate}}
													</p>
												</div>
											</div>
										</div>
									</div>
									<ng-template #noAppInstalled>
										<div class="row adjust-indent">
											<div class="col-12 adjust-margin">
												<div class="pt-3 pb-4 prompting"
													id="VoipHotkeys-noInstalledAppsDescription"
													role="heading">
													{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.noInstalledAppsDescription' | translate}}
												</div>
											</div>
										</div>
										<div class="row adjust-indent mt-2">
											<div class="col-12 adjust-margin">
												<span role="img"
													id="app-icon-skype"
													class="app-icon icon-s4b mr-4"></span>
												<span id="skype-for-business"
													role="heading"
													class="app-text">Skype for Business 2016</span>
											</div>
										</div>
										<div class="row adjust-indent mt-5 pb-4 mb-5">
											<div class="col-12 adjust-margin">
												<span id="app-icon-microsoft"
													role="img"
													class="app-icon icon-teams mr-4"></span>
												<span id="microsoft-teams-1.0"
													role="heading"
													class="app-text">Microsoft Teams 1.0</span>
											</div>
										</div>
										<div class="row adjust-indent noInstalledAppsNote">
											<div class="feature-note col-12 p-4"
												id="noInstalledApps-note"
												aria-label="noInstalledApps-note">
												<p class="mb-0"
													id="VoipHotkeys-noInstalledAppsNote"
													role="heading">
													{{'device.deviceSettings.inputAccessories.inputAccessory.VoipHotkeys.noInstalledAppsNote' | translate}}
												</p>
											</div>
										</div>
									</ng-template>
								</vtr-ui-row-switch>
							</li>
							<!-- fnCtrlSwap & fnAsCtrl features hidden in 3.2.001 -->
							<li class="common-li-padding"
								*ngIf="machineType == 1 && fnCtrlSwapCapability">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.inputAccessories.fnCtrlKey.title' | translate"
									componentName="Fn key and Ctrl key swap"
									[caption]="'device.deviceSettings.inputAccessories.fnCtrlKey.description' | translate"
									[leftIcon]="['fal','sync']"
									[showChildContent]="true"
									[theme]="'white'"
									[isSwitchVisible]="true"
									[isSwitchChecked]="fnCtrlSwapStatus"
									(rebootToggleOnOff)="fnCtrlKey($event)"
									[switchId]="'inputAccessories-fnCtrlKey'"
									[isRebootRequired]="isRestartRequired">
									<div class="row">
										<div class="col-auto pt-3 img-block">
											<img alt="Fn and Ctrl key swap"
												role="img"
												src="assets/images/Fn-Ctrl-key.PNG">
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>

							<li class="common-li-padding"
								*ngIf="machineType == 1 && fnAsCtrlCapability">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.inputAccessories.fnCtrlKey.title2' | translate"
									componentName="Fn works as Ctrl for frequently used key combinations"
									[caption]="'device.deviceSettings.inputAccessories.fnCtrlKey.description2' | translate"
									[leftIcon]="['fal','sync']"
									[showChildContent]="true"
									[theme]="'white'"
									(toggleOnOff)="setFnAsCtrl($event)"
									[isSwitchVisible]="true"
									[isSwitchChecked]="fnAsCtrlStatus"
									[rightIcon]="['far', 'question-circle']"
									[fnCtrltoolTip]="true"
									[tooltipContent]="fnCtrlKeyTooltipContent"
									[switchId]="'inputAccessories-fnCtrlKey1'">
									<div class="row">
										<div class="feature-note note p-4">
											<p id="fnCtrlKey-featureNote">
												{{'device.deviceSettings.inputAccessories.fnCtrlKey.featureNote' | translate}}
											</p>
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>

							<li *ngIf="machineType === 1"
								class="common-li-padding">
								<vtr-user-defined-key></vtr-user-defined-key>
							</li>
						</ul>
						<!-- TouchPad & TrackPad Settings link -->
						<div class="control-options-block"
							*ngIf="isTouchPadVisible || isMouseVisible">
							<div class="row">
								<div class="col-auto">
									<h4 id="inputAccessories.controlOptions.more">
										{{'device.deviceSettings.inputAccessories.controlOptions.more' | translate}}
									</h4>
								</div>
							</div>
							<div class="row controls">
								<div class="col-auto"
									*ngIf="isTouchPadVisible">
									<a id="inputAccessories.controlOptions.touchpad"
										role="link"
										(click)='launchProtocol("ms-settings:devices-touchpad")'
										(keydown.enter)='launchProtocol("ms-settings:devices-touchpad")'
										tabindex="0">{{'device.deviceSettings.inputAccessories.controlOptions.control1' | translate}}
									</a>
								</div>
								<div class="col-auto"
									*ngIf="isMouseVisible">
									<a *ngIf="machineType === 1"
										role="link"
										id="inputAccessories.controlOptions.trackpoint"
										(click)='launchProtocol("ms-settings:mousetouchpad")'
										(keydown.enter)='launchProtocol("ms-settings:mousetouchpad")'
										[tabindex]="isMouseVisible && machineType === 1 ? 0 : -1">
										{{'device.deviceSettings.inputAccessories.controlOptions.control3' | translate}}
									</a>
									<a *ngIf="machineType !== 1"
										role="link"
										[tabindex]="isMouseVisible && machineType !== 1 ? 0 : -1"
										id="inputAccessories.controlOptions.mousecontrol"
										(click)='launchProtocol("ms-settings:mousetouchpad")'
										(keydown.enter)='launchProtocol("ms-settings:mousetouchpad")'>
										{{'device.deviceSettings.inputAccessories.controlOptions.control2' | translate}}
									</a>
									<!-- <ng-template #otherMachine> -->
									<!-- </ng-template> -->
								</div>
							</div>
						</div>
					</vtr-container-collapsible>
				</div>
			</div>
		</div>