<li class="user-defined-key-block"
	*ngIf="hasUDKCapability && machineType === 1">
	<vtr-ui-row-switch [title]="'device.deviceSettings.inputAccessories.userDefinedKey.title' | translate"
		componentName="User defined key"
		[caption]="'device.deviceSettings.inputAccessories.userDefinedKey.caption' | translate"
		[leftIcon]="['icomoon', 'icomoon-star']"
		[showChildContent]="true"
		[theme]="'white'"
		[tooltipText]="'device.deviceSettings.inputAccessories.userDefinedKey.tooltip' | translate"
		[switchId]="'ds-ip-userdefined-key'">
		<div class="row">
			<div class="col-12 pt-3 pl-5">
				<div class="row">
					<div class="col-auto pl-0">
						<img class="img-fluid f12-img"
							id="f12-key"
							aria-label="f12-key"
							src="assets/images/hardware-settings/F12-key.PNG">
					</div>
				</div>
				<div class="row">
					<div class="inputSection">
						<form name="udkBack"
							validate>

							<div class="col">
								<vtr-ui-dropdown [dropdownType]="'userdefined-key'"
									[isMetricsEnabled]=true
									[metricsParent]="metricsParent"
									[metricsItem]="'dropdown.udk.user-defined-key'"
									[dropDownName]="'UserDefinedKeyState.Dropdown'"
									[value]="selectedValue.value"
									[dropDownId]="'ip-userdefinedkey-dropdown-btn'"
									[list]="userDefinedKeyOptions"
									[disabled]="false"
									(selectionChange)="onChange($event)">
								</vtr-ui-dropdown>
							</div>
							<div class="col"
								*ngIf="selectedValue.value == 2">
								<form #form1="ngForm"
									novalidate
									(ngSubmit)="udkSubmit(2)">
									<div class="row no-gutters">
										<div class="input-group mt-3">
											<label id="ip-webseiteurl"
												role="text"
												attr.aria-label="ip-webseiteurl">{{'device.deviceSettings.inputAccessories.userDefinedKey.website.url' | translate}}</label>
											<textarea class="form-control"
												spellcheck="false"
												id="ip-webseiteurl-text"
												role="text"
												attr.aria-label="ip-webseiteurl-text"
												[(ngModel)]="url"
												[placeholder]="'device.deviceSettings.inputAccessories.userDefinedKey.website.placeholder' | translate"
												name="url"
												required
												tabindex="0"></textarea>
										</div>
										<div class="col-12">
											<p *ngIf="isUDFSetSuccessVisible"
												class="select-text pt-3 udf-set-success"
												id="userDefinedKey-successMessage"
												role="text"
												attr.aria-label="userDefinedKey.website.successMessage">
												{{'device.deviceSettings.inputAccessories.userDefinedKey.website.successMessage'| translate}}
											</p>
											<p *ngIf="isUDFSetFailedVisible"
												id="userDefinedKey-invalidURLMessage"
												role="text"
												attr.aria-label="userDefinedKey.website.invalidURLMessage"
												class="select-text pt-3 udf-set-failed">
												{{'device.deviceSettings.inputAccessories.userDefinedKey.website.invalidURLMessage'
										| translate}}
											</p>
											<button type="submit"
												class="button"
												title=""
												id="ip-userdefined-key-applybtn"
												attr.aria-label="ip-userdefined-key-applybtn"
												[matTooltip]="'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate"
												[disabled]="!url"
												matTooltipClass="vtr-system-tooltip"
											>
												<span
													class="text-ellipsis">{{'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate}}</span>
											</button>
										</div>
									</div>
								</form>
							</div>


							<div class="col"
								*ngIf="selectedValue.value == 3">
								<p class="note align-items-center"
									id="inputAccessories.userDefinedKey.dropDown.note"
									role="text"
									attr.aria-label="inputAccessories.userDefinedKey.dropDown.note">
									{{'device.deviceSettings.inputAccessories.userDefinedKey.dropDown.note' | translate}}
								</p>
							</div>

							<div class="col"
								*ngIf="selectedValue.value == 3">

								<form #form2="ngForm"
									novalidate
									(ngSubmit)="udkSubmit(3)">
									<div class="row no-gutters">
										<div class="input-group mt-3">
											<label id="ip-texttobe-entered"
												role="text"
												attr.aria-label="ip-texttobe-entered">{{'device.deviceSettings.inputAccessories.userDefinedKey.enterText.title' | translate}}</label>
											<textarea class="form-control"
												[(ngModel)]="description"
												name="description"
												id="ip-text-entered"
												role="text"
												attr.aria-label="ip-text-entered"
												spellcheck="false"
												[placeholder]="'device.deviceSettings.inputAccessories.userDefinedKey.enterText.placeholder' | translate"
												(keydown)="onKeydown($event)"
												required></textarea>
										</div>
										<div class="col-12">
											<p *ngIf="isUDFSetSuccessVisible"
												class="select-text pt-3 udf-set-success"
												id="userDefinedKey-successMessage"
												role="text"
												attr.aria-label="userDefinedKey.website.successMessage">
												{{'device.deviceSettings.inputAccessories.userDefinedKey.website.successMessage' | translate}}
											</p>
											<button id="ip-userdefined-key-applybtn"
												attr.aria-label="ip-userdefined-key-applybtn"
												type="submit"
												class="button"
												title=""
												[disabled]="!description"
												[matTooltip]="'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate"
												matTooltipClass="vtr-system-tooltip"
											>
												<span
													class="text-ellipsis">{{'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate}}</span>
											</button>
										</div>
									</div>
								</form>
							</div>

							<div class="col"
								*ngIf="selectedValue.value == 4">
								<br>
								<form #form1="ngForm"
									novalidate>
									<div class="row">
										<p class="col title"
											role="text"
											id="applications-toOpen">
											{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.applicationsToOpen' | translate}}
										</p>
										<div class="col-auto px-0">
											<button *ngIf="applicationList.length<6 && applicationList.length"
												id="add-application"
												attr.aria-label="add-application"
												(click)="udkSubmit(4);"
												class="title add"
												tabindex="0">{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.add' | translate}}</button>
											<span *ngIf="applicationList.length>=6"
												tabindex="0"
												data-toggle="tooltip"
												title=""
												[matTooltip]="'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.applicationTitle' | translate"
												matTooltipClass="vtr-system-tooltip"
											>
												<button *ngIf=applicationList.length
													(click)="udkSubmit(4);"
													id="add-application"
													attr.aria-label="add-application"
													[disabled]="applicationList.length>=6"
													class="title add">{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.add' | translate}}</button>
											</span>
										</div>
									</div>
									<div class="row no-gutters">
										<div class="col mt-3">
											<div class="open-apps-block"
												id="addApplication-icon"
												role="img"
												*ngIf=!applicationList.length>
												<fa-icon [icon]="['fal', 'plus-square']"
													(click)="udkSubmit(4);"
													(keydown.enter)="udkSubmit(4)"
													tabindex="0">
												</fa-icon>
											</div>
											<div class="open-apps-block"
												*ngFor="let application of applicationList; index as i">
												<div
													class="d-flex justify-content-between align-items-center p-4 apps-list">
													<p class="app-name"
														role="text"
														id="{{application.value}}">
														{{application.value}}
													</p>
													<div class="app-name delete-app"
														role="button"
														id="delete-app-{{application.value}}"
														attr-aria-label="delete-app-{{i+1}}"
														(click)="deleteApplicationOrFile('0',application.key,application.value,i,'APPLICATIONS');"
														tabindex="0">
														{{'hardwareScan.scheduledScan.delete'| translate}}</div>
												</div>
											</div>
										</div>
									</div>
								</form>
								<br>
								<form #form1="ngForm"
									novalidate>
									<div class="row">
										<div class="col title"
											role="text"
											id="files-toOpen">
											{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.filesToOpen' | translate}}
										</div>
										<div class="col-auto px-0">
											<button *ngIf="fileList.length<6 && fileList.length"
												(click)="udkSubmit(5);"
												id="add-file"
												attr.aria-label="add-file"
												class="title add">{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.add' | translate}}</button>
											<span *ngIf="fileList.length>=6"
												class="d-inline-block disabled-tooltip"
												tabindex="0"
												data-toggle="tooltip"
												title=""
												[matTooltip]="'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.fileTitle' | translate"
												matTooltipClass="vtr-system-tooltip"
											>
												<button *ngIf=fileList.length
													(click)="udkSubmit(5);"
													id="add-file"
													attr.aria-label="add-file"
													[disabled]="fileList.length>=6"
													class="title add">{{'device.deviceSettings.inputAccessories.userDefinedKey.openapplicationsorfiles.add' | translate}}</button>
											</span>
										</div>
									</div>
									<div class="row no-gutters">
										<div class="col mt-3">
											<div class="open-apps-block"
												role="img"
												id="addFile-icon"
												*ngIf=!fileList.length>
												<fa-icon [icon]="['fal', 'plus-square']"
													(click)="udkSubmit(5);"
													(keydown.enter)="udkSubmit(5)"
													tabindex="0">
												</fa-icon>
											</div>
											<div class="open-apps-block"
												*ngFor="let file of fileList; index as i">
												<div
													class="d-flex justify-content-between align-items-center p-4 apps-list">
													<p class="app-name text-ellipsis"
														id="{{file.value}}"
														role="text"
														[matTooltip]=file.value
														matTooltipClass="vtr-system-tooltip"
														data-toggle="tooltip">
														{{file.value}}
													</p>
													<div class="app-name delete-app"
														id="delete-file-{{file.value}}"
														role="button"
														attr-aria-label="delete-file-{{i+1}}"
														(click)="deleteApplicationOrFile('0',file.key,file.value,i,'FILES');"
														tabindex="0">
														{{'hardwareScan.scheduledScan.delete'| translate}}</div>
												</div>
											</div>
										</div>
									</div>
								</form>
								<div class="col-12">
									<p *ngIf="isUDFSetSuccessVisible"
										class="select-text pt-3 udf-set-success"
										id="userDefinedKey-successMessage"
										role="text"
										attr.aria-label="userDefinedKey.website.successMessage">
										{{'device.deviceSettings.inputAccessories.userDefinedKey.website.successMessage'| translate}}
									</p>
								</div>
							</div>
							<div class="col"
								*ngIf="selectedValue.value == 5">
								<p class="note align-items-center"
									id="invoke-key-sequence-note"
									role="text"
									attr.aria-label="ip-accesories-note">
									{{'device.deviceSettings.inputAccessories.userDefinedKey.dropDown.invokeKeySequenceNote' | translate}}
								</p>
							</div>
							<div class="col"
								*ngIf="selectedValue.value == 5">
								<form #form2="ngForm"
									novalidate
									(ngSubmit)="udkSubmit(6)">
									<div class="row no-gutters">
										<div class="input-group mt-3">
											<label id="ip-texttobe-entered-keysequence"
												role="text"
												attr.aria-label="ip-texttobe-entered-keysequence">{{'device.deviceSettings.inputAccessories.userDefinedKey.invokeKeySequence.title' | translate}}</label>
											<div class="txt-ara-box">
												<textarea class="form-control"
													[readonly]=true
													name="invoke-key-value"
													spellcheck="false"
													role="text"
													id="invoke-key-sequence"
													attr.aria-label="invoke-key-sequence"
													[(ngModel)]="this.keyCode"
													[placeholder]="'device.deviceSettings.inputAccessories.userDefinedKey.invokeKeySequence.placeholder' | translate"
													(keydown)="invokeKeySequence($event)"
													(focus)="checkSpecialKeyFileExistAndDelete()"
													required></textarea>
												<div class="del-btn"
													#deleteKeyFocus
													*ngIf="this.keyCode"
													id="delete-key-sequence"
													tabindex="0"
													role="button"
													attr.aria-label="invoke-key-sequence-delete"
													(click)="resetInvokeSequence($event);"
													(keydown)="resetInvokeSequence($event);">
													<a
														id="user-defined-delete-key-sequence">{{'hardwareScan.scheduledScan.delete'| translate}}</a>
												</div>
											</div>
										</div>
										<div class="col-12">
											<p *ngIf="isUDFSetSuccessVisible"
												id="userDefinedKey-successMessage"
												role="text"
												class="select-text pt-3 udf-set-success">
												{{'device.deviceSettings.inputAccessories.userDefinedKey.website.successMessage' | translate}}
											</p>
											<button id="ip-userdefined-key-applybtn"
												attr.aria-label="ip-userdefined-key-applybtn"
												type="submit"
												class="button"
												title=""
												[matTooltip]="'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate"
												[disabled]="!this.keyCode"
												matTooltipClass="vtr-system-tooltip"
											>
												<span
													class="text-ellipsis">{{'device.deviceSettings.inputAccessories.userDefinedKey.apply.title' | translate}}</span>
											</button>
										</div>
									</div>
								</form>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</vtr-ui-row-switch>
</li>
