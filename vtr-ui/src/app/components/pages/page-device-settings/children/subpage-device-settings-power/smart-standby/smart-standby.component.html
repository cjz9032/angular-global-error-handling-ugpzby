<div class="row py-5"
	id="smartStandby"
	*ngIf="smartStandby?.isCapable">
	<div class="col-12 px-0 container-border">
		<vtr-container-collapsible [cardTitle]="'device.deviceSettings.power.smartStandby.title' | translate"
			[isCollapsed]="false"
			[collapseLinkId]="'smartrStandby'"
			[tabIndex]="0">
			<ul class="list-group list-group-flush">
				<li>
					<vtr-ui-row-switch [caption]="caption"
						[isSwitchVisible]=true
						[isLastChild]=true
						[showChildContent]="true"
						[rightIcon]="['far', 'question-circle']"
						[tooltipText]="tooltipText"
						[isSwitchChecked]="smartStandby.isEnabled"
						(toggleOnOff)="onSmartStandbyToggle($event)"
						[switchId]="'smartStandby'">
					</vtr-ui-row-switch>
					<div>
						<div *ngIf="isAutonomicCapability"
							class="schedule_header">
							<h5>{{ 'device.deviceSettings.power.smartStandby.subTitle' | translate }}</h5>
							<vtr-ui-rounded-rectangle-radio [radioId]="'automatic_show'"
								[group]="'smartStandByBtns'"
								name="nMehod_show"
								[label]="'device.deviceSettings.power.smartStandby.automaticMode' | translate"
								[value]="'Automatic mode'"
								[checked]="checkbox"
								(change)="onCheckboxClicked(true);isCollapsed = true"
								[disabled]="!smartStandby.isEnabled">
							</vtr-ui-rounded-rectangle-radio>
							<vtr-ui-rounded-rectangle-radio [radioId]="'manual_show'"
								[group]="'smartStandByBtns'"
								name="fnKeyMehod_show"
								[label]="'device.deviceSettings.power.smartStandby.manualMode' | translate"
								[value]="'Manual mode'"
								[checked]="!checkbox"
								(change)="onCheckboxClicked(false)"
								[disabled]="!smartStandby.isEnabled">
							</vtr-ui-rounded-rectangle-radio>
						</div>
					</div>
					<div *ngIf="!isAutonomicCapability && smartStandby?.isEnabled"
						class="schedule_header">
						<h5>{{ 'device.deviceSettings.power.smartStandby.subTitle2' | translate }}</h5>
					</div>
					<div class="schedule"
						*ngIf="isAutonomicCapability && checkbox && smartStandby?.isEnabled">
						<h5>
							{{ 'device.deviceSettings.power.smartStandby.subNote' | translate }}
						</h5>
					</div>
					<div *ngIf="!checkbox && smartStandby?.isEnabled && isAutonomicCapability"
						class="schedule">
						<h5>
							{{ 'device.deviceSettings.power.smartStandby.timer.heading' | translate }}
						</h5>
						<span>
							{{smartStandbyService.schedule}}
						</span>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<span>
							{{'common.ui.from' | translate}} {{smartStandbyStartTime }}
							{{'common.ui.to' | translate}} {{smartStandbyEndTime}}
						</span>
					</div>
					<div *ngIf="!checkbox && smartStandby?.isEnabled"
						class="click-to-change-collapse">
						<!-- header -->
						<div *ngIf="isAutonomicCapability"
							class="collapse-header"
							(click)="onToggle(timeToggle)"
							(keydown.enter)="onToggle(timeToggle)"
							[attr.aria-expanded]="!isCollapsed"
							#timeToggle
							tabindex="0"
							aria-label="smart standby, time picker-toggle button">
							<div>
								<div *ngIf="isCollapsed"
									class="collapse-text">
									<!-- Expand -->
									{{'common.ui.clickToChange' | translate | uppercase }}
								</div>
								<div *ngIf="!isCollapsed"
									class="collapse-text">
									<!-- Collapse -->
									{{'common.ui.collapse' | translate | uppercase }}
								</div>
							</div>
							<div class="collapse-header-icon">
								<fa-icon *ngIf="isCollapsed"
									[icon]="['fal', 'chevron-down']"></fa-icon>
								<fa-icon *ngIf="!isCollapsed"
									[icon]="['fal', 'chevron-up']"></fa-icon>
							</div>
						</div>
						<!-- header end -->

						<!-- content start -->
						<div [ngbCollapse]="isCollapsed">
							<section *ngIf="smartStandby?.isEnabled">
								<div class="smart-standby-timer">
									<vtr-ui-time-picker [time]="smartStandbyStartTime"
										[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading1'"
										[id]="'dropcheck1'"
										[showDropDown]="showDropDown[0]"
										(setTime)="onSetActiveStartEnd($event, true)"
										[label]="'smart standby , start time dropdown'"
										[linkId]="'start'">
									</vtr-ui-time-picker>
									<vtr-ui-time-picker [time]="smartStandbyEndTime"
										[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading2'"
										[id]="'dropcheck2'"
										[showDropDown]="showDropDown[1]"
										(setTime)="onSetActiveStartEnd($event, false)"
										[label]="'smart standby , end time dropdown'"
										[linkId]="'end'">
									</vtr-ui-time-picker>
									<div *ngIf="showDiffNote"
										class="row">
										<div class="col-md-12 pl-0">
											<div class="note align-items-center"
												id="smartStandby-timer-endTimeNote"
												aria-label="smartStandby-timer-endTimeNote">
												{{ 'device.deviceSettings.power.smartStandby.timer.endTimeNote' | translate }}
											</div>
										</div>
									</div>
									<vtr-ui-days-picker
										[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading3'"
										[daysId]="'dropcheck3'"
										[showDropDown]="showDropDown[2]"
										(setDays)="onSetDaysOfWeekOff($event)"></vtr-ui-days-picker>
								</div>
							</section>
						</div>
						<!-- content end -->
					</div>
					<div *ngIf="isAutonomicCapability"
						vtrMetrics
						metricsItem="Open Smart Standby Modal"
						metricsEvent="featureClick"
						metricsParent="Device.deviceSettings"
						id="modal_smartStandby_graphLink"
						metricsValue=true
						[ngClass]="{'disabled': !smartStandby.isEnabled}"
						class="hyperlink-to-graph"
						(click)="showUsageGraph()"
						tabindex="0"
						attr.aria-label="{{'device.deviceSettings.power.smartStandby.hyperlinkToGraph' | translate}}">
						{{'device.deviceSettings.power.smartStandby.hyperlinkToGraph' | translate}}
					</div>
				</li>
			</ul>
		</vtr-container-collapsible>
	</div>
</div>
