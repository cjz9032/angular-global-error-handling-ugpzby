<div class="row pt-5 smart-settings-card"
	id="smartStandby"
	*ngIf="smartStandby?.isCapable">
	<div class="col-12 px-0 container-border">
		<vtr-container-collapsible [cardTitle]="'device.deviceSettings.power.smartStandby.sectionTitle' | translate"
			[headerLevel]="3"
			[isCollapsed]="false"
			[collapseLinkId]="'smart-standby-collapse'"
			[tabIndex]="0">
			<ul class="list-group list-group-flush">
				<li>
					<vtr-ui-row-switch [title]="'device.deviceSettings.power.smartStandby.title' | translate"
						[caption]="caption"
						[isSwitchVisible]=true
						[isLastChild]=true
						[showChildContent]="true"
						[leftIcon]="['icomoon', 'icomoon-DS-ic-list_Smart-standby']"
						[rightIcon]="['far', 'question-circle']"
						[tooltipText]="tooltipText"
						[isSwitchChecked]="smartStandby.isEnabled"
						(toggleOnOff)="onSmartStandbyToggle($event)"
						[switchId]="'smart-standby-toggle'">
						<div class="pl-4 mt-3 ml-2">
							<div>
								<div *ngIf="isAutonomicCapability"
									class="schedule_header">
									<h5 id="smart-standby-schedule-computer"
										attr.aria-label="smart-standby-schedule-computer">
										{{ 'device.deviceSettings.power.smartStandby.subTitle' | translate }}
									</h5>

									<vtr-ui-rounded-rectangle-custom-radio-list
										[groupName]="'smart-standby-schedule-computer-mode-radio-group'"
										[radioDetails]="scheduleComputerModesUIModel"
										(selectionChange)="onCheckboxClicked($event)">
									</vtr-ui-rounded-rectangle-custom-radio-list>
								</div>
							</div>
							<div *ngIf="!isAutonomicCapability && smartStandby?.isEnabled"
								class="schedule_header">
								<h5>{{ 'device.deviceSettings.power.smartStandby.subTitle2' | translate }}
								</h5>
							</div>
							<div class="schedule"
								*ngIf="isAutonomicCapability && checkbox && smartStandby?.isEnabled">
								<h5 id="smartStandby-automaticMode-subNote">
									{{ 'device.deviceSettings.power.smartStandby.subNote' | translate }}
								</h5>
							</div>
							<div *ngIf="!checkbox && smartStandby?.isEnabled && isAutonomicCapability"
								class="schedule">
								<h5 id="smartstandby-timer-heading"
									attr.aria-label="smartstandby-timer-heading">
									{{ 'device.deviceSettings.power.smartStandby.timer.heading' | translate }}
								</h5>
								<span id="smartstandby-schedule"
									role="text"
									attr.aria-label="smartstandby-schedule">
									{{smartStandbyService.schedule}}
								</span>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<span id="smartstandby-time"
									role="text"
									attr.aria-label="smartstandby-time">
									{{'common.ui.from' | translate}} {{smartStandbyStartTime }}
									{{'common.ui.to' | translate}} {{smartStandbyEndTime}}
								</span>
							</div>
							<div *ngIf="!checkbox && smartStandby?.isEnabled"
								class="click-to-change-collapse">
								<!-- header -->
								<div *ngIf="isAutonomicCapability"
									class="collapse-header"
									(click)="onToggle(timeToggle)"
									(keydown.enter)="onToggle(timeToggle)"
									#timeToggle>
									<div>
										<div [style.display]="isCollapsed? 'block':'none'"
											class="collapse-text"
											role="button"
											[attr.aria-expanded]="!isCollapsed"
											tabindex="0"
											id="smartstandby-click-to-change">
											<!-- Expand -->
											{{'common.ui.clickToChange' | translate | uppercase }}
										</div>
										<div [style.display]="isCollapsed? 'none':'block'"
											class="collapse-text"
											id="smartstandby-click-to-change-collapse"
											role="button"
											[attr.aria-expanded]="!isCollapsed"
											tabindex="0">
											<!-- Collapse -->
											{{'common.ui.collapse' | translate | uppercase }}
										</div>
									</div>
									<div class="collapse-header-icon">
										<fa-icon *ngIf="isCollapsed"
											[icon]="['fal', 'chevron-down']"></fa-icon>
										<fa-icon *ngIf="!isCollapsed"
											[icon]="['fal', 'chevron-up']"></fa-icon>
									</div>
								</div>
								<!-- header end -->

								<!-- content start -->
								<div [ngbCollapse]="isCollapsed">
									<section *ngIf="smartStandby?.isEnabled">
										<div class="smart-standby-timer">
											<vtr-ui-time-picker [time]="smartStandbyStartTime"
												[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading1'"
												[id]="'dropcheck1'"
												[showDropDown]="showDropDown[0]"
												(setTime)="onSetActiveStartEnd($event, true)"
												[label]="'smart standby , start time dropdown'"
												[linkId]="'smart-standby-start-dd-label'">
											</vtr-ui-time-picker>
											<vtr-ui-time-picker [time]="smartStandbyEndTime"
												[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading2'"
												[id]="'dropcheck2'"
												[showDropDown]="showDropDown[1]"
												(setTime)="onSetActiveStartEnd($event, false)"
												[label]="'smart standby , end time dropdown'"
												[linkId]="'smart-standby-end-dd-label'">
											</vtr-ui-time-picker>
											<div *ngIf="showDiffNote"
												class="row">
												<div class="col-md-12 pl-0">
													<div class="note align-items-center"
														id="smartStandby-timer-endTimeNote"
														role="text"
														attr.aria-label="END time must be within 20 hours from START time">
														{{ 'device.deviceSettings.power.smartStandby.timer.endTimeNote' | translate }}
													</div>
												</div>
											</div>
											<vtr-ui-days-picker
												[subHeadingText]="'device.deviceSettings.power.smartStandby.timer.subHeading3'"
												[daysId]="'dropcheck3'"
												[linkId]="'smart-standby-use-schedule-dd-label'"
												[showDropDown]="showDropDown[2]"
												(setDays)="onSetDaysOfWeekOff($event)"></vtr-ui-days-picker>
										</div>
									</section>
								</div>
								<!-- content end -->
							</div>
							<div *ngIf="isAutonomicCapability"
								#showGraph
								(keydown.enter)="showGraph.click()"
								vtrMetrics
								metricsItem="Open Smart Standby Modal"
								metricsEvent="featureClick"
								metricsParent="Device.deviceSettings"
								metricsValue=true
								[ngClass]="{'disabled': !smartStandby.isEnabled}"
								class="hyperlink-to-graph"
								id="modal_smartStandby_graphLink"
								role="link"
								tabindex="0"
								(click)="showUsageGraph()"
								(keydown.enter)="showUsageGraph()"
								attr.aria-label="{{'device.deviceSettings.power.smartStandby.hyperlinkToGraph' | translate}}">
								{{'device.deviceSettings.power.smartStandby.hyperlinkToGraph' | translate}}
							</div>
						</div>
					</vtr-ui-row-switch>
				</li>
			</ul>
		</vtr-container-collapsible>
	</div>
</div>