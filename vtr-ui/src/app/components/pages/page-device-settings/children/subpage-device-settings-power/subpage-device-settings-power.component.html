<div class="subpage-device-settings-power vtr-subpage">
	<div class="row">
		<div class="col">
			<vtr-ui-header-subpage
				[menu]="{items: headerMenuItems, title: 'device.deviceSettings.power.jumpto.title' | translate}"
				[title]="'device.deviceSettings.power.title' | translate"
				[caption]="'device.deviceSettings.power.description' | translate"
				[textId]="'myDevice-settings-power'"></vtr-ui-header-subpage>
		</div>
	</div>
	<div class="row">
		<div class="col">

			<!-- ****************** Lenovo Vantage toolbar ******************************** -->
			<div class="row pt-5 smart-settings-card"
				id="other"
				*ngIf="vantageToolbarStatus.available">
				<div class="col-12 mx-auto container-card">
                    <vtr-container-collapsible
                        [headerLevel]="3"
						componentName="'device.deviceSettings.power.otherSettings.title' | translate"
						[tabIndex]="0"
						[vtrAppSearchScroller]="['search-vantage-toolbar']"
						[cardTitle]="'device.deviceSettings.power.otherSettings.title' | translate"
						[isCollapsed]="false"
						[collapseLinkId]="'device-settings-otherSettings'">
						<ul class="list-group list-group-flush">
							<li class="">
								<vtr-ui-row-switch
									[componentName]="'device.deviceSettings.power.otherSettings.title' | translate"
									[title]="'device.deviceSettings.power.otherSettings.vantageToolbar.title' | translate"
									[caption]="'device.deviceSettings.power.otherSettings.vantageToolbar.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]=true
									[leftIcon]="['fal', 'thumbtack']"
									[isSwitchChecked]="vantageToolbarStatus.status"
									[showChildContent]=true
									[switchId]="'ds-power-otherSettings-toolBar'"
									(toggleOnOff)="onVantageToolBarStatusToggle($event)">
									<div class="row">
										<div class="col px-5">
											<div class="row mt-4 ml-4">
												<div class="toolbar-img">
													<img *ngIf="isDesktopMachine"
														alt="Pin Lenovo Vantage toolbar to Windows taskbar"
														class="img-fluid mx-auto d-block"
														src="assets/images/hardware-settings/pin_toolbar_desktop.png">
													<img *ngIf="!isDesktopMachine"
														alt="Pin Lenovo Vantage toolbar to Windows taskbar"
														class="img-fluid mx-auto d-block"
														src="assets/images/hardware-settings/pin_toolbar_laptop.png">
												</div>
											</div>
											<p role="text"
												id="device.deviceSettings.power.otherSettings.vantageToolbar.hint"
												class="auto-detection-note">
												{{  'device.deviceSettings.power.otherSettings.vantageToolbar.hint' | translate }}
											</p>
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>
						</ul>
					</vtr-container-collapsible>
				</div>
			</div>
			<!-- ************** End of Lenovo Vantage toolbar **************************** -->

			<!-- ************** Power Smart Settings Section *************************** -->
			<vtr-power-smart-settings *ngIf="!isDesktopMachine"
				(isPowerSmartSettingVisible)="onSetSmartSettingsCapability($event)">
			</vtr-power-smart-settings>
			<!-- **************** Power Smart Settings Section *********************** -->

			<!-- ****************** Smart Standby Section ******************************** -->
			<vtr-smart-standby *ngIf="!isDesktopMachine"
				(smartStandbyCapability)="onSetSmartStandbyCapability($event)">
			</vtr-smart-standby>
			<!-- ****************** Smart Standby Section ***************************** -->

			<!-- ****************** Battery Section ******************************** -->
			<div *ngIf="isBatterySectionAvailable"
				class="row pt-5 smart-settings-card"
				id="battery">
				<div class="col-12 mx-auto container-card battery-settings-block">

                    <vtr-container-collapsible
                        [headerLevel]="3"
						[cardTitle]="'device.deviceSettings.power.batterySettings.title' | translate"
						[tabIndex]="0"
						[vtrAppSearchScroller]="['search-airplane-mode', 'search-charge-threshold']"
						[isCollapsed]="false"
						[collapseLinkId]="'device-settings-batterySettings'">
						<ul class="list-group list-group-flush">
							<li class="common-li-padding"
								*ngIf="machineType === 1 && chargeThresholdCapability && thresholdInfo?.length>0">
								<!-- Start Battery Charge Threshold -->
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.batterySettings.batteryThreshold.title' | translate"
									[caption]="'device.deviceSettings.power.batterySettings.batteryThreshold.description' | translate "
									[isSwitchVisible]=true
									[isLastChild]="!conservationModeStatus.available && !expressChargingStatus.available && !gaugeResetCapability"
									[leftIcon]="['fal', 'battery-half']"
									[rightIcon]="['far', 'question-circle']"
									[showChildContent]="true"
									[isSwitchChecked]="chargeThresholdStatus"
									(toggleOnOff)="onToggleBCTSwitch($event)"
									[switchId]="'ds-power-battery-threshold'"
									[isDisabled]="batteryService.isGaugeResetRunning || batteryService.isInvalidBattery"
									[tooltipText]="'device.deviceSettings.power.batterySettings.batteryThreshold.tooltip' | translate">
									<div *ngIf="chargeThresholdStatus">
										<vtr-battery-charge-threshold-settings [title]="'device.deviceSettings.power.batterySettings.batteryThreshold.settings.title'
												+ thresholdInfo[0].batteryNum | translate"
											[isDisabled]="batteryService.isGaugeResetRunning || batteryService.isInvalidBattery"
											[bctInfo]="thresholdInfo[0]"
											[textId]="thresholdInfo[0].batteryNum===1?'threshold-primary-battery': 'threshold-secondary-battery'"
											(changeBCTInfo)="onBCTInfoChange($event, 0)"
											(autoChecked)="onAutoCheckChange($event, 0)">
										</vtr-battery-charge-threshold-settings>

										<vtr-battery-charge-threshold-settings *ngIf="thresholdInfo.length===2"
											[title]="'device.deviceSettings.power.batterySettings.batteryThreshold.settings.title2' | translate"
											[isDisabled]="batteryService.isGaugeResetRunning || batteryService.isInvalidBattery"
											[bctInfo]="thresholdInfo[1]"
											[textId]="'threshold-secondary-battery'"
											(changeBCTInfo)="onBCTInfoChange($event, 1)"
											(autoChecked)="onAutoCheckChange($event, 1)">
										</vtr-battery-charge-threshold-settings>

										<vtr-battery-charge-threshold-settings *ngIf="!batteryService.isGaugeResetRunning && showBCTWarningNote"
											[displayNoteOnly]="true"
											[showBCTWarningNote]="showBCTWarningNote">
										</vtr-battery-charge-threshold-settings>
									</div>
								</vtr-ui-row-switch>
							</li>
							<!-- End Battery Charge Threshold -->

							<!-- Start Gauge Reset -->
							<li class="common-li-padding"
								*ngIf="gaugeResetCapability && batteryService.gaugeResetInfo?.length>0">
								<vtr-battery-gauge-reset></vtr-battery-gauge-reset>
							</li>
							<!-- End Gauge  Reset -->

							<!-- Start Battery Health -->
							<li class="common-li-padding" *ngIf="batteryHealthAvailable">
								<vtr-battery-health
									[hideSeparation] = "!conservationModeStatus.available && !expressChargingStatus.available">
								</vtr-battery-health>
							</li>
							<!-- End battery health -->

							<!-- Start Express Charging -->
							<li class="common-li-padding"
								*ngIf="expressChargingStatus?.available">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.batterySettings.expressCharging.title' | translate"
									[caption]="'device.deviceSettings.power.batterySettings.expressCharging.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]="!conservationModeStatus.available"
									[leftIcon]="['fal', 'battery-bolt']"
									[tooltipText]="'device.deviceSettings.power.batterySettings.expressCharging.tooltip' | translate"
									[isSwitchChecked]="expressChargingStatus.status"
									[disabled]="expressChargingLock"
									[showLoaderState]="false"
									[switchId]="'ds-power-battery-expressCharging'"
									[label]="'rapid charging, toggle button'"
									(toggleOnOff)="changeBatteryMode('expressCharging')">
								</vtr-ui-row-switch>
							</li>
							<!-- End Express Charging -->

							<!-- Start Conservation Status -->
							<li class="common-li-padding"
								*ngIf="conservationModeStatus?.available">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.batterySettings.conservationMode.title' | translate"
									[caption]="'device.deviceSettings.power.batterySettings.conservationMode.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]=true
									[leftIcon]="['fal', 'battery-quarter']"
									[tooltipText]="'device.deviceSettings.power.batterySettings.conservationMode.tooltip.line1' | translate"
									[isSwitchChecked]="conservationModeStatus.status"
									[disabled]="conservationModeLock"
									[showLoaderState]="false"
									[switchId]="'ds-power-battery-conservationMode'"
									(toggleOnOff)="changeBatteryMode('conservationMode')">
								</vtr-ui-row-switch>
							</li>
							<!-- End Conservation Status -->

						</ul>
					</vtr-container-collapsible>
				</div>
			</div>
			<!-- ****************** End Battery Section ******************************** -->

			<!-- ****************** Start Power Section ******************************** -->
			<div class="row pt-5 smart-settings-card"
				id="power"
				*ngIf="isPowerSectionAvailable">
				<div class="col-12 mx-auto container-card power-settings-block">
                    <vtr-container-collapsible
                        [headerLevel]="3"
						[cardTitle]="'device.deviceSettings.power.powerSettings.title' | translate"
						[tabIndex]="0"
						[vtrAppSearchScroller]="['search-usb-charging', 'search-easy-resume']"
						[isCollapsed]="false"
						[collapseLinkId]="'device-settings-powerSettings'">
						<ul class="list-group list-group-flush">
							<!-- Start Airplane Power Mode -->
							<li class="common-li-padding"
								*ngIf="showAirplanePowerModeSection">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.batterySettings.airPlanePower.title' | translate"
									[caption]="'device.deviceSettings.power.batterySettings.airPlanePower.description' | translate"
									[isSwitchVisible]=true
									[leftIcon]="['fal', 'plane']"
									[tooltipText]="'device.deviceSettings.power.batterySettings.airPlanePower.description' | translate"
									[isSwitchChecked]="toggleAirplanePowerModeFlag"
									[showChildContent]=true
									[switchId]="'ds-power-battery-airplane'"
									(toggleOnOff)="onToggleOfAirplanePowerMode($event)">
									<div class="row">
										<div class="col px-5">
											<vtr-ui-checkbox [componentId]="'cb-airplane-mode'"
												[isMetricsEnabled]=true
												[metricsParent]='metricsParent'
												[metricsItem]="'cb.power-settings.airplane-mode'"
												[value]="airplaneAutoDetection"
												[checked]="airplaneAutoDetection"
												[label]="'device.deviceSettings.power.batterySettings.airPlanePower.checkBoxDesc' | translate"
												(toggle)='onAirplaneAutoModeStatusChange($event)'>
											</vtr-ui-checkbox>
											<div *ngIf="airplaneAutoDetection"
												id="power.batterySettings.airPlanePower.note"
												class="auto-detection-note">
												{{  'device.deviceSettings.power.batterySettings.airPlanePower.note' | translate }}
											</div>
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>
							<!-- End Airplane Power Mode -->

							<!-- Start Flip to start -->
							<li *ngIf="showFlipToStartSection$ | async"
								class="common-li-padding">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.powerSettings.flipToStart.title' | translate"
									[caption]="'device.deviceSettings.power.powerSettings.flipToStart.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]=false
									[isSwitchChecked]='toggleFlipToStartStatus'
									[leftIcon]="['icomoon','icomoon-Flip-to-start']"
									[rightIcon]="['far', 'question-circle']"
									[tooltipText]="'device.deviceSettings.power.powerSettings.flipToStart.tooltip' | translate"
									[switchId]="'ds-power-flipToStart'"
									(toggleOnOff)="onToggleOfFlipToStart($event)">
								</vtr-ui-row-switch>
							</li>
							<!-- End Flip to start -->

							<!-- Start Always on USB -->
							<li class="common-li-padding"
								*ngIf="!isDesktopMachine && alwaysOnUSBStatus.available">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.powerSettings.alwaysUSB.title' | translate"
									[caption]="'device.deviceSettings.power.powerSettings.alwaysUSB.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]="!showEasyResumeSection"
									[isSwitchChecked]="toggleAlwaysOnUsbFlag"
									[leftIcon]="['fab', 'usb']"
									[rightIcon]="[]"
									[showChildContent]="true"
									[tooltipText]=""
									[switchId]="'ds-power-alwaysUSB'"
									(toggleOnOff)="onToggleOfAlwaysOnUsb($event)">
									<div class="row">
										<div class="col-auto justify-content-start align-items-center pr-2">
											<i class="icomoon icomoon-LE-Charging-USB2x"></i>
										</div>
										<div class="col-auto px-0 align-self-center seperator"
											id="always-on-usb-or"
											attr.aria-label="always-on-usb-or">
											{{'device.deviceSettings.power.powerSettings.or' | translate}}
										</div>
										<div class="col-auto pl-2">
											<i class="icomoon icomoon-LE-Charging-USB---SS2x"></i>
										</div>
									</div>
									<div class="row">
										<div class="col px-5">
											<vtr-ui-checkbox *ngIf="usbChargingInBatteryModeStatus"
												[isMetricsEnabled]=true
												[metricsParent]='metricsParent'
												[metricsItem]="'cb.power-settings.always-on-usb'"
												[componentId]="'cb-always-on-usb'"
												[disabled]="!toggleAlwaysOnUsbFlag"
												[value]="usbChargingCheckboxFlag"
												[checked]="usbChargingCheckboxFlag"
												[label]="'device.deviceSettings.power.powerSettings.alwaysUSB.checkbox' | translate"
												(toggle)='onUsbChargingStatusChange($event)'>
											</vtr-ui-checkbox>
										</div>
									</div>
								</vtr-ui-row-switch>
							</li>
							<!-- End Always on USB -->

							<!-- Start Easy Resume -->
							<li class="common-li-padding"
								*ngIf="!isDesktopMachine && showEasyResumeSection">
								<vtr-ui-row-switch
									[title]="'device.deviceSettings.power.powerSettings.easyResume.title' | translate"
									[caption]="'device.deviceSettings.power.powerSettings.easyResume.description' | translate"
									[isSwitchVisible]=true
									[isLastChild]=true
									[isSwitchChecked]='toggleEasyResumeStatus'
									[leftIcon]="['icomoon','icomoon-LE-Easy-resume2x']"
									[rightIcon]="['far', 'question-circle']"
									[tooltipText]="'device.deviceSettings.power.powerSettings.easyResume.tooltip' | translate"
									[switchId]="'ds-power-easyResume'"
									(toggleOnOff)="onToggleOfEasyResume($event)">
								</vtr-ui-row-switch>
							</li>
							<!-- End Easy Resume -->
						</ul>
					</vtr-container-collapsible>
				</div>
			</div>
			<!-- ****************** End Power Section ******************************** -->

			<!-- ****************** Start Energy Star Section ************************ -->
			<div class="row pt-5 smart-settings-card"
				*ngIf="isEnergyStarProduct">
				<div class="col-12 mx-auto container-card">
                    <vtr-container-collapsible
                        [headerLevel]="3"
						componentName="'device.deviceSettings.power.energyStar.title' | translate"
						[tabIndex]="0"
						[cardTitle]="'device.deviceSettings.power.energyStar.title' | translate"
						[isCollapsed]="false"
						[collapseLinkId]="'device-settings-power-otherSettings'">
						<div class="row energystar-container">
							<div class="col-3 col-sm-4 col-md-2">
								<img class="img-fluid mx-auto d-block"
									role="img"
									id="energystar-image"
									attr.aria-label="energystar-image"
									src="assets/images/hardware-settings/energystar.png">
							</div>
							<div class="col-9 col-sm-8 col-md-10 pl-0 align-self-center">
								<h4 class="energystar-text"
									id="power-energyStar-description">
									{{'device.deviceSettings.power.energyStar.description' | translate}}
								</h4>
							</div>
						</div>

					</vtr-container-collapsible>
				</div>
			</div>
			<!-- ****************** End Energy Star Section ************************ -->
		</div>
	</div>
</div>
