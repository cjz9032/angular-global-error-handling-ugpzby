<div class="vtr-battery-gauge-reset">
	<div class="no-max-width">
		<vtr-ui-row-switch [title]="'device.deviceSettings.power.batterySettings.gaugeReset.title' | translate"
			[name]="'battery-gauge-reset-title'"
			[caption]="'device.deviceSettings.power.batterySettings.gaugeReset.description' | translate"
			[isSwitchVisible]="false"
			[showChildContent]="true"
			[leftIcon]="['fal', 'battery-full']"
			[switchId]="'ds-power-battery-batteryGaugeReset'">
			<div class="container-fluid">
				<div *ngIf="batteryGaugeResetInfo && batteryGaugeResetInfo.length>0">
					<div class="row pt-1"
						*ngFor="let battery of batteryGaugeResetInfo; let i=index">
						<div class="col px-20">
							<div class="battery-text"
								id=""
								attr.aria-label="">
								{{ headings[i] | translate }}
							</div>
							<div class="battery-gauge-info py-3">

								<!-- Initial State Battery Gauge Reset -->
								<div>
									<div class="row">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.barCode' | translate}}
										</div>
										<div class="col-8 label-value">{{battery.Barcode}}</div>
									</div>
								</div>

								<!-- Battery Gauge Reset Progress -->
								<div *ngIf="battery.IsResetRunning">
									<div class="row"
										*ngIf="isValid(battery.Stage) && isValid(battery.StageNum)">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.progress' | translate}}
										</div>
										<div class="col-8 label-value"
											*ngIf="battery.Stage==1||battery.Stage==3">
											{{'device.deviceSettings.power.batterySettings.gaugeReset.progressText1' | translate : stageParams}}
										</div>
										<div class="col-8 label-value"
											*ngIf="battery.Stage==2">
											{{'device.deviceSettings.power.batterySettings.gaugeReset.progressText2' | translate : stageParams}}
										</div>
									</div>
									<div class="row"
										*ngIf="isValid(remainingPercentages[i])">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.remaining' | translate}}
										</div>
										<div class="col-8 label-value">{{remainingPercentages[i]}}<span>%</span></div>
									</div>
									<div class="row"
										*ngIf="isValid(battery.Starttime)">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.startTime' | translate}}
										</div>
										<div class="col-8 label-value">
											{{battery.Starttime | date : 'M/d/yyyy h:mm:ss a'}}</div>
									</div>
								</div>

								<!-- Last Battery Gauge reset result -->
								<div *ngIf="!battery.IsResetRunning">
									<div class="row"
										*ngIf="isValid(battery.LastResetTime) || isValid(battery.ResetErrorLog)">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.lastReset' | translate}}
										</div>
										<div class="col-8 label-value">
											{{battery.LastResetTime | date : 'M/d/yyyy h:mm:ss a'}}
											<br *ngIf="isValid(battery.LastResetTime)">
											{{'device.deviceSettings.power.batterySettings.gaugeReset.resetLog.' + battery.ResetErrorLog | translate}}
										</div>
									</div>
									<div class="row"
										*ngIf="isValid(battery.FCCbefore) && isValid(battery.FCCafter)">
										<div class="col-4 label-text">
											{{ 'device.deviceSettings.power.batterySettings.gaugeReset.fullChargeCapacity' | translate}}
										</div>
										<div class="col-8 label-value"
											[innerHTML]="'device.deviceSettings.power.batterySettings.gaugeReset.FCCText' | translate: FCCParams">
										</div>
									</div>
								</div>

								<div class="row battery-gauge-btn"
									[class.stop-btn]="battery.IsResetRunning"
									[class.disabled-btn]="resetBtnDisabled[i] || !isACAttached">
									<vtr-ui-button metricsItem="Battery.Gauge.RESET"
										metricsParent="Page.Settings"
										metricsEvent="FeatureClick"
										[isFullWidth]="true"
										[disabled]=""
										id="myDevice-settings-battery-gauge-reset-stop-btn"
										[linkId]="'myDevice-settings-battery-gauge-reset-stop-btn'"
										[label]="btnLabelText[i] | translate"
										aria-label="myDevice-settings-battery-details-btn"
										(click)="onBatteryGaugeReset(i)"></vtr-ui-button>
								</div>
							</div>
						</div>
					</div>
					<div class="row px-20 pt-3"
						*ngIf="!isACAttached">
						<span class="warning-note">
							{{'device.deviceSettings.power.batterySettings.gaugeReset.note' | translate}}
						</span>
					</div>
				</div>
			</div>
		</vtr-ui-row-switch>
	</div>
</div>
