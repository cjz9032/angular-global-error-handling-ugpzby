<div class="vtr-battery-gauge-reset">
	<div class="no-max-width">
		<vtr-ui-row-switch [title]="'device.deviceSettings.power.batterySettings.batteryGaugeReset.title' | translate"
			[name]="'battery-gauge-reset-title'"
			[caption]="'device.deviceSettings.power.batterySettings.batteryGaugeReset.description' | translate"
			[isSwitchVisible]="false"
			[showChildContent]="true"
			[leftIcon]="['fal', 'battery-full']"
			[switchId]="'ds-power-battery-batteryGaugeReset'">
			<div class="container-fluid">
				<div class="row pt-1"
					*ngFor="let battery of batteryGaugeResetInfo; let i=index">
					<div class="col px-20">
						<div class="battery-text"
							id=""
							attr.aria-label="">
							{{ 'device.deviceSettings.batteryGauge.subtitle' | translate }}
						</div>
						<div class="battery-gauge-info py-3">

							<!-- Initial State Battery Gauge Reset -->
							<div>
								<div class="row">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.barcode' | translate}}
									</div>
									<div class="col-8 label-value">{{battery.Barcode}}</div>
								</div>
							</div>

							<!-- Battery Gauge Reset Progress -->
							<div *ngIf="battery.IsResetRunning">
								<div class="row"
									*ngIf="isValid(battery.Stage) && isValid(battery.StageNum)">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.progress' | translate}}
									</div>
									<div class="col-8 label-value"
										*ngIf="battery.Stage==1||battery.Stage==3">
										{{'device.deviceSettings.power.batterySettings.batteryGaugeReset.progressText1' | translate : stageParams}}
									</div>
									<div class="col-8 label-value"
										*ngIf="battery.Stage==2">
										{{'device.deviceSettings.power.batterySettings.batteryGaugeReset.progressText2' | translate : stageParams}}
									</div>
								</div>
								<div class="row"
									*ngIf="isValid(remainingPercentages[i])">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.remaining' | translate}}
									</div>
									<div class="col-8 label-value">{{remainingPercentages[i]}}<span>%</span></div>
								</div>
								<div class="row"
									*ngIf="isValid(battery.Starttime)">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.startTime' | translate}}
									</div>
									<div class="col-8 label-value">{{battery.Starttime}}</div>
								</div>
							</div>

							<!-- Last Battery Gauge reset result -->
							<div *ngIf="!battery.IsResetRunning">
								<div class="row"
									*ngIf="isValid(battery.LastResetTime) || isValid(battery.ResetErrorLog)">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.lastReset' | translate}}
									</div>
									<div class="col-8 label-value">
										{{battery.LastResetTime}}
										<br *ngIf="isValid(battery.LastResetTime)">
										{{'device.deviceSettings.power.batterySettings.batteryGaugeReset.resetLog.' + battery.ResetErrorLog | translate}}
									</div>
								</div>
								<div class="row"
									*ngIf="isValid(battery.FCCbefore) && isValid(battery.FCCafter)">
									<div class="col-4 label-text">
										{{ 'device.deviceSettings.power.batterySettings.batteryGaugeReset.fullChargeCapacity' | translate}}
									</div>
									<div class="col-8 label-value"
										[innerHTML]="'device.deviceSettings.power.batterySettings.batteryGaugeReset.FCCText' | translate: FCCParams">
									</div>
								</div>
							</div>

							<div class="row battery-gauge-btn"
								[class.stop-btn]="battery.IsResetRunning"
								[class.disabled-btn]="resetBtnDisabled[i]">
								<vtr-ui-button metricsItem="Battery.Gauge.RESET"
									metricsParent="Page.Settings"
									metricsEvent="FeatureClick"
									[isFullWidth]="true"
									[disabled]=""
									id="myDevice-settings-battery-gauge-reset-stop-btn"
									[linkId]="'myDevice-settings-battery-gauge-reset-stop-btn'"
									[label]="btnLabelText[i]| translate"
									aria-label="myDevice-settings-battery-details-btn"
									(click)="onBatteryGaugeReset(i)"></vtr-ui-button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</vtr-ui-row-switch>
	</div>
</div>
