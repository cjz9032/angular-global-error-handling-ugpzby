<section class="vtr-widget-landing-security">
    <div *ngFor="let item of items let i=index" class="item">
        <div *ngIf="item" class="">
			<div class="title-box row flex-nowrap align-items-center no-gutters mb-2">
				<span class="col-1 basis-width" [ngClass]="['icomoon', 'icomoon-' + item.icon]"></span>
				<div class="col-11 pl-3 row align-items-center justify-content-between flex-nowrap">
					<h3 class="mb-0" id="sa-ov-widget-security-title-{{i+1}}">{{item.title}}</h3>
					<span [hidden]="item.showOwn" class="badge text-ellipsis ml-auto"
						title=""
						role="text"
						id="sa-ov-widget-security-status-{{i+1}}"
						[ngClass]="{'status-enabled':item.status === 'enabled' || item.status === 'installed' ,
						'status-disabled': item.status === 'disabled' || item.status === 'not-installed',
						'status-loading': item.status === 'loading' || item.status === 'installing' || item.status === 'failedLoad'}"
						[ngbTooltip]="item.detail" tooltipClass="vtr-system-tooltip" container="body"
						>
						{{item.detail}}</span>
					<span [hidden]="!item.showOwn" class="badge text-ellipsis status-haveOwn ml-auto"
						title=""
						role="text"
						id="sa-ov-widget-security-badgeContent-{{i+1}}"
						[ngbTooltip]="badgeContent | translate" tooltipClass="vtr-system-tooltip" container="body"
						>
						{{badgeContent | translate}}</span>
					<a [hidden]="item.status !== 'failedLoad'"
						class="ml-3"
						href="javascript:void(0);"
						(click)="retry(item)">{{'common.ui.retry' | translate}}</a>
				</div>
			</div>
			<div class="desc-box row no-gutters">
				<div class="col-1 basis-width"></div>
				<section class="landing-content col-11 pl-3">
					<p id="sa-ov-widget-security-content-{{i+1}}" role="text">{{item.content}}</p>
					<button mat-flat-button *ngIf="!item.showOwn && item.buttonLink"
						id="{{item.id}}"
						[color]="(item.status === 'enabled' || item.status === 'installed') ? 'accent':'primary'"
						class="mw-100 m-0 text-truncate font-weight-semibold uppercase btn-size-small"
						[routerLink]="item.buttonLink"
						routerLinkActive="active"
						[ngbTooltip]="item.buttonLabel" tooltipClass="vtr-system-tooltip" container="body"
						vtrMetrics
						metricsEvent="FeatureClick"
						[metricsItem]="item.id"
					>{{item.buttonLabel}}</button>
					<button mat-flat-button *ngIf="item.buttonHref"
						id="{{item.id}}"
						[color]="item.status === 'enabled'?'accent':'primary'"
						class="mw-100 m-0 text-truncate font-weight-semibold uppercase btn-size-small"
						(click)="goToSettings(item.buttonHref)"
						[ngbTooltip]="item.buttonLabel" tooltipClass="vtr-system-tooltip" container="body"
						vtrMetrics
						metricsEvent="FeatureClick"
						[metricsItem]="item.id"
					>{{item.buttonLabel}}</button>
					<button mat-flat-button *ngIf="item.launch"
						id="{{item.id}}"
						[color]="item.status === 'enabled'?'accent':'primary'"
						class="mw-100 m-0 text-truncate font-weight-semibold uppercase btn-size-small"
						(click)="item.launch()"
						[ngbTooltip]="item.buttonLabel" tooltipClass="vtr-system-tooltip" container="body"
						vtrMetrics
						metricsEvent="FeatureClick"
						[metricsItem]="item.id"
					>{{item.buttonLabel}}</button>
					<div *ngIf="!item.noneCheck" class="custom-control custom-checkbox">
						<mat-checkbox
							[id]="'customCheck-'+item.id"
							class="font-size-xs"
							[ariaLabel]="'defaultUnchecked'"
							[value]="item.showOwn"
							[checked]="item.showOwn"
							(change)="haveOwn(item.showOwn, item.id)"
							vtrMetrics
							metricsEvent="featureClick"
							metricsParent="security"
							[metricsItem]="(item.showOwn ? 'haveOwn' :'notHaveOwn') + ':' +item.id"
						>{{item.ownTitle}}</mat-checkbox>
					</div>
				</section>
			</div>
        </div>
        <hr>
    </div>
</section>
