<div class="wifi-security-invitation-dialog" role="dialog">
	<div class="content-container" *ngIf="!startJoin">
		<h1 *ngIf="!joinSuccess" [innerHTML]="header | translate" role="none"></h1>
		<p *ngIf="!joinSuccess" class="description header-description pb-3"
			[innerHTML]="headerDescription | translate">
		</p>
		<p *ngIf="!joinSuccess" class="description mt-5 mb-3"
			[innerHTML]="description | translate" role="text">
		</p>
		<mat-form-field class="w-100" appearance="fill-customize" floatLabel="always" *ngIf="!joinSuccess">
			<input matInput #domInput
				id="chs-btn-inviatation-input"
				class="invitation-input-box uppercase font-weight-bold"
				maxLength="6"
				[formControl]="invitationForm"
				[(ngModel)]="invitationCode"
				(keyup)="KeyPress($event)"
				(keyup.enter)="joinGroupBy(invitationCode)"
				aria-label="Input box, enter a maximum of six letters"
				aria-labelledby="ws-invitation-modal-errorMsg"
				placeholder="{{'security.homeprotection.invitationcode.invitationCode' | translate}}">
			<mat-error *ngIf="invitationForm.invalid" id="ws-invitation-modal-errorMsg" [innerHTML]="'security.homeprotection.invitationcode.fail' | translate"></mat-error>
		</mat-form-field>
		<div class="join-info">
			<div class="d-flex flex-column" [ngClass]="{'joinGroupSuccess':joinSuccess}">
				<div *ngIf="joinSuccess" class="successIcon pb-5">
					<img [src]=" 'assets/images/connected-home-security/success-join.svg' | svgInline | async">
				</div>
				<div class="success pl-3" *ngIf="joinSuccess" role="text" tabindex="-1" #successMsg [innerHTML]="'security.homeprotection.invitationcode.success' | translate"></div>
			</div>
		</div>
		<div class="divider mt-5" *ngIf="!joinSuccess"></div>
		<div class="d-flex flex-row">
			<div class="ml-0 mr-4 pl-0 mt-4">
				<vtr-ui-button *ngIf="!joinSuccess"
					metricsEvent="featureClick"
					metricsItem="connect"
					(onClick)="joinGroupBy(invitationCode)"
					[title]="'security.homeprotection.invitationcode.connect' | translate"
					[label]="'security.homeprotection.invitationcode.connect' | translate"
					[isDisabled]="invitationCode.length !== 6"
					[btnHeight]=true
					linkId="chs-btn-inviatation-connect">
				</vtr-ui-button>
				<button id="chs-btn-inviatation-cancel" class="btn btn-default modal-button cancel-button"
					vtrMetrics
					metricsItem="CHSInvitationCancelButton"
					metricsEvent="featureClick"
					metricsParent="{{metricsParent}}"
					mat-dialog-close
					*ngIf="!joinSuccess"
					[innerHTML]="'security.homeprotection.invitationcode.cancel' | translate">
				</button>
			</div>
		</div>
	</div>
	<div class="loading-container flex-column" *ngIf="startJoin">
		<div class="spinner-border text-primary progress-spinner" role="status"></div>
		<div class="connecting mt-5" role="text" tabindex="-1" #connectingMsg [innerHTML]="'security.homeprotection.invitationcode.connecting' | translate"></div>
	</div>

	<div class="btn-modal-close">
		<button
			mat-dialog-close
			class="position-relative float-right closeButton"
			id="chs-btn-inviatation-close"
			vtrMetrics
			metricsItem="CHSInvitationCloseButton"
			metricsEvent="FeatureClick"
			[metricsParent]="metricsParent"
		>
			<mat-icon class="icon close-icon">close</mat-icon>
		</button>
	</div>
</div>
