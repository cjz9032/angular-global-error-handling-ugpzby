<div class="modal-body vtr-modal-scan-failure">
   <div class="row justify-content-end">
      <button type="button" class="close" (click)="closeModal()">
         <fa-icon [icon]="['fas', 'times']"></fa-icon>
      </button>
   </div>

  <div class="modal-information">
    <div class="title">{{ 'hardwareScan.scanFailureModal.title' | translate }}</div>
    <div class="description">{{ 'hardwareScan.scanFailureModal.problemDetected'  | translate }}</div>

    <div class="modules">
      <li class="list-module" *ngFor="let module of failedModules; let id = index">
        <div class="module-row">
          <fa-icon aria-hidden="true" aria-labelledby="exclamation-icon" class="warning" [icon]="['fas', 'exclamation-circle']">
          </fa-icon>
          <span class="module-name">{{ module.moduleName }}</span>
        </div>
        <div *ngIf="module.moduleId == 'storage'">
          <li class="list-device" *ngFor="let device of module.devices; let id = index">
            <span class="description device-name">{{ device.deviceName }}</span>
          </li>
        </div>
      </li>
    </div>

    <div *ngIf="hasFailedRbsDevice; else withoutRBS">
      <div class="description" [innerHTML]="'hardwareScan.scanFailureModal.suggestedActionRbs' | translate"></div>
      <div class="row">
        <div class="col button-row">
          <vtr-ui-button id="rbsButton" tabindex="1" (click)="goToRBSPage()"
            [tooltipText]="'hardwareScan.scanFailureModal.supportButtonText' | translate"
            [label]="'hardwareScan.scanFailureModal.recoverBadSectorsButtonText' | translate">
          </vtr-ui-button>
          <button type="button" id="supportButtonWithRBS" attr.aria-label="supportButtonWithRBS"
            class="btn btn-link support-button" (click)="openSupportPage()">{{'hardwareScan.scanFailureModal.supportButtonText' | translate }}</button>
        </div>
      </div>
	</div>

    <ng-template #withoutRBS>
      <div class="description">
        <p [innerHTML]="'hardwareScan.scanFailureModal.suggestedActionSupport' | translate"></p>
      </div>
      <div class="row">
        <div class="col button-row">
          <vtr-ui-button id="supportButtonWithoutRBS" tabindex="1" (click)="openSupportPage()"
            [tooltipText]="'hardwareScan.scanFailureModal.supportButtonText' | translate"
            [label]="'hardwareScan.scanFailureModal.supportButtonText' | translate">
          </vtr-ui-button>
        </div>
      </div>
   </ng-template>

</div>

